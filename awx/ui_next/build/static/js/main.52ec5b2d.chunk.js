(this.webpackJsonpui_next=this.webpackJsonpui_next||[]).push([[0],{299:function(e,t,a){e.exports=a.p+"static/media/brand-logo.6549f233.svg"},430:function(e,t,a){e.exports=a.p+"static/media/brand-logo.6549f233.svg"},433:function(e,t){e.exports={languageData:{plurals:function(e,t){return"other"}},messages:{404:"404","> add":"> add","> edit":"> edit","AWX Logo":"AWX Logo",About:"About","AboutModal Logo":"AboutModal Logo",Access:"Access",Add:"Add","Add Roles":"Add Roles","Add Team Roles":"Add Team Roles","Add User Roles":"Add User Roles",Administration:"Administration",Admins:"Admins","Ansible Environment":"Ansible Environment","Ansible Version":"Ansible Version",Applications:"Applications","Apply roles":"Apply roles","Are you sure you want to delete:":"Are you sure you want to delete:","Are you sure you want to remove {0} access from {1}?  Doing so affects all members of the team.":function(e){return["Are you sure you want to remove ",e("0")," access from ",e("1"),"?  Doing so affects all members of the team."]},"Are you sure you want to remove {0} access from {username}?":function(e){return["Are you sure you want to remove ",e("0")," access from ",e("username"),"?"]},Authentication:"Authentication","Authentication Settings":"Authentication Settings","Brand Image":"Brand Image",Cancel:"Cancel","Cannot find organization with ID":"Cannot find organization with ID","Cannot find resource.":"Cannot find resource.","Cannot find route {0}.":function(e){return["Cannot find route ",e("0"),"."]},Close:"Close",Collapse:"Collapse","Copyright 2018 Red Hat, Inc.":"Copyright 2018 Red Hat, Inc.","Copyright 2019 Red Hat, Inc.":"Copyright 2019 Red Hat, Inc.","Create New Organization":"Create New Organization",Created:"Created","Credential Types":"Credential Types",Credentials:"Credentials","Current page":"Current page",Dashboard:"Dashboard",Delete:"Delete","Delete {0}":function(e){return["Delete ",e("0")]},"Delete {itemName}":function(e){return["Delete ",e("itemName")]},Description:"Description",Details:"Details",Edit:"Edit","Edit Details":"Edit Details",Expand:"Expand",Failure:"Failure",First:"First","Go to first page":"Go to first page","Go to last page":"Go to last page","Go to next page":"Go to next page","Go to previous page":"Go to previous page",Help:"Help","If you {0} want to remove access for this particular user, please remove them from the team.":function(e){return["If you ",e("0")," want to remove access for this particular user, please remove them from the team."]},Info:"Info","Instance Groups":"Instance Groups",Integrations:"Integrations","Invalid username or password. Please try again.":"Invalid username or password. Please try again.",Inventories:"Inventories","Inventory Scripts":"Inventory Scripts","Items Per Page":"Items Per Page","Items per page":"Items per page","Items {itemMin} \u2013 {itemMax} of {count}":function(e){return["Items ",e("itemMin")," \u2013 ",e("itemMax")," of ",e("count")]},Jobs:"Jobs","Jobs Settings":"Jobs Settings",Last:"Last","Last Modified":"Last Modified","Last Name":"Last Name",License:"License","Loading...":"Loading...",Logout:"Logout","Management Jobs":"Management Jobs",Members:"Members",Modified:"Modified","My View":"My View",Name:"Name",Next:"Next","No {0} Found":function(e){return["No ",e("0")," Found"]},"Notification Templates":"Notification Templates",Notifications:"Notifications","Organization Add":"Organization Add","Organization detail tabs":"Organization detail tabs",Organizations:"Organizations","Organizations List":"Organizations List",Page:"Page","Page <0/> of {pageCount}":function(e){return["Page <0/> of ",e("pageCount")]},"Page Number":"Page Number",Pagination:"Pagination",Password:"Password","Per Page":"Per Page","Please add {0} to populate this list":function(e){return["Please add ",e("0")," to populate this list"]},"Please add {0} {itemName} to populate this list":function(e){return["Please add ",e("0")," ",e("itemName")," to populate this list"]},"Portal Mode":"Portal Mode",Previous:"Previous","Primary Navigation":"Primary Navigation",Projects:"Projects","Remove {0} Access":function(e){return["Remove ",e("0")," Access"]},Resources:"Resources",Save:"Save",Schedules:"Schedules",Search:"Search","Search text input":"Search text input",Select:"Select","Select Input":"Select Input","Select Users Or Teams":"Select Users Or Teams","Select a row to delete":"Select a row to delete","Select all":"Select all","Select items from list":"Select items from list","Select the Instance Groups for this Organization to run on.":"Select the Instance Groups for this Organization to run on.","Select {header}":function(e){return["Select ",e("header")]},Selected:"Selected",Settings:"Settings",Sort:"Sort",Successful:"Successful",System:"System","System Settings":"System Settings",Team:"Team","Team Roles":"Team Roles",Teams:"Teams",Templates:"Templates","This field must not be blank":"This field must not be blank","This field must not exceed {max} characters":function(e){return["This field must not exceed ",e("max")," characters"]},"Toggle notification failure":"Toggle notification failure","Toggle notification success":"Toggle notification success","Use Default {label}":function(e){return["Use Default ",e("label")]},User:"User","User Details":"User Details","User Interface":"User Interface","User Interface Settings":"User Interface Settings","User Roles":"User Roles",Username:"Username",Users:"Users",Views:"Views","Welcome to Ansible {brandName}! Please Sign In.":function(e){return["Welcome to Ansible ",e("brandName"),"! Please Sign In."]},"You do not have permission to delete the following {0}: {itemsUnableToDelete}":function(e){return["You do not have permission to delete the following ",e("0"),": ",e("itemsUnableToDelete")]},"You have been logged out.":"You have been logged out.","add {currentTab}":function(e){return["add ",e("currentTab")]},"adding {currentTab}":function(e){return["adding ",e("currentTab")]},"cancel delete":"cancel delete","confirm delete":"confirm delete","confirm removal of {currentTab}/cancel and go back to {currentTab} view.":function(e){return["confirm removal of ",e("currentTab"),"/cancel and go back to ",e("currentTab")," view."]},"delete {currentTab}":function(e){return["delete ",e("currentTab")]},"deleting {currentTab} association with orgs":function(e){return["deleting ",e("currentTab")," association with orgs"]},"edit view":"edit view",items:"items","of {pageCount}":function(e){return["of ",e("pageCount")]},pages:"pages","per page":"per page","save/cancel and go back to view":"save/cancel and go back to view","save/cancel and go back to {currentTab} view":function(e){return["save/cancel and go back to ",e("currentTab")," view"]},"select organization {itemId}":function(e){return["select organization ",e("itemId")]},"{0}":function(e){return[e("0")]},"{0} List":function(e){return[e("0")," List"]},"{currentTab} detail view":function(e){return[e("currentTab")," detail view"]},"{itemMin} - {itemMax} of {count}":function(e){return[e("itemMin")," - ",e("itemMax")," of ",e("count")]}}}},434:function(e,t){e.exports={languageData:{plurals:function(e,t){var a=String(e).split("."),n=!a[1],r=Number(a[0])==e,i=r&&a[0].slice(-1),l=r&&a[0].slice(-2);return t?1==i&&11!=l?"one":2==i&&12!=l?"two":3==i&&13!=l?"few":"other":1==e&&n?"one":"other"}},messages:{404:"404","> add":"> add","> edit":"> edit","AWX Logo":"AWX Logo",About:"About","AboutModal Logo":"AboutModal Logo",Access:"Access",Add:"Add","Add Roles":"Add Roles","Add Team Roles":"Add Team Roles","Add User Roles":"Add User Roles",Administration:"Administration",Admins:"Admins","Ansible Environment":"Ansible Environment","Ansible Version":"Ansible Version",Applications:"Applications","Apply roles":"Apply roles","Are you sure you want to delete:":"Are you sure you want to delete:","Are you sure you want to remove {0} access from {1}?  Doing so affects all members of the team.":function(e){return["Are you sure you want to remove ",e("0")," access from ",e("1"),"?  Doing so affects all members of the team."]},"Are you sure you want to remove {0} access from {username}?":function(e){return["Are you sure you want to remove ",e("0")," access from ",e("username"),"?"]},Authentication:"Authentication","Authentication Settings":"Authentication Settings","Brand Image":"Brand Image",Cancel:"Cancel","Cannot find organization with ID":"Cannot find organization with ID","Cannot find resource.":"Cannot find resource.","Cannot find route {0}.":function(e){return["Cannot find route ",e("0"),"."]},Close:"Close",Collapse:"Collapse","Copyright 2018 Red Hat, Inc.":"Copyright 2018 Red Hat, Inc.","Copyright 2019 Red Hat, Inc.":"Copyright 2019 Red Hat, Inc.","Create New Organization":"Create New Organization",Created:"Created","Credential Types":"Credential Types",Credentials:"Credentials","Current page":"Current page",Dashboard:"Dashboard",Delete:"Delete","Delete {0}":function(e){return["Delete ",e("0")]},"Delete {itemName}":function(e){return["Delete ",e("itemName")]},Description:"Description",Details:"Details",Edit:"Edit","Edit Details":"Edit Details",Expand:"Expand",Failure:"Failure",First:"First","Go to first page":"Go to first page","Go to last page":"Go to last page","Go to next page":"Go to next page","Go to previous page":"Go to previous page",Help:"Help","If you {0} want to remove access for this particular user, please remove them from the team.":function(e){return["If you ",e("0")," want to remove access for this particular user, please remove them from the team."]},Info:"Info","Instance Groups":"Instance Groups",Integrations:"Integrations","Invalid username or password. Please try again.":"Invalid username or password. Please try again.",Inventories:"Inventories","Inventory Scripts":"Inventory Scripts","Items Per Page":"Items Per Page","Items per page":"Items per page","Items {itemMin} \u2013 {itemMax} of {count}":function(e){return["Items ",e("itemMin")," \u2013 ",e("itemMax")," of ",e("count")]},Jobs:"Jobs","Jobs Settings":"Jobs Settings",Last:"Last","Last Modified":"Last Modified","Last Name":"Last Name",License:"License","Loading...":"Loading...",Logout:"Logout","Management Jobs":"Management Jobs",Members:"Members",Modified:"Modified","My View":"My View",Name:"Name",Next:"Next","No {0} Found":function(e){return["No ",e("0")," Found"]},"Notification Templates":"Notification Templates",Notifications:"Notifications","Organization Add":"Organization Add","Organization detail tabs":"Organization detail tabs",Organizations:"Organizations","Organizations List":"Organizations List",Page:"Page","Page <0/> of {pageCount}":function(e){return["Page <0/> of ",e("pageCount")]},"Page Number":"Page Number",Pagination:"Pagination",Password:"Password","Per Page":"Per Page","Please add {0} to populate this list":function(e){return["Please add ",e("0")," to populate this list"]},"Please add {0} {itemName} to populate this list":function(e){return["Please add ",e("0")," ",e("itemName")," to populate this list"]},"Portal Mode":"Portal Mode",Previous:"Previous","Primary Navigation":"Primary Navigation",Projects:"Projects","Remove {0} Access":function(e){return["Remove ",e("0")," Access"]},Resources:"Resources",Save:"Save",Schedules:"Schedules",Search:"Search","Search text input":"Search text input",Select:"Select","Select Input":"Select Input","Select Users Or Teams":"Select Users Or Teams","Select a row to delete":"Select a row to delete","Select all":"Select all","Select items from list":"Select items from list","Select the Instance Groups for this Organization to run on.":"Select the Instance Groups for this Organization to run on.","Select {header}":function(e){return["Select ",e("header")]},Selected:"Selected",Settings:"Settings",Sort:"Sort",Successful:"Successful",System:"System","System Settings":"System Settings",Team:"Team","Team Roles":"Team Roles",Teams:"Teams",Templates:"Templates","This field must not be blank":"This field must not be blank","This field must not exceed {max} characters":function(e){return["This field must not exceed ",e("max")," characters"]},"Toggle notification failure":"Toggle notification failure","Toggle notification success":"Toggle notification success","Use Default {label}":function(e){return["Use Default ",e("label")]},User:"User","User Details":"User Details","User Interface":"User Interface","User Interface Settings":"User Interface Settings","User Roles":"User Roles",Username:"Username",Users:"Users",Views:"Views","Welcome to Ansible {brandName}! Please Sign In.":function(e){return["Welcome to Ansible ",e("brandName"),"! Please Sign In."]},"You do not have permission to delete the following {0}: {itemsUnableToDelete}":function(e){return["You do not have permission to delete the following ",e("0"),": ",e("itemsUnableToDelete")]},"You have been logged out.":"You have been logged out.","add {currentTab}":function(e){return["add ",e("currentTab")]},"adding {currentTab}":function(e){return["adding ",e("currentTab")]},"cancel delete":"cancel delete","confirm delete":"confirm delete","confirm removal of {currentTab}/cancel and go back to {currentTab} view.":function(e){return["confirm removal of ",e("currentTab"),"/cancel and go back to ",e("currentTab")," view."]},"delete {currentTab}":function(e){return["delete ",e("currentTab")]},"deleting {currentTab} association with orgs":function(e){return["deleting ",e("currentTab")," association with orgs"]},"edit view":"edit view",items:"items","of {pageCount}":function(e){return["of ",e("pageCount")]},pages:"pages","per page":"per page","save/cancel and go back to view":"save/cancel and go back to view","save/cancel and go back to {currentTab} view":function(e){return["save/cancel and go back to ",e("currentTab")," view"]},"select organization {itemId}":function(e){return["select organization ",e("itemId")]},"{0}":function(e){return[e("0")]},"{0} List":function(e){return[e("0")," List"]},"{currentTab} detail view":function(e){return[e("currentTab")," detail view"]},"{itemMin} - {itemMax} of {count}":function(e){return[e("itemMin")," - ",e("itemMax")," of ",e("count")]}}}},486:function(e,t,a){e.exports=a(902)},902:function(e,t,a){"use strict";a.r(t),a.d(t,"main",(function(){return aO}));var n=a(0),r=a.n(n),i=a(40),l=a.n(i),o=a(116),c=a(4);a(542);function s(e){var t="; ".concat(e).split("; userLoggedIn=");return 2===t.length&&"true"===t.pop().split(";").shift()}var u,d=a(18),m=a(920),p=(u={},Object(d.a)(u,m.b.xs,"./images/pfbg_576.jpg"),Object(d.a)(u,m.b.xs2x,"./images/pfbg_576@2x.jpg"),Object(d.a)(u,m.b.sm,"./images/pfbg_768.jpg"),Object(d.a)(u,m.b.sm2x,"./images/pfbg_768@2x.jpg"),Object(d.a)(u,m.b.lg,"./images/pfbg_2000.jpg"),u),b=function(e){var t=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{src:p}),t)},f=a(9),h=a(12),v=a(10),_=a(11),y=a(921),E=a(922),g=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Applications"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),j=Object(c.withI18n)()(g),O=a(3),k=r.a.createContext({}),w=k.Provider,C=k.Consumer,S=a(13),x=a(923),T=a(924),I=a(925),D=a(8),N=a(5);function L(){var e=Object(S.a)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n"]);return L=function(){return e},e}var R=Object(N.b)(y.a)(L()),A=function e(t){var a=t.breadcrumbConfig,i=Object(o.j)(),l=a[i.url],c=r.a.createElement(T.a,{key:i.url},r.a.createElement(D.b,{to:i.url},l));return i.isExact&&(c=r.a.createElement(I.a,{key:"breadcrumb-heading"},l)),l||(c=null),r.a.createElement(n.Fragment,null,c,r.a.createElement(o.b,{path:"".concat(i.url,"/:path")},r.a.createElement(e,{breadcrumbConfig:a})))},P=function(e){var t=e.breadcrumbConfig,a=y.b.light;return r.a.createElement(R,{variant:a},r.a.createElement(x.a,null,r.a.createElement(o.b,{path:"/:path"},r.a.createElement(A,{breadcrumbConfig:t}))))},z=a(2),U=a.n(z),F=a(6),M=a(928),q=a(948),V=a(926);function B(){var e=Object(S.a)(["\n  --pf-c-card--first-child--PaddingTop: 0;\n  --pf-c-card--child--PaddingLeft: 0;\n  --pf-c-card--child--PaddingRight: 0;\n  --pf-c-card__header--not-last-child--PaddingBottom: 24px;\n  --pf-c-card__header--not-last-child--PaddingBottom: 0;\n  display: flex;\n"]);return B=function(){return e},e}var W=Object(N.b)(V.a)(B()),G=a(927);function H(){var e=Object(S.a)(["\n  padding-top: var(--pf-c-card--first-child--PaddingTop);\n"]);return H=function(){return e},e}var J=Object(N.b)(G.a)(H());G.a.displayName="PFCardBody";var K=J;function Y(){var e=Object(S.a)(["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"]);return Y=function(){return e},e}var X=N.b.div(Y());var Z=function(e){var t=e.children;return r.a.createElement(X,null,r.a.createElement(M.a,null,t))},Q=a(28),$=a(440),ee=a(929);function te(e){var t=e.linkTo,a=e.i18n,n=(e.i18nHash,Object(Q.a)(e,["linkTo","i18n","i18nHash"]));return t?r.a.createElement(D.b,Object.assign({className:"pf-c-button pf-m-plain","aria-label":a._({id:"Close"}),title:a._({id:"Close"}),to:t},n),r.a.createElement(ee.a,null)):r.a.createElement($.a,Object.assign({variant:"plain","aria-label":a._({id:"Close"})},n),r.a.createElement(ee.a,null))}te.defaultProps={linkTo:null};var ae=Object(c.withI18n)()(te),ne=a(7),re=a(410),ie=a.n(re),le=a(19),oe=a(15);function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,page_size:5,order_by:"name"},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["page","page_size"],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["modified","created"];if(!e)throw new Error("a QS namespace is required");return t.order_by||(t.order_by="name"),{namespace:e,defaultParams:t,integerFields:a,dateFields:n}}function se(e,t){if(!t)return e.defaultParams||{};var a=function(e,t){var a={};return t.replace(/^\?/,"").split("&").map((function(e){return e.split("=")})).forEach((function(t){var n=Object(O.a)(t,2),r=n[0],i=n[1];if(r&&ue(e.namespace,r)){var l=e.namespace?decodeURIComponent(r.substr(e.namespace.length+1)):decodeURIComponent(r),o=function(e,t,a){if(e.integerFields&&e.integerFields.some((function(e){return e===t})))return parseInt(a,10);return decodeURIComponent(a)}(e,l,i);a[l]=ve(a[l],o)}})),a}(e,t);return function(e,t){return Object(oe.a)(Object(oe.a)({},e.defaultParams),t)}(e,a)}var ue=function(e,t){return e?t.startsWith("".concat(e,".")):!t.includes(".")};var de=function(e){return e?Object.keys(e).sort().filter((function(t){return null!==e[t]})).map((function(t){return[t,e[t]]})).map((function(e){var t=Object(O.a)(e,2);return function(e,t){if(Array.isArray(t))return t.map((function(t){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))})).join("&");return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))}(t[0],t[1])})).join("&"):""};var me=function(e,t){if(!t)return"";var a=be({},t,e.defaultParams);return de(pe(e.namespace,a))},pe=function(e,t){if(!e)return t;var a={};return Object.keys(t).forEach((function(n){a["".concat(e,".").concat(n)]=t[n]})),a};function be(e,t,a){var n=Object(oe.a)({},e.defaultParams);return Object.keys(t).forEach((function(e){var r=fe(t[e],a[e]);null!==r&&(n[e]=r)})),n}function fe(e,t){if(e===t)return null;if(Array.isArray(t))return t.reduce(fe,e);if(Array.isArray(e)){var a=e.indexOf(t);if(a>-1&&e.splice(a,1),1===e.length)return e[0]}return e}function he(e,t){var a={};return Object.keys(e).forEach((function(n){a[n]=ve(e[n],t[n])})),Object.keys(t).forEach((function(e){a[e]||(a[e]=t[e])})),a}function ve(e,t){return t||""===t?e||""===e?function(e){var t=Object(le.a)(new Set(e));if(1===t.length)return t[0];return t}(Array.isArray(e)?e.concat(t):[e].concat(t)):t:e}function _e(e,t){return Object(oe.a)(Object(oe.a)({},e),t)}var ye=ie.a.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken",paramsSerializer:function(e){return de(e)}}),Ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,a=arguments.length>1?arguments[1]:void 0;Object(f.a)(this,e),this.http=t,this.baseUrl=a}return Object(h.a)(e,[{key:"create",value:function(e){return this.http.post(this.baseUrl,e)}},{key:"destroy",value:function(e){return this.http.delete("".concat(this.baseUrl).concat(e,"/"))}},{key:"read",value:function(e){return this.http.get(this.baseUrl,{params:e})}},{key:"readDetail",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/"))}},{key:"readOptions",value:function(){return this.http.options(this.baseUrl)}},{key:"replace",value:function(e,t){return this.http.put("".concat(this.baseUrl).concat(e,"/"),t)}},{key:"update",value:function(e,t){return this.http.patch("".concat(this.baseUrl).concat(e,"/"),t)}},{key:"copy",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/copy/"),t)}}]),e}(),ge=function(e){return function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"relaunch",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/relaunch/"),t)}},{key:"readRelaunch",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/relaunch/"))}}]),a}(e)},je=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/ad_hoc_commands/",n}return a}(ge(Ee)),Oe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/config/",n}return a}(Ee),ke=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/credential_types/",n}return Object(h.a)(a,[{key:"loadAllTypes",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:["machine","cloud","net","ssh","vault"],a=200,e.next=4,this.read({page_size:a});case 4:if(n=e.sent,r=n.data,i=r.next,l=r.results,o=[],!i){e.next=15;break}return e.next=12,this.read({page_size:a,page:2});case 12:c=e.sent,s=c.data,o=s.results;case 15:return e.abrupt("return",l.concat(o).filter((function(e){return t.includes(e.kind)})));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(Ee),we=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/credentials/",n.readAccessList=n.readAccessList.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"readAccessList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/access_list/"),{params:t})}}]),a}(Ee),Ce=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/groups/",n.associateHost=n.associateHost.bind(Object(ne.a)(n)),n.createHost=n.createHost.bind(Object(ne.a)(n)),n.readAllHosts=n.readAllHosts.bind(Object(ne.a)(n)),n.disassociateHost=n.disassociateHost.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"associateHost",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/hosts/"),{id:t})}},{key:"createHost",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/hosts/"),t)}},{key:"readAllHosts",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/all_hosts/"),{params:t})}},{key:"disassociateHost",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/hosts/"),{id:t.id,disassociate:!0})}}]),a}(Ee),Se=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/hosts/",n.readFacts=n.readFacts.bind(Object(ne.a)(n)),n.readAllGroups=n.readAllGroups.bind(Object(ne.a)(n)),n.readGroupsOptions=n.readGroupsOptions.bind(Object(ne.a)(n)),n.associateGroup=n.associateGroup.bind(Object(ne.a)(n)),n.disassociateGroup=n.disassociateGroup.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"readFacts",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/ansible_facts/"))}},{key:"readAllGroups",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/all_groups/"),{params:t})}},{key:"readGroupsOptions",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/groups/"))}},{key:"associateGroup",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/groups/"),{id:t})}},{key:"disassociateGroup",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/groups/"),{id:t.id,disassociate:!0})}}]),a}(Ee),xe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/instance_groups/",n}return a}(Ee),Te=function(e){return function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"readInstanceGroups",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/instance_groups/"),{params:t})}},{key:"associateInstanceGroup",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/instance_groups/"),{id:t})}},{key:"disassociateInstanceGroup",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/instance_groups/"),{id:t,disassociate:!0})}}]),a}(e)},Ie=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/inventories/",n.readAccessList=n.readAccessList.bind(Object(ne.a)(n)),n.readHosts=n.readHosts.bind(Object(ne.a)(n)),n.readHostDetail=n.readHostDetail.bind(Object(ne.a)(n)),n.readGroups=n.readGroups.bind(Object(ne.a)(n)),n.readGroupsOptions=n.readGroupsOptions.bind(Object(ne.a)(n)),n.promoteGroup=n.promoteGroup.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"readAccessList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/access_list/"),{params:t})}},{key:"createHost",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/hosts/"),t)}},{key:"readHosts",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/hosts/"),{params:t})}},{key:"readHostDetail",value:function(){var e=Object(F.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("".concat(this.baseUrl).concat(t,"/hosts/?id=").concat(a));case 2:if(n=e.sent,r=n.data.results,!Array.isArray(r)||!r.length){e.next=6;break}return e.abrupt("return",r[0]);case 6:throw new Error("How did you get here? Host not found for Inventory ID: ".concat(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"readGroups",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/groups/"),{params:t})}},{key:"readGroupsOptions",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/groups/"))}},{key:"readHostsOptions",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/hosts/"))}},{key:"promoteGroup",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/groups/"),{id:t,disassociate:!0})}},{key:"readSources",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/inventory_sources/"),{params:t})}},{key:"readSourceDetail",value:function(){var e=Object(F.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("".concat(this.baseUrl).concat(t,"/inventory_sources/?id=").concat(a));case 2:if(n=e.sent,r=n.data.results,!Array.isArray(r)||!r.length){e.next=6;break}return e.abrupt("return",r[0]);case 6:throw new Error("How did you get here? Source not found for Inventory ID: ".concat(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"syncAllSources",value:function(e){return this.http.post("".concat(this.baseUrl).concat(e,"/update_inventory_sources/"))}}]),a}(Te(Ee)),De=function(e){return function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"launchUpdate",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/update/"),t)}},{key:"readLaunchUpdate",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/update/"))}}]),a}(e)},Ne=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/inventory_sources/",n.createSyncStart=n.createSyncStart.bind(Object(ne.a)(n)),n.destroyGroups=n.destroyGroups.bind(Object(ne.a)(n)),n.destroyHosts=n.destroyHosts.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"createSyncStart",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/update/"),{extra_vars:t})}},{key:"destroyGroups",value:function(e){return this.http.delete("".concat(this.baseUrl).concat(e,"/groups/"))}},{key:"destroyHosts",value:function(e){return this.http.delete("".concat(this.baseUrl).concat(e,"/hosts/"))}}]),a}(De(Ee)),Le=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/inventory_updates/",n.createSyncCancel=n.createSyncCancel.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"createSyncCancel",value:function(e){return this.http.post("".concat(this.baseUrl).concat(e,"/cancel/"))}}]),a}(De(Ee)),Re=function(e){return function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"readOptionsNotificationTemplates",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/notification_templates/"))}},{key:"readNotificationTemplates",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/notification_templates/"),t)}},{key:"readNotificationTemplatesStarted",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/notification_templates_started/"),{params:t})}},{key:"readNotificationTemplatesSuccess",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/notification_templates_success/"),{params:t})}},{key:"readNotificationTemplatesError",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/notification_templates_error/"),{params:t})}},{key:"associateNotificationTemplatesStarted",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/notification_templates_started/"),{id:t})}},{key:"disassociateNotificationTemplatesStarted",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/notification_templates_started/"),{id:t,disassociate:!0})}},{key:"associateNotificationTemplatesSuccess",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/notification_templates_success/"),{id:t})}},{key:"disassociateNotificationTemplatesSuccess",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/notification_templates_success/"),{id:t,disassociate:!0})}},{key:"associateNotificationTemplatesError",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/notification_templates_error/"),{id:t})}},{key:"disassociateNotificationTemplatesError",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/notification_templates_error/"),{id:t,disassociate:!0})}},{key:"associateNotificationTemplate",value:function(e,t,a){if("started"===a)return this.associateNotificationTemplatesStarted(e,t);if("success"===a)return this.associateNotificationTemplatesSuccess(e,t);if("error"===a)return this.associateNotificationTemplatesError(e,t);throw new Error("Unsupported notificationType for association: ".concat(a))}},{key:"disassociateNotificationTemplate",value:function(e,t,a){if("started"===a)return this.disassociateNotificationTemplatesStarted(e,t);if("success"===a)return this.disassociateNotificationTemplatesSuccess(e,t);if("error"===a)return this.disassociateNotificationTemplatesError(e,t);throw new Error("Unsupported notificationType for disassociation: ".concat(a))}}]),a}(e)},Ae=function(e){return function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"createSchedule",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/schedules/"),t)}},{key:"readSchedules",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/schedules/"),{params:t})}},{key:"readScheduleOptions",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/schedules/"))}}]),a}(e)},Pe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/job_templates/",n.launch=n.launch.bind(Object(ne.a)(n)),n.readLaunch=n.readLaunch.bind(Object(ne.a)(n)),n.associateLabel=n.associateLabel.bind(Object(ne.a)(n)),n.disassociateLabel=n.disassociateLabel.bind(Object(ne.a)(n)),n.readCredentials=n.readCredentials.bind(Object(ne.a)(n)),n.readAccessList=n.readAccessList.bind(Object(ne.a)(n)),n.readWebhookKey=n.readWebhookKey.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"launch",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/launch/"),t)}},{key:"readLaunch",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/launch/"))}},{key:"associateLabel",value:function(e,t,a){return this.http.post("".concat(this.baseUrl).concat(e,"/labels/"),{name:t.name,organization:a})}},{key:"disassociateLabel",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/labels/"),{id:t.id,disassociate:!0})}},{key:"readCredentials",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/credentials/"),{params:t})}},{key:"associateCredentials",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/credentials/"),{id:t})}},{key:"disassociateCredentials",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/credentials/"),{id:t,disassociate:!0})}},{key:"readAccessList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/access_list/"),{params:t})}},{key:"readScheduleList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/schedules/"),{params:t})}},{key:"readSurvey",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/survey_spec/"))}},{key:"updateSurvey",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/survey_spec/"),t)}},{key:"destroySurvey",value:function(e){return this.http.delete("".concat(this.baseUrl).concat(e,"/survey_spec/"))}},{key:"readWebhookKey",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/webhook_key/"))}},{key:"updateWebhookKey",value:function(e){return this.http.post("".concat(this.baseUrl).concat(e,"/webhook_key/"))}}]),a}(Ae(Te(Re(Ee)))),ze={playbook:"/jobs/",project:"/project_updates/",system:"/system_jobs/",inventory:"/inventory_updates/",command:"/ad_hoc_commands/",workflow:"/workflow_jobs/"},Ue=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/jobs/",n}return Object(h.a)(a,[{key:"readDetail",value:function(e,t){return this.http.get("/api/v2".concat(ze[t]).concat(e,"/"))}},{key:"readEvents",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"playbook",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t="playbook"===a?"/api/v2".concat(ze[a]).concat(e,"/job_events/"):"/api/v2".concat(ze[a]).concat(e,"/events/"),this.http.get(t,{params:n})}}]),a}(ge(Ee)),Fe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/labels/",n}return a}(Ee),Me=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/me/",n}return a}(Ee),qe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/notification_templates/",n}return a}(Ee),Ve=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/organizations/",n}return Object(h.a)(a,[{key:"readAccessList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/access_list/"),{params:t})}},{key:"readTeams",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/teams/"),{params:t})}}]),a}(Te(Re(Ee))),Be=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/projects/",n.readAccessList=n.readAccessList.bind(Object(ne.a)(n)),n.readInventories=n.readInventories.bind(Object(ne.a)(n)),n.readPlaybooks=n.readPlaybooks.bind(Object(ne.a)(n)),n.readSync=n.readSync.bind(Object(ne.a)(n)),n.sync=n.sync.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"readAccessList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/access_list/"),{params:t})}},{key:"readInventories",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/inventories/"))}},{key:"readPlaybooks",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/playbooks/"))}},{key:"readSync",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/update/"))}},{key:"sync",value:function(e){return this.http.post("".concat(this.baseUrl).concat(e,"/update/"))}}]),a}(Ae(De(Re(Ee)))),We=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/project_updates/",n}return a}(Ee),Ge=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/",n.redirectURL="/api/v2/config/",n}return Object(h.a)(a,[{key:"login",value:function(){var e=Object(F.a)(U.a.mark((function e(t,a){var n,r,i,l,o,c,s,u,d=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:this.redirectURL,r="".concat(this.baseUrl,"login/"),i=encodeURIComponent(t),l=encodeURIComponent(a),o=encodeURIComponent(n),c="username=".concat(i,"&password=").concat(l,"&next=").concat(o),s={"Content-Type":"application/x-www-form-urlencoded"},e.next=9,this.http.get(r,{headers:s});case 9:return e.next=11,this.http.post(r,c,{headers:s});case 11:return u=e.sent,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){return this.http.get("".concat(this.baseUrl,"logout/"))}}]),a}(Ee),He=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/schedules/",n}return Object(h.a)(a,[{key:"createPreview",value:function(e){return this.http.post("".concat(this.baseUrl,"preview/"),e)}},{key:"readCredentials",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/credentials/"),t)}},{key:"readZoneInfo",value:function(){return this.http.get("".concat(this.baseUrl,"zoneinfo/"))}}]),a}(Ee),Je=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/system_jobs/",n}return a}(Ee),Ke=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/teams/",n}return Object(h.a)(a,[{key:"associateRole",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/roles/"),{id:t})}},{key:"disassociateRole",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/roles/"),{id:t,disassociate:!0})}},{key:"readRoles",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/roles/"),{params:t})}},{key:"readRoleOptions",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/roles/"))}}]),a}(Ee),Ye=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/unified_job_templates/",n}return a}(Ee),Xe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/unified_jobs/",n}return a}(Ee),Ze=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/users/",n}return Object(h.a)(a,[{key:"associateRole",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/roles/"),{id:t})}},{key:"disassociateRole",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/roles/"),{id:t,disassociate:!0})}},{key:"readOrganizations",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/organizations/"),{params:t})}},{key:"readRoles",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/roles/"),{params:t})}},{key:"readRoleOptions",value:function(e){return this.http.options("".concat(this.baseUrl).concat(e,"/roles/"))}}]),a}(Ee),Qe=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/workflow_approval_templates/",n}return a}(Ee),$e=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/workflow_jobs/",n}return Object(h.a)(a,[{key:"readNodes",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/workflow_nodes/"),{params:t})}}]),a}(ge(Ee)),et=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/workflow_job_template_nodes/",n}return Object(h.a)(a,[{key:"createApprovalTemplate",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/create_approval_template/"),t)}},{key:"associateSuccessNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/success_nodes/"),{id:t})}},{key:"associateFailureNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/failure_nodes/"),{id:t})}},{key:"associateAlwaysNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/always_nodes/"),{id:t})}},{key:"disassociateSuccessNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/success_nodes/"),{id:t,disassociate:!0})}},{key:"disassociateFailuresNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/failure_nodes/"),{id:t,disassociate:!0})}},{key:"disassociateAlwaysNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/always_nodes/"),{id:t,disassociate:!0})}},{key:"readCredentials",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/credentials/"))}}]),a}(Ee),tt=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).baseUrl="/api/v2/workflow_job_templates/",n}return Object(h.a)(a,[{key:"readWebhookKey",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/webhook_key/"))}},{key:"updateWebhookKey",value:function(e){return this.http.post("".concat(this.baseUrl).concat(e,"/webhook_key/"))}},{key:"associateLabel",value:function(e,t,a){return this.http.post("".concat(this.baseUrl).concat(e,"/labels/"),{name:t.name,organization:a})}},{key:"createNode",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/workflow_nodes/"),t)}},{key:"disassociateLabel",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/labels/"),{id:t.id,disassociate:!0})}},{key:"launch",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/launch/"),t)}},{key:"readLaunch",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/launch/"))}},{key:"readNodes",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/workflow_nodes/"),{params:t})}},{key:"readAccessList",value:function(e,t){return this.http.get("".concat(this.baseUrl).concat(e,"/access_list/"),{params:t})}},{key:"readSurvey",value:function(e){return this.http.get("".concat(this.baseUrl).concat(e,"/survey_spec/"))}},{key:"updateSurvey",value:function(e,t){return this.http.post("".concat(this.baseUrl).concat(e,"/survey_spec/"),t)}},{key:"destroySurvey",value:function(e){return this.http.delete("".concat(this.baseUrl).concat(e,"/survey_spec/"))}}]),a}(Ae(Re(Ee))),at=new je,nt=new Oe,rt=new we,it=new ke,lt=new Ce,ot=new Se,ct=new xe,st=new Ie,ut=new Ne,dt=new Le,mt=new Pe,pt=new Ue,bt=new Fe,ft=new Me,ht=new qe,vt=new Ve,_t=new Be,yt=new We,Et=new Ge,gt=new He,jt=new Je,Ot=new Ke,kt=new Ye,wt=new Xe,Ct=new Ze,St=new Qe,xt=new $e,Tt=new et,It=new tt;function Dt(){var e=Object(S.a)(["\n  font-size: 14px;\n"]);return Dt=function(){return e},e}function Nt(){var e=Object(S.a)(["\n  padding: 10px 20px;\n"]);return Nt=function(){return e},e}function Lt(){var e=Object(S.a)(["\n  display: flex;\n  flex: 0 0 5px;\n  background-color: ",";\n"]);return Lt=function(){return e},e}function Rt(){var e=Object(S.a)(["\n  min-width: 200px;\n  border: 1px solid var(--pf-global--BorderColor--200);\n  border-radius: var(--pf-global--BorderRadius--sm);\n  border: 1px solid;\n  border-color: ",";\n  margin-right: 20px;\n  display: flex;\n  cursor: pointer;\n"]);return Rt=function(){return e},e}var At=N.b.div(Rt(),(function(e){return e.isSelected?"var(--pf-global--active-color--100)":"var(--pf-global--BorderColor--200)"})),Pt=N.b.div(Lt(),(function(e){return e.isSelected?"var(--pf-global--active-color--100)":null})),zt=N.b.div(Nt()),Ut=N.b.p(Dt());function Ft(e){var t=e.label,a=e.description,n=e.onClick,i=e.isSelected,l=e.dataCy;return r.a.createElement(At,{onClick:n,onKeyPress:n,role:"button",tabIndex:"0","data-cy":l,isSelected:i},r.a.createElement(Pt,{isSelected:i}),r.a.createElement(zt,null,r.a.createElement("b",null,t),r.a.createElement(Ut,null,a)))}Ft.defaultProps={label:"",description:"",isSelected:!1};var Mt=Ft,qt=a(1017);function Vt(){var e=Object(S.a)(["\n  .pf-c-data-toolbar__content {\n    padding: 0 !important;\n  }\n"]);return Vt=function(){return e},e}qt.a.displayName="PFWizard";var Bt=Object(N.b)(qt.a)(Vt()),Wt=a(1),Gt=a.n(Wt),Ht=Object(Wt.shape)({descendent_roles:Object(Wt.arrayOf)(Wt.string),role:Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string.isRequired,description:Wt.string,user_capabilities:Object(Wt.shape)({unattach:Wt.bool}).isRequired})}),Jt=(Object(Wt.shape)({id:Wt.number.isRequired,username:Wt.string.isRequired,url:Wt.string.isRequired,email:Wt.string,first_name:Wt.string,last_name:Wt.string,is_superuser:Wt.bool,is_system_auditor:Wt.bool,created:Wt.string,last_login:Wt.string,ldap_dn:Wt.string,related:Object(Wt.shape)({}),summary_fields:Object(Wt.shape)({direct_access:Object(Wt.arrayOf)(Ht).isRequired,indirect_access:Object(Wt.arrayOf)(Ht).isRequired}).isRequired,type:Wt.string}),Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string.isRequired,custom_virtualenv:Wt.string,description:Wt.string,max_hosts:Wt.number,related:Object(Wt.shape)(),summary_fields:Object(Wt.shape)({object_roles:Object(Wt.shape)()}),type:Wt.string,url:Wt.string,created:Wt.string,modified:Wt.string})),Kt=(Object(Wt.shape)({defaultParams:Object(Wt.shape)().isRequired,namespace:Wt.string,integerFields:Object(Wt.arrayOf)(Wt.string).isRequired}),Object(Wt.shape)({name:Wt.string.isRequired,description:Wt.string,inventory:Wt.number,job_type:Object(Wt.oneOf)(["run","check"]),playbook:Wt.string,project:Wt.number})),Yt=(Object(Wt.shape)({name:Wt.string.isRequired,description:Wt.string,inventory:Wt.number}),Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string,description:Wt.string,groups_with_active_failures:Wt.number,has_active_failures:Wt.bool,has_inventory_sources:Wt.bool,hosts_with_active_failures:Wt.number,inventory_sources_with_failures:Wt.number,kind:Wt.string,organization_id:Wt.number,total_groups:Wt.number,total_hosts:Wt.number,total_inventory_sources:Wt.number})),Xt=Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string.isRequired}),Zt=Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string.isRequired}),Qt=Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string.isRequired,cloud:Wt.bool,kind:Wt.string}),$t=Object(Wt.shape)({id:Wt.number.isRequired,type:Object(Wt.oneOf)(["project"]),url:Wt.string,related:Object(Wt.shape)(),summary_fields:Object(Wt.shape)({organization:Jt,credential:Qt,last_job:Object(Wt.shape)({}),last_update:Object(Wt.shape)({}),created_by:Object(Wt.shape)({}),modified_by:Object(Wt.shape)({}),object_roles:Object(Wt.shape)({}),user_capabilities:Object(Wt.objectOf)(Wt.bool)}),created:Wt.string,name:Wt.string.isRequired,description:Wt.string,scm_type:Object(Wt.oneOf)(["","git","hg","svn","insights"]),scm_url:Wt.string,scm_branch:Wt.string,scm_refspec:Wt.string,scm_clean:Wt.bool,scm_delete_on_update:Wt.bool,credential:Wt.number,status:Object(Wt.oneOf)(["new","pending","waiting","running","successful","failed","error","canceled","never updated","ok","missing"]),organization:Wt.number,scm_update_on_launch:Wt.bool,scm_update_cache_timeout:Wt.number,allow_override:Wt.bool,custom_virtualenv:Wt.string}),ea=Object(Wt.shape)({status:Wt.string,started:Wt.string,finished:Wt.string,job_type:Wt.string,summary_fields:Object(Wt.shape)({job_template:Kt,project:$t,inventory:Yt,instance_group:Xt,credentials:Object(Wt.arrayOf)(Qt),labels:Object(Wt.shape)({count:Wt.number,results:Object(Wt.arrayOf)(Zt)})}),scm_revision:Wt.string,limit:Object(Wt.oneOfType)([Wt.number,Wt.string]),verbosity:Wt.number,execution_mode:Wt.string,job_slice_number:Wt.number,job_slice_count:Wt.number,extra_vars:Wt.string,artifacts:Object(Wt.shape)({})}),ta=(Object(Wt.shape)({id:Wt.number.isRequired,type:Object(Wt.oneOf)(["host"]),url:Wt.string,related:Object(Wt.shape)(),summary_fields:Object(Wt.shape)({inventory:Yt,last_job:ea,last_job_host_summary:Object(Wt.shape)({}),created_by:Object(Wt.shape)({}),modified_by:Object(Wt.shape)({}),user_capabilities:Object(Wt.objectOf)(Wt.bool),groups:Object(Wt.shape)({}),recent_jobs:Object(Wt.arrayOf)(ea)}),created:Wt.string,modified:Wt.string,name:Wt.string.isRequired,description:Wt.string,inventory:Wt.number.isRequired,enabled:Wt.bool,instance_id:Wt.string,variables:Wt.string,last_job:Wt.number,last_job_host_summary:Wt.number}),Object(Wt.shape)({id:Wt.number.isRequired,name:Wt.string.isRequired,organization:Wt.number}),Object(Wt.shape)({id:Wt.number.isRequired,type:Object(Wt.oneOf)(["user"]),url:Wt.string,related:Object(Wt.shape)(),summary_fields:Object(Wt.shape)({user_capabilities:Object(Wt.objectOf)(Wt.bool)}),created:Wt.string,username:Wt.string,first_name:Wt.string,last_name:Wt.string,email:Wt.string.isRequired,is_superuser:Wt.bool,is_system_auditor:Wt.bool,ldap_dn:Wt.string,last_login:Wt.string}),Object(Wt.shape)({id:Wt.number.isRequired,username:Wt.string.isRequired,first_name:Wt.string,last_name:Wt.string}),Object(Wt.shape)({id:Wt.number.isRequired,type:Object(Wt.oneOf)(["group"]),url:Wt.string,related:Object(Wt.shape)({}),summary_fields:Object(Wt.shape)({}),created:Wt.string,modified:Wt.string,name:Wt.string.isRequired,description:Wt.string,inventory:Wt.number,variables:Wt.string}),Object(Wt.arrayOf)(Object(Wt.exact)({name:Wt.string.isRequired,key:Wt.string.isRequired,isDefault:Wt.bool,isBoolean:Wt.bool,booleanLabels:Object(Wt.shape)({true:Wt.string.isRequired,false:Wt.string.isRequired}),options:Object(Wt.arrayOf)(Object(Wt.arrayOf)(Wt.string,Wt.string))})),Object(Wt.arrayOf)(Object(Wt.exact)({name:Wt.string.isRequired,key:Wt.string.isRequired})),Object(Wt.shape)({rrule:Wt.string.isRequired,id:Wt.number.isRequired,type:Wt.string,url:Wt.string,related:Object(Wt.shape)({}),summary_fields:Object(Wt.shape)({}),created:Wt.string,modified:Wt.string,name:Wt.string.isRequired,description:Wt.string,extra_data:Object(Wt.oneOfType)([Wt.string,Object(Wt.shape)({})]),inventory:Wt.number,scm_branch:Wt.string,job_type:Wt.string,job_tags:Wt.string,skip_tags:Wt.string,limit:Wt.string,diff_mode:Wt.bool,verbosity:Wt.number,unified_job_template:Wt.number,enabled:Wt.bool,dtstart:Wt.string,dtend:Wt.string,next_run:Wt.string,timezone:Wt.string,until:Wt.string}),Object(Wt.shape)({question_name:Wt.string,question_description:Wt.string,required:Wt.bool,type:Wt.string,variable:Wt.string,min:Wt.number,max:Wt.number,default:Wt.string,choices:Wt.string})),aa=(Object(Wt.shape)({name:Wt.string,description:Wt.string,spec:Object(Wt.arrayOf)(ta)}),a(415)),na=a(48),ra=a(943),ia=a(938),la=a(931),oa=a(932),ca=a(933);function sa(){var e=Object(S.a)(["\n  & :not(:last-child) {\n    margin-right: 20px;\n  }\n"]);return sa=function(){return e},e}function ua(){var e=Object(S.a)(["\n  padding: 0;\n  margin: 0;\n  height: 30px;\n  width: 30px;\n  ",";\n"]);return ua=function(){return e},e}var da=Object(N.b)($.a)(ua(),(function(e){return e.isActive?"\n      background-color: #007bba;\n      --pf-c-button--m-plain--active--Color: white;\n      --pf-c-button--m-plain--focus--Color: white;":null})),ma=Object(N.b)(la.a)(sa()),pa=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isCompact,a=e.onCompact,i=e.onExpand,l=e.i18n;return r.a.createElement(n.Fragment,null,r.a.createElement(ma,null,r.a.createElement(da,{variant:"plain","aria-label":l._({id:"Collapse"}),onClick:a,isActive:t},r.a.createElement(oa.a,null))),r.a.createElement(ma,null,r.a.createElement(da,{variant:"plain","aria-label":l._({id:"Expand"}),onClick:i,isActive:!t},r.a.createElement(ca.a,null))))}}]),a}(r.a.Component);pa.defaultProps={isCompact:!0};var ba=Object(c.withI18n)()(pa),fa=a(296),ha=a(45),va=a(1027),_a=a(934),ya=a(1028),Ea=a(1024),ga=a(24),ja=a(175),Oa=a(937),ka=a(906),wa=N.b.div.withConfig({displayName:"Search__NoOptionDropdown",componentId:"hyqzuo-0"})(["align-self:stretch;border:1px solid var(--pf-global--BorderColor--300);padding:5px 15px;white-space:nowrap;border-bottom-color:var(--pf-global--BorderColor--200);"]),Ca=Object(N.b)("div").withConfig({displayName:"Search___StyledDiv",componentId:"hyqzuo-1"})(["",""],(function(e){return e._css})),Sa=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a);var r=(n=t.call(this,e)).props.columns;return n.state={isSearchDropdownOpen:!1,searchKey:r.find((function(e){return e.isDefault})).key,searchValue:"",isFilterDropdownOpen:!1},n.handleSearchInputChange=n.handleSearchInputChange.bind(Object(ne.a)(n)),n.handleDropdownToggle=n.handleDropdownToggle.bind(Object(ne.a)(n)),n.handleDropdownSelect=n.handleDropdownSelect.bind(Object(ne.a)(n)),n.handleSearch=n.handleSearch.bind(Object(ne.a)(n)),n.handleTextKeyDown=n.handleTextKeyDown.bind(Object(ne.a)(n)),n.handleFilterDropdownToggle=n.handleFilterDropdownToggle.bind(Object(ne.a)(n)),n.handleFilterDropdownSelect=n.handleFilterDropdownSelect.bind(Object(ne.a)(n)),n.handleFilterBooleanSelect=n.handleFilterBooleanSelect.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleDropdownToggle",value:function(e){this.setState({isSearchDropdownOpen:e})}},{key:"handleDropdownSelect",value:function(e){var t=e.target,a=this.props.columns,n=t.innerText,r=a.find((function(e){return e.name===n})).key;this.setState({isSearchDropdownOpen:!1,searchKey:r})}},{key:"handleSearch",value:function(e){e.preventDefault();var t=this.state,a=t.searchKey,n=t.searchValue,r=this.props,i=r.onSearch,l=r.qsConfig;n&&(i(l.integerFields.find((function(e){return e===a}))||l.dateFields.find((function(e){return e===a}))?a:"".concat(a,"__icontains"),n),this.setState({searchValue:""}))}},{key:"handleSearchInputChange",value:function(e){this.setState({searchValue:e})}},{key:"handleTextKeyDown",value:function(e){e.key&&"Enter"===e.key&&this.handleSearch(e)}},{key:"handleFilterDropdownToggle",value:function(e){this.setState({isFilterDropdownOpen:e})}},{key:"handleFilterDropdownSelect",value:function(e,t,a){var n=this.props,r=n.onSearch,i=n.onRemove;t.target.checked?r("or__".concat(e),a):i("or__".concat(e),a)}},{key:"handleFilterBooleanSelect",value:function(e,t){(0,this.props.onReplaceSearch)(e,t)}},{key:"render",value:function(){var e=this,t=ha.d.up,a=this.props,i=a.columns,l=a.i18n,o=a.onRemove,c=a.qsConfig,s=a.location,u=this.state,d=u.isSearchDropdownOpen,m=u.searchKey,p=u.searchValue,b=u.isFilterDropdownOpen,f=i.find((function(e){return e.key===m})).name,h=i.filter((function(e){return e.key!==m})).map((function(e){var t=e.key,a=e.name;return r.a.createElement(va.a,{key:t,component:"button"},a)})),v=function(e,t){var a,n=i.find((function(e){return e.key===t}));return(null===n||void 0===n||null===(a=n.options)||void 0===a?void 0:a.length)?n.options.find((function(t){return Object(O.a)(t,1)[0]===e}))[1]:e.toString()},_=function(){var e=se(c,s.search),t={};return i.forEach((function(e){var a=e.name,n=e.key;t[n]={key:n,label:a,chips:[]}})),function(e,t){var a=Object.keys(t.defaultParams||{});return e.filter((function(e){return-1===a.indexOf(e)}))}(Object.keys(e||{}),c).forEach((function(a){var n=a.replace("__icontains","").replace("or__",""),r=i.filter((function(e){var t=e.key;return n===t})).length?i.filter((function(e){var t=e.key;return n===t}))[0].name:n;t[n]={key:a,label:r,chips:[]},Array.isArray(e[a])?e[a].forEach((function(e){return t[n].chips.push({key:"".concat(a,":").concat(e),node:v(e,n)})})):t[n].chips.push({key:"".concat(a,":").concat(e[a]),node:v(e[a],n)})})),t}();return r.a.createElement(na.DataToolbarGroup,{variant:"filter-group"},r.a.createElement(na.DataToolbarItem,null,h.length>0?r.a.createElement(_a.a,{onToggle:this.handleDropdownToggle,onSelect:this.handleDropdownSelect,direction:t,toggle:r.a.createElement(ya.a,{id:"awx-search",onToggle:this.handleDropdownToggle,style:{width:"100%"}},f),isOpen:d,dropdownItems:h}):r.a.createElement(wa,null,f)),i.map((function(t){var a=t.key,i=t.name,s=t.options,u=t.isBoolean,d=t.booleanLabels,f=void 0===d?{}:d;return r.a.createElement(na.DataToolbarFilter,{chips:_[a]?_[a].chips:[],deleteChip:function(e,t){var a=t.key.split(":"),n=Object(fa.a)(a),r=n[0],i=n.slice(1);o(r,i.join(":"))},categoryName:_[a]?_[a].label:a,key:a,showToolbarItem:m===a},s&&r.a.createElement(n.Fragment,null,r.a.createElement(Ea.a,{variant:ga.e.checkbox,"aria-label":i,onToggle:e.handleFilterDropdownToggle,onSelect:function(t,n){return e.handleFilterDropdownSelect(a,t,n)},selections:_[a].chips.map((function(e){var t=e.key.split(":");return Object(fa.a)(t).slice(1).join(":")})),isExpanded:b,placeholderText:"Filter By ".concat(i)},s.map((function(e){var t=Object(O.a)(e,2),a=t[0],n=t[1];return r.a.createElement(ja.a,{key:a,value:a},n)}))))||u&&r.a.createElement(Ea.a,{"aria-label":i,onToggle:e.handleFilterDropdownToggle,onSelect:function(t,n){return e.handleFilterBooleanSelect(a,n)},selections:_[a].chips[0],isExpanded:b,placeholderText:"Filter By ".concat(i)},r.a.createElement(ja.a,{key:"true",value:"true"},f.true||l._({id:"Yes"})),r.a.createElement(ja.a,{key:"false",value:"false"},f.false||l._({id:"No"})))||r.a.createElement(Oa.a,null,r.a.createElement(ka.a,{type:c.integerFields.find((function(e){return e===m}))?"number":"search","aria-label":l._({id:"Search text input"}),value:p,onChange:e.handleSearchInputChange,onKeyDown:e.handleTextKeyDown}),r.a.createElement(Ca,{_css:!p&&"cursor:not-allowed"},r.a.createElement($.a,{variant:$.b.control,isDisabled:!p,"aria-label":l._({id:"Search submit button"}),onClick:e.handleSearch},r.a.createElement(ia.a,null)))))})))}}]),a}(r.a.Component);Sa.defaultProps={onSearch:null,onRemove:null};var xa=Object(c.withI18n)()(Object(o.k)(Sa)),Ta=a(939),Ia=a(940),Da=a(941),Na=a(942);function La(){var e=Object(S.a)(["\n  align-self: stretch;\n  border: 1px solid var(--pf-global--BorderColor--300);\n  padding: 5px 15px;\n  white-space: nowrap;\n  border-bottom-color: var(--pf-global--BorderColor--200);\n"]);return La=function(){return e},e}var Ra=N.b.div(La()),Aa=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n,r,i,l;Object(f.a)(this,a);var o=(n=t.call(this,e)).props,c=o.qsConfig,s=se(c,o.location.search);return s.order_by&&s.order_by.startsWith("-")?(r=s.order_by.substr(1),i="descending"):s.order_by&&(r=s.order_by,i="ascending"),l=!!c.integerFields.find((function(e){return e===r})),n.state={isSortDropdownOpen:!1,sortKey:r,sortOrder:i,isNumeric:l},n.handleDropdownToggle=n.handleDropdownToggle.bind(Object(ne.a)(n)),n.handleDropdownSelect=n.handleDropdownSelect.bind(Object(ne.a)(n)),n.handleSort=n.handleSort.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleDropdownToggle",value:function(e){this.setState({isSortDropdownOpen:e})}},{key:"handleDropdownSelect",value:function(e){var t,a=e.target,n=this.props,r=n.columns,i=n.onSort,l=n.qsConfig,o=this.state.sortOrder,c=a.innerText,s=r.filter((function(e){return e.name===c})),u=Object(O.a)(s,1)[0].key;t=!!l.integerFields.find((function(e){return e===u})),this.setState({isSortDropdownOpen:!1,sortKey:u,isNumeric:t}),i(u,o)}},{key:"handleSort",value:function(){var e=this.props.onSort,t=this.state,a=t.sortKey,n="ascending"===t.sortOrder?"descending":"ascending";this.setState({sortOrder:n}),e(a,n)}},{key:"render",value:function(){var e,t=ha.d.up,a=this.props,i=a.columns,l=a.i18n,o=this.state,c=o.isSortDropdownOpen,s=o.sortKey,u=o.sortOrder,d=o.isNumeric,m=i.filter((function(e){return e.key===s})),p=Object(O.a)(m,1)[0].name,b=i.filter((function(e){return e.key!==s})).map((function(e){var t=e.key,a=e.name;return r.a.createElement(va.a,{key:t,component:"button"},a)}));return e=d?"ascending"===u?Ta.a:Ia.a:"ascending"===u?Da.a:Na.a,r.a.createElement(n.Fragment,null,p&&r.a.createElement(Oa.a,null,b.length>0&&r.a.createElement(_a.a,{onToggle:this.handleDropdownToggle,onSelect:this.handleDropdownSelect,direction:t,isOpen:c,toggle:r.a.createElement(ya.a,{id:"awx-sort",onToggle:this.handleDropdownToggle},p),dropdownItems:b})||r.a.createElement(Ra,null,p),r.a.createElement($.a,{variant:$.b.control,"aria-label":l._({id:"Sort"}),onClick:this.handleSort},r.a.createElement(e,null))))}}]),a}(r.a.Component);Aa.defaultProps={onSort:null};var Pa=Object(c.withI18n)()(Object(o.k)(Aa));function za(){var e=Object(S.a)(["\n  --pf-c-data-toolbar__group--spacer: 24px;\n"]);return za=function(){return e},e}function Ua(){var e=Object(S.a)(["\n  --pf-c-data-toolbar__content--PaddingLeft: 24px;\n  --pf-c-data-toolbar__content--PaddingRight: 8px;\n"]);return Ua=function(){return e},e}var Fa=Object(N.b)(na.DataToolbarContent)(Ua()),Ma=Object(N.b)(na.DataToolbarGroup)(za()),qa=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.clearAllFilters,a=e.searchColumns,i=e.sortColumns,l=e.showSelectAll,o=e.isAllSelected,c=e.isCompact,s=e.onSort,u=e.onSearch,d=e.onReplaceSearch,m=e.onRemove,p=e.onCompact,b=e.onExpand,f=e.onSelectAll,h=e.additionalControls,v=e.i18n,_=e.qsConfig,y=p&&b;return r.a.createElement(na.DataToolbar,{id:"".concat(_.namespace,"-list-toolbar"),clearAllFilters:t,collapseListedFiltersBreakpoint:"lg"},r.a.createElement(Fa,null,l&&r.a.createElement(Ma,null,r.a.createElement(na.DataToolbarItem,null,r.a.createElement(ra.a,{isChecked:o,onChange:f,"aria-label":v._({id:"Select all"}),id:"select-all"}))),r.a.createElement(na.DataToolbarToggleGroup,{toggleIcon:r.a.createElement(ia.a,null),breakpoint:"lg"},r.a.createElement(na.DataToolbarItem,null,r.a.createElement(xa,{qsConfig:_,columns:a,onSearch:u,onReplaceSearch:d,onRemove:m})),r.a.createElement(na.DataToolbarItem,null,r.a.createElement(Pa,{qsConfig:_,columns:i,onSort:s}))),y&&r.a.createElement(Ma,null,r.a.createElement(n.Fragment,null,r.a.createElement(na.DataToolbarItem,null,r.a.createElement(ba,{isCompact:c,onCompact:p,onExpand:b})))),r.a.createElement(Ma,null,h.map((function(e){return r.a.createElement(na.DataToolbarItem,{key:e.key},e)})))))}}]),a}(r.a.Component);qa.defaultProps={clearAllFilters:null,showSelectAll:!1,isAllSelected:!1,isCompact:!1,onCompact:null,onExpand:null,onSearch:null,onReplaceSearch:null,onSelectAll:null,onSort:null,additionalControls:[]};var Va=Object(c.withI18n)()(qa);function Ba(){var e=Object(S.a)(["\n  display: flex;\n  margin-top: 20px;\n  margin-right: 20px;\n  margin-bottom: 20px;\n  justify-content: flex-end;\n\n  & > :not(:first-child) {\n    margin-left: 20px;\n  }\n"]);return Ba=function(){return e},e}var Wa=N.b.div(Ba()),Ga=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearch=n.handleSearch.bind(Object(ne.a)(n)),n.handleReplaceSearch=n.handleReplaceSearch.bind(Object(ne.a)(n)),n.handleSort=n.handleSort.bind(Object(ne.a)(n)),n.handleRemove=n.handleRemove.bind(Object(ne.a)(n)),n.handleRemoveAll=n.handleRemoveAll.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleSearch",value:function(e,t){var a=this.props,n=a.location,r=se(a.qsConfig,n.search);r=_e(r=he(r,Object(d.a)({},e,t)),{page:1}),this.pushHistoryState(r)}},{key:"handleReplaceSearch",value:function(e,t){var a=this.props,n=a.location,r=se(a.qsConfig,n.search);this.pushHistoryState(_e(r,Object(d.a)({},e,t)))}},{key:"handleRemove",value:function(e,t){var a=this.props,n=a.location,r=a.qsConfig,i=se(r,n.search);parseInt(t,10)&&(i=be(r,i,Object(d.a)({},e,parseInt(t,10)))),this.pushHistoryState(be(r,i,Object(d.a)({},e,t)))}},{key:"handleRemoveAll",value:function(){var e=this.props,t=e.location,a=e.qsConfig,n=se(a,t.search),r=Object(oe.a)({},n);delete r.page_size,delete r.order_by,this.pushHistoryState(be(a,n,r))}},{key:"handleSort",value:function(e,t){var a=this.props,n=a.location,r=se(a.qsConfig,n.search);this.pushHistoryState(_e(r,{order_by:"ascending"===t?e:"-".concat(e),page:null}))}},{key:"pushHistoryState",value:function(e){var t=this.props,a=t.history,n=t.qsConfig,r=a.location.pathname,i=me(n,e);a.push(i?"".concat(r,"?").concat(i):r)}},{key:"render",value:function(){var e=this.props,t=e.emptyStateControls,a=e.itemCount,i=e.searchColumns,l=e.sortColumns,o=e.renderToolbar,c=e.qsConfig,s=se(c,e.location.search),u=0===a&&0===Object.keys(s).length;return r.a.createElement(n.Fragment,null,u?r.a.createElement(na.DataToolbar,{id:"".concat(c.namespace,"-list-toolbar"),clearAllFilters:this.handleRemoveAll,collapseListedFiltersBreakpoint:"md"},r.a.createElement(na.DataToolbarContent,null,r.a.createElement(Wa,null,t))):r.a.createElement(n.Fragment,null,o({searchColumns:i,sortColumns:l,onSearch:this.handleSearch,onReplaceSearch:this.handleReplaceSearch,onSort:this.handleSort,onRemove:this.handleRemove,clearAllFilters:this.handleRemoveAll,qsConfig:c})))}}]),a}(r.a.Component);Ga.defaultProps={renderToolbar:function(e){return r.a.createElement(Va,e)}};var Ha=Object(o.k)(Ga),Ja=a(944),Ka=a(945),Ya=a(947),Xa=a(946),Za=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.title,n=void 0===a?"":a,i=e.message,l=void 0===i?"":i;return r.a.createElement(Ja.a,{variant:"full"},r.a.createElement(Ka.a,{icon:Xa.a}),r.a.createElement(E.a,{size:"lg"},n||t._({id:"No items found."})),r.a.createElement(Ya.a,null,l))})),Qa=a(950),$a=a(949);function en(){var e=Object(S.a)(["\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n"]);return en=function(){return e},e}function tn(){var e=Object(S.a)(["\n  max-height: 200px;\n  overflow: scroll;\n"]);return tn=function(){return e},e}function an(){var e=Object(S.a)(["\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n"]);return an=function(){return e},e}var nn=Object(N.b)(q.a)(an()),rn=Object(N.b)(G.a)(tn()),ln=Object(N.b)($a.a)(en()),on=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={isExpanded:!1},n.handleToggle=n.handleToggle.bind(Object(ne.a)(n)),n.renderNetworkError=n.renderNetworkError.bind(Object(ne.a)(n)),n.renderStack=n.renderStack.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleToggle",value:function(){var e=this.state.isExpanded;this.setState({isExpanded:!e})}},{key:"renderNetworkError",value:function(){var e,t,a=this.props.error.response,i=function(e){return(null===e||void 0===e?void 0:e.data)?"string"===typeof e.data?e.data:e.data.detail?e.data.detail:Object.values(e.data).reduce((function(e,t){return e.concat(t)}),[]):null}(a);return r.a.createElement(n.Fragment,null,r.a.createElement(rn,null,null===a||void 0===a||null===(e=a.config)||void 0===e?void 0:e.method.toUpperCase()," ",null===a||void 0===a||null===(t=a.config)||void 0===t?void 0:t.url," ",r.a.createElement("strong",null,null===a||void 0===a?void 0:a.status)),r.a.createElement(rn,null,Array.isArray(i)?r.a.createElement("ul",null,i.map((function(e){return r.a.createElement("li",{key:e},e)}))):i))}},{key:"renderStack",value:function(){var e=this.props.error;return r.a.createElement(rn,null,e.stack)}},{key:"render",value:function(){var e=this.state.isExpanded,t=this.props,a=t.error,n=t.i18n;return r.a.createElement(ln,{toggleText:n._({id:"Details"}),onToggle:this.handleToggle,isExpanded:e},r.a.createElement(nn,null,Object.prototype.hasOwnProperty.call(a,"response")?this.renderNetworkError():this.renderStack()))}}]),a}(n.Component),cn=Object(c.withI18n)()(on);function sn(){return(sn=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et.logout();case 2:window.location.replace("/#/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e){var t=e.error,a=e.children,i=e.isNotFound,l=e.i18n;if(t&&t.response&&401===t.response.status&&!t.response.headers["session-timeout"])return function(){sn.apply(this,arguments)}(),null;var c=i||t&&t.response&&404===t.response.status,s=t&&t.response&&401===t.response.status;return r.a.createElement(n.Fragment,null,s?r.a.createElement(o.a,{to:"/login"}):r.a.createElement(Ja.a,{variant:"full"},r.a.createElement(Ka.a,{icon:Qa.a}),r.a.createElement(E.a,{size:"lg"},c?l._({id:"Not Found"}):l._({id:"Something went wrong..."})),r.a.createElement(Ya.a,null,c?l._({id:"The page you requested could not be found."}):l._({id:"There was an error loading this content. Please reload the page."})," ",a||r.a.createElement(D.b,{to:"/home"},l._({id:"Back to Dashboard."}))),t&&r.a.createElement(cn,{error:t})))}un.defaultProps={error:null,isNotFound:!1};var dn=Object(c.withI18n)()(un);function mn(){var e=Object(S.a)(["\n  --pf-c-empty-state--m-lg--MaxWidth: none;\n"]);return mn=function(){return e},e}var pn=Object(N.b)(Ja.a)(mn()),bn=Object(c.withI18n)()((function(e){var t=e.className,a=e.i18n;return r.a.createElement(pn,{variant:"full",className:t},r.a.createElement(Ya.a,null,a._({id:"Loading..."})))})),fn=a(1022);function hn(){var e=Object(S.a)(["\n      .pf-c-options-menu__toggle-button {\n        display: none;\n      }\n    "]);return hn=function(){return e},e}function vn(){var e=Object(S.a)(["\n  ","\n"]);return vn=function(){return e},e}var _n=Object(N.b)(fn.a)(vn(),(function(e){return e.perPageOptions&&!e.perPageOptions.length&&Object(N.a)(hn())})),yn=function(e){return r.a.createElement(c.I18n,null,(function(t){var a=t.i18n;return r.a.createElement(_n,Object.assign({titles:{items:a._({id:"items"}),page:a._({id:"page"}),pages:a._({id:"pages"}),itemsPerPage:a._({id:"Items per page"}),perPageSuffix:a._({id:"per page"}),toFirstPage:a._({id:"Go to first page"}),toPreviousPage:a._({id:"Go to previous page"}),toLastPage:a._({id:"Go to last page"}),toNextPage:a._({id:"Go to next page"}),optionsToggle:a._({id:"Select"}),currPage:a._({id:"Current page"}),paginationTitle:a._({id:"Pagination"})},dropDirection:ha.c.up},e))}))},En=a(952),gn=a(953),jn=a(954),On=a(955),kn=a(951);function wn(){var e=Object(S.a)(["\n  word-break: break-word;\n"]);return wn=function(){return e},e}kn.a.displayName="PFDataListCell";var Cn=Object(N.b)(kn.a)(wn());Cn.displayName="DataListCell";var Sn=Cn;function xn(){var e=Object(S.a)(["\n  display: grid;\n  grid-template-columns:\n    minmax(70px, max-content)\n    repeat(auto-fit, minmax(60px, max-content));\n  grid-gap: 10px;\n"]);return xn=function(){return e},e}var Tn=Object(N.b)(En.a)(xn());function In(e){var t=e.item;return r.a.createElement(gn.a,{"aria-labelledby":"items-list-item-".concat(t.id),key:t.id,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(Tn,null,r.a.createElement(D.b,{to:{pathname:t.url}},r.a.createElement("b",{id:"items-list-item-".concat(t.id)},t.name))))]})))}var Dn=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleListItemSelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.props,a=t.items,r=t.onRowClick,i=a.find((function(t){return t.id===Number(e)}));r(i)},n.handleSetPage=n.handleSetPage.bind(Object(ne.a)(n)),n.handleSetPageSize=n.handleSetPageSize.bind(Object(ne.a)(n)),n.handleListItemSelect=n.handleListItemSelect.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleSetPage",value:function(e,t){var a=this.props,n=a.history,r=se(a.qsConfig,n.location.search);this.pushHistoryState(_e(r,{page:t}))}},{key:"handleSetPageSize",value:function(e,t,a){var n=this.props,r=n.history,i=se(n.qsConfig,r.location.search);this.pushHistoryState(_e(i,{page_size:t,page:a}))}},{key:"pushHistoryState",value:function(e){var t=this.props,a=t.history,n=t.qsConfig,r=a.location.pathname,i=me(n,e);a.push(i?"".concat(r,"?").concat(i):r)}},{key:"render",value:function(){var e,t=this,a=this.props,i=a.contentError,l=a.hasContentLoading,o=a.emptyStateControls,c=a.items,s=a.itemCount,u=a.qsConfig,d=a.renderItem,m=a.toolbarSearchColumns,p=a.toolbarSortColumns,b=a.pluralizedItemName,f=a.showPageSizeOptions,h=a.location,v=a.i18n,_=a.renderToolbar,y=m.length?m:[{name:v._({id:"Name"}),key:"name",isDefault:!0}],E=p.length?p:[{name:v._({id:"Name"}),key:"name"}],g=se(u,h.search),j=v._({id:"{pluralizedItemName} List",values:{pluralizedItemName:b}}),O=v._({id:"Please add {pluralizedItemName} to populate this list",values:{pluralizedItemName:b}}),k=v._({id:"No {pluralizedItemName} Found",values:{pluralizedItemName:b}});return e=l&&c.length<=0?r.a.createElement(bn,null):i?r.a.createElement(dn,{error:i}):c.length<=0?r.a.createElement(Za,{title:k,message:O}):r.a.createElement(aa.a,{"aria-label":j,onSelectDataListItem:function(e){return t.handleListItemSelect(e)}},c.map(d)),r.a.createElement(n.Fragment,null,r.a.createElement(Ha,{itemCount:s,renderToolbar:_,emptyStateControls:o,searchColumns:y,sortColumns:E,qsConfig:u}),e,c.length?r.a.createElement(yn,{variant:"bottom",itemCount:s,page:g.page||1,perPage:g.page_size,perPageOptions:f?[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50}]:[],onSetPage:this.handleSetPage,onPerPageSelect:this.handleSetPageSize}):null)}}]),a}(r.a.Component);Dn.defaultProps={hasContentLoading:!1,contentError:null,toolbarSearchColumns:[],toolbarSortColumns:[],pluralizedItemName:"Items",showPageSizeOptions:!0,renderItem:function(e){return r.a.createElement(In,{key:e.id,item:e})},renderToolbar:function(e){return r.a.createElement(Va,e)},onRowClick:function(){return null}};var Nn=Object(c.withI18n)()(Object(o.k)(Dn)),Ln=a(1023),Rn=a(1019),An=a(956),Pn=a(957),zn=a(958),Un=a(959),Fn=N.b.div.withConfig({displayName:"AlertModal__Header",componentId:"l9z1bu-0"})(["display:flex;svg{margin-right:16px;}"]),Mn=Object(N.b)(An.a).withConfig({displayName:"AlertModal___StyledExclamationCircleIcon",componentId:"l9z1bu-1"})(["color:var(--pf-global--danger-color--100)"]),qn=Object(N.b)(Pn.a).withConfig({displayName:"AlertModal___StyledTimesCircleIcon",componentId:"l9z1bu-2"})(["color:var(--pf-global--danger-color--100)"]),Vn=Object(N.b)(zn.a).withConfig({displayName:"AlertModal___StyledInfoCircleIcon",componentId:"l9z1bu-3"})(["color:var(--pf-global--info-color--100)"]),Bn=Object(N.b)(Un.a).withConfig({displayName:"AlertModal___StyledCheckCircleIcon",componentId:"l9z1bu-4"})(["color:var(--pf-global--success-color--100)"]),Wn=Object(N.b)(Qa.a).withConfig({displayName:"AlertModal___StyledExclamationTriangleIcon",componentId:"l9z1bu-5"})(["color:var(--pf-global--warning-color--100)"]);function Gn(e){var t=e.isOpen,a=void 0===t?null:t,n=e.title,i=e.variant,l=e.children,o=Object(Q.a)(e,["isOpen","title","variant","children"]),c={danger:r.a.createElement(Mn,{size:"lg"}),error:r.a.createElement(qn,{size:"lg"}),info:r.a.createElement(Vn,{size:"lg"}),success:r.a.createElement(Bn,{size:"lg"}),warning:r.a.createElement(Wn,{size:"lg"})},s=r.a.createElement(Fn,null,i?c[i]:null,r.a.createElement(E.a,{size:"2xl"},n));return r.a.createElement(Rn.a,Object.assign({header:s,isFooterLeftAligned:!0,isOpen:Boolean(a),isSmall:!0,title:n},o),l)}function Hn(e){return!e.summary_fields.user_capabilities.delete}var Jn=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={isModalOpen:!1},n.handleConfirmDelete=n.handleConfirmDelete.bind(Object(ne.a)(n)),n.handleCancelDelete=n.handleCancelDelete.bind(Object(ne.a)(n)),n.handleDelete=n.handleDelete.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleConfirmDelete",value:function(){this.setState({isModalOpen:!0})}},{key:"handleCancelDelete",value:function(){this.setState({isModalOpen:!1})}},{key:"handleDelete",value:function(){(0,this.props.onDelete)(),this.setState({isModalOpen:!1})}},{key:"renderTooltip",value:function(){var e=this.props,t=e.itemsToDelete,a=e.pluralizedItemName,n=e.i18n,i=t.filter(Hn).map((function(e){return e.name})).join(", ");return t.some(Hn)?r.a.createElement("div",null,n._({id:"You do not have permission to delete the following {pluralizedItemName}: {itemsUnableToDelete}",values:{pluralizedItemName:a,itemsUnableToDelete:i}})):t.length?n._({id:"Delete"}):n._({id:"Select a row to delete"})}},{key:"render",value:function(){var e=this.props,t=e.itemsToDelete,a=e.pluralizedItemName,i=e.i18n,l=this.state.isModalOpen,o=i._({id:"Delete {pluralizedItemName}?",values:{pluralizedItemName:a}}),c=0===t.length||t.some(Hn);return r.a.createElement(n.Fragment,null,r.a.createElement(Ln.a,{content:this.renderTooltip(),position:"top"},r.a.createElement("div",null,r.a.createElement($.a,{variant:"danger","aria-label":i._({id:"Delete"}),onClick:this.handleConfirmDelete,isDisabled:c},i._({id:"Delete"})))),l&&r.a.createElement(Gn,{variant:"danger",title:o,isOpen:l,onClose:this.handleCancelDelete,actions:[r.a.createElement($.a,{key:"delete",variant:"danger","aria-label":i._({id:"confirm delete"}),onClick:this.handleDelete},i._({id:"Delete"})),r.a.createElement($.a,{key:"cancel",variant:"secondary","aria-label":i._({id:"cancel delete"}),onClick:this.handleCancelDelete},i._({id:"Cancel"}))]},r.a.createElement("div",null,i._({id:"This action will delete the following:"})),t.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement("strong",null,e.name||e.username),r.a.createElement("br",null))}))))}}]),a}(r.a.Component);Jn.defaultProps={pluralizedItemName:"Items"};var Kn=Object(c.withI18n)()(Jn);function Yn(e){var t=e.linkTo,a=e.onClick,n=e.i18n,i=e.isDisabled;if(!t&&!a)throw new Error("ToolbarAddButton requires either `linkTo` or `onClick` prop");return t?r.a.createElement(Ln.a,{content:n._({id:"Add"}),position:"top"},r.a.createElement($.a,{isDisabled:i,component:D.b,to:t,variant:"primary","aria-label":n._({id:"Add"})},n._({id:"Add"}))):r.a.createElement($.a,{variant:"primary","aria-label":n._({id:"Add"}),onClick:a},n._({id:"Add"}))}Yn.defaultProps={linkTo:null,onClick:null};var Xn=Object(c.withI18n)()(Yn),Zn=a(960),Qn=a(961),$n=function(e){var t=e.isDisabled,a=void 0!==t&&t,n=e.isRadio,i=void 0!==n&&n,l=e.isSelected,o=void 0!==l&&l,c=e.itemId,s=e.label,u=e.name,d=e.onDeselect,m=e.onSelect,p=i?Zn.a:Qn.a;return r.a.createElement(gn.a,{key:c,"aria-labelledby":"check-action-item-".concat(c),id:"".concat(c)},r.a.createElement(jn.a,null,r.a.createElement(p,{"aria-label":"check-action-item-".concat(c),"aria-labelledby":"check-action-item-".concat(c),checked:o,disabled:a,id:"selected-".concat(c),isChecked:o,name:u,onChange:o?d:m,value:c}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement("label",{id:"check-action-item-".concat(c),htmlFor:"selected-".concat(c),className:"check-action-item"},r.a.createElement("b",null,s)))]})))},er=a(962),tr=a(963),ar=a(436),nr=a(935);var rr=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.numChips,n=e.totalChips,i=Object(Q.a)(e,["i18n","numChips","totalChips"]);return r.a.createElement(nr.a,Object.assign({},i,{numChips:a,expandedText:t._({id:"Show less"}),collapsedText:t._({id:"{0} more",values:{0:n-a}})}))}));function ir(){var e=Object(S.a)(["\n  font-weight: bold;\n  margin-right: 32px;\n  word-break: initial;\n"]);return ir=function(){return e},e}function lr(){var e=Object(S.a)(["\n  margin: 20px 0px;\n  align-items: baseline;\n"]);return lr=function(){return e},e}var or=Object(N.b)(er.a)(lr()),cr=Object(N.b)(tr.a)(ir()),sr=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.selected,n=e.onRemove,i=e.displayKey,l=e.isReadOnly,o=e.renderItemChip||function(e){var t=e.item,a=e.removeItem;return r.a.createElement(ar.a,{key:t.id,onClick:a,isReadOnly:l},t[i])};return r.a.createElement(or,null,r.a.createElement(cr,null,t),r.a.createElement(tr.a,null,r.a.createElement(rr,{numChips:5,totalChips:a.length},a.map((function(e){return o({item:e,removeItem:function(){return n(e)},canDelete:!l})})))))}}]),a}(n.Component);sr.defaultProps={displayKey:"name",label:"Selected",onRemove:function(){return null},isReadOnly:!1,renderItemChip:null};var ur=sr,dr=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={isInitialized:!1,count:null,error:!1,resources:[]},n.qsConfig=ce("resource",{page:1,page_size:5,order_by:"".concat(e.sortColumns.filter((function(e){return"name"===e.key})).length?"name":"username")}),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.readResourceList()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.readResourceList()}},{key:"readResourceList",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.onSearch,n=t.location,r=se(this.qsConfig,n.search),this.setState({isLoading:!0,error:!1}),e.prev=3,e.next=6,a(r);case 6:i=e.sent,l=i.data,o=l.count,c=l.results,this.setState({resources:c,count:o,isInitialized:!0,isLoading:!1,error:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({isLoading:!1,error:!0});case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isInitialized,a=e.isLoading,i=e.count,l=e.error,o=e.resources,c=this.props,s=c.searchColumns,u=c.sortColumns,d=c.displayKey,m=c.onRowClick,p=c.selectedLabel,b=c.selectedResourceRows,f=c.i18n;return r.a.createElement(n.Fragment,null,t&&r.a.createElement(n.Fragment,null,r.a.createElement("div",null,f._({id:"Choose the resources that will be receiving new roles.  You'll be able to select the roles to apply in the next step.  Note that the resources chosen here will receive all roles chosen in the next step."})),b.length>0&&r.a.createElement(ur,{displayKey:d,label:p,onRemove:m,selected:b}),r.a.createElement(Nn,{hasContentLoading:a,items:o,itemCount:i,qsConfig:this.qsConfig,onRowClick:m,toolbarSearchColumns:s,toolbarSortColumns:u,renderItem:function(e){return r.a.createElement($n,{isSelected:b.some((function(t){return t.id===e.id})),itemId:e.id,key:e.id,name:e[d],label:e[d],onSelect:function(){return m(e)},onDeselect:function(){return m(e)}})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{fillWidth:!0}))},showPageSizeOptions:!1})),l?r.a.createElement("div",null,"error"):"")}}]),a}(r.a.Component);dr.defaultProps={searchColumns:null,sortColumns:null,displayKey:"name",onRowClick:function(){},selectedLabel:null,selectedResourceRows:[]};var mr=Object(c.withI18n)()(Object(o.k)(dr)),pr=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.description,i=e.isSelected,l=e.onSelect,o=e.itemId;return r.a.createElement("div",{style:{display:"flex",border:"1px solid var(--pf-global--BorderColor--200)",borderRadius:"var(--pf-global--BorderRadius--sm)",padding:"10px"}},r.a.createElement(ra.a,{isChecked:i,onChange:l,"aria-label":t,id:"checkbox-card-".concat(o),label:r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{fontWeight:"bold"}},t),r.a.createElement("div",null,a)),value:o}))}}]),a}(n.Component);pr.defaultProps={description:"",isSelected:!1,onSelect:null};var br=pr,fr=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onRolesClick,a=e.roles,i=e.selectedListKey,l=e.selectedListLabel,o=e.selectedResourceRows,c=e.selectedRoleRows,s=e.i18n;return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,s._({id:"Choose roles to apply to the selected resources.  Note that all selected roles will be applied to all selected resources."})),r.a.createElement("div",null,o.length>0&&r.a.createElement(ur,{displayKey:i,isReadOnly:!0,label:l||s._({id:"Selected"}),selected:o})),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px 20px",marginTop:"20px"}},Object.keys(a).map((function(e){return r.a.createElement(br,{description:a[e].description,itemId:a[e].id,isSelected:c.some((function(t){return t.id===a[e].id})),key:a[e].id,name:a[e].name,onSelect:function(){return t(a[e])}})}))))}}]),a}(r.a.Component);fr.defaultProps={onRolesClick:function(){},selectedListKey:"name",selectedListLabel:null,selectedResourceRows:[],selectedRoleRows:[]};var hr=Object(c.withI18n)()(fr),vr=function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ct.read(Object.assign(t,{is_superuser:!1})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_r=function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot.read(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yr=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={selectedResource:null,selectedResourceRows:[],selectedRoleRows:[],currentStepId:1,maxEnabledStep:1},n.handleResourceCheckboxClick=n.handleResourceCheckboxClick.bind(Object(ne.a)(n)),n.handleResourceSelect=n.handleResourceSelect.bind(Object(ne.a)(n)),n.handleRoleCheckboxClick=n.handleRoleCheckboxClick.bind(Object(ne.a)(n)),n.handleWizardNext=n.handleWizardNext.bind(Object(ne.a)(n)),n.handleWizardSave=n.handleWizardSave.bind(Object(ne.a)(n)),n.handleWizardGoToStep=n.handleWizardGoToStep.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleResourceCheckboxClick",value:function(e){var t=this.state,a=t.selectedResourceRows,n=t.currentStepId,r=a.findIndex((function(t){return t.id===e.id}));if(r>-1){a.splice(r,1);var i={selectedResourceRows:a};0===a.length&&(i.maxEnabledStep=n),this.setState(i)}else this.setState((function(t){return{selectedResourceRows:[].concat(Object(le.a)(t.selectedResourceRows),[e])}}))}},{key:"handleRoleCheckboxClick",value:function(e){var t=this.state.selectedRoleRows,a=t.findIndex((function(t){return t.id===e.id}));a>-1?(t.splice(a,1),this.setState({selectedRoleRows:t})):this.setState((function(t){return{selectedRoleRows:[].concat(Object(le.a)(t.selectedRoleRows),[e])}}))}},{key:"handleResourceSelect",value:function(e){this.setState({selectedResource:e,selectedResourceRows:[],selectedRoleRows:[]})}},{key:"handleWizardNext",value:function(e){this.setState({currentStepId:e.id,maxEnabledStep:e.id})}},{key:"handleWizardGoToStep",value:function(e){this.setState({currentStepId:e.id})}},{key:"handleWizardSave",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props.onSave,a=this.state,n=a.selectedResourceRows,r=a.selectedRoleRows,i=a.selectedResource,e.prev=2,l=[],o=0;o<n.length;o++)for(c=0;c<r.length;c++)"users"===i?l.push(Ct.associateRole(n[o].id,r[c].id)):"teams"===i&&l.push(Ot.associateRole(n[o].id,r[c].id));return e.next=7,Promise.all(l);case 7:t(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedResource,i=t.selectedResourceRows,l=t.selectedRoleRows,o=t.currentStepId,c=t.maxEnabledStep,s=this.props,u=s.onClose,d=s.roles,m=s.i18n,p=Object(oe.a)({},d);"teams"===a&&Object.keys(d).forEach((function(e){p[e].user_only&&delete p[e]}));var b=[{name:m._({id:"Username"}),key:"username",isDefault:!0},{name:m._({id:"First Name"}),key:"first_name"},{name:m._({id:"Last Name"}),key:"last_name"}],f=[{name:m._({id:"Username"}),key:"username"},{name:m._({id:"First Name"}),key:"first_name"},{name:m._({id:"Last Name"}),key:"last_name"}],h=[{name:m._({id:"Name"}),key:"name",isDefault:!0},{name:m._({id:"Created By (Username)"}),key:"created_by__username"},{name:m._({id:"Modified By (Username)"}),key:"modified_by__username"}],v=[{name:m._({id:"Name"}),key:"name"}],_="";switch(a){case"users":_=m._({id:"Add User Roles"});break;case"teams":_=m._({id:"Add Team Roles"});break;default:_=m._({id:"Add Roles"})}var y=[{id:1,name:m._({id:"Select a Resource Type"}),component:r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement("div",{style:{width:"100%",marginBottom:"10px"}},m._({id:"Choose the type of resource that will be receiving new roles.  For example, if you'd like to add new roles to a set of users please choose Users and click Next.  You'll be able to select the specific resources in the next step."})),r.a.createElement(Mt,{isSelected:"users"===a,label:m._({id:"Users"}),dataCy:"add-role-users",onClick:function(){return e.handleResourceSelect("users")}}),r.a.createElement(Mt,{isSelected:"teams"===a,label:m._({id:"Teams"}),dataCy:"add-role-teams",onClick:function(){return e.handleResourceSelect("teams")}})),enableNext:null!==a},{id:2,name:m._({id:"Select Items from List"}),component:r.a.createElement(n.Fragment,null,"users"===a&&r.a.createElement(mr,{searchColumns:b,sortColumns:f,displayKey:"username",onRowClick:this.handleResourceCheckboxClick,onSearch:vr,selectedLabel:m._({id:"Selected"}),selectedResourceRows:i,sortedColumnKey:"username"}),"teams"===a&&r.a.createElement(mr,{searchColumns:h,sortColumns:v,onRowClick:this.handleResourceCheckboxClick,onSearch:_r,selectedLabel:m._({id:"Selected"}),selectedResourceRows:i})),enableNext:i.length>0,canJumpTo:c>=2},{id:3,name:m._({id:"Select Roles to Apply"}),component:r.a.createElement(hr,{onRolesClick:this.handleRoleCheckboxClick,roles:p,selectedListKey:"users"===a?"username":"name",selectedListLabel:m._({id:"Selected"}),selectedResourceRows:i,selectedRoleRows:l}),nextButtonText:m._({id:"Save"}),enableNext:l.length>0,canJumpTo:c>=3}],E=y.find((function(e){return e.id===o}));return r.a.createElement(Bt,{style:{overflow:"scroll"},isOpen:!0,onNext:this.handleWizardNext,onClose:u,onSave:this.handleWizardSave,onGoToStep:this.handleWizardGoToStep,steps:y,title:_,nextButtonText:E.nextButtonText||void 0})}}]),a}(r.a.Component);yr.defaultProps={roles:{}};var Er=Object(c.withI18n)()(yr),gr=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"isTeamRole",value:function(){return"undefined"!==typeof this.props.role.team_id}},{key:"render",value:function(){var e=this.props,t=e.role,a=e.username,i=e.onCancel,l=e.onConfirm,o=e.i18n,c=o._({id:"Remove {0} Access",values:{0:this.isTeamRole()?o._({id:"Team"}):o._({id:"User"})}});return r.a.createElement(Gn,{variant:"danger",title:c,isOpen:!0,onClose:i,actions:[r.a.createElement($.a,{key:"delete",variant:"danger","aria-label":o._({id:"Confirm delete"}),onClick:l},o._({id:"Delete"})),r.a.createElement($.a,{key:"cancel",variant:"secondary",onClick:i},o._({id:"Cancel"}))]},this.isTeamRole()?r.a.createElement(n.Fragment,null,o._({id:"Are you sure you want to remove {0} access from {1}?  Doing so affects all members of the team.",values:{0:t.name,1:t.team_name}}),r.a.createElement("br",null),r.a.createElement("br",null),o._({id:"If you only want to remove access for this particular user, please remove them from the team."})):r.a.createElement(n.Fragment,null,o._({id:"Are you sure you want to remove {0} access from {username}?",values:{0:t.name,username:a}})))}}]),a}(r.a.Component);gr.defaultProps={username:""};var jr=Object(c.withI18n)()(gr),Or=a(966),kr=a(964);function wr(){var e=Object(S.a)(["\n  display: grid;\n  grid-gap: 20px;\n  align-items: center;\n  ","\n"]);return wr=function(){return e},e}var Cr=Object(N.b)((function(e){var t=e.children,a=(e.stacked,Object(Q.a)(e,["children","stacked"]));return r.a.createElement(kr.a,Object.assign({component:kr.b.dl},a),t)}))(wr(),(function(e){return e.stacked?"\n    grid-template-columns: auto 1fr;\n  ":"\n    --column-count: 1;\n    grid-template-columns: repeat(var(--column-count), auto minmax(10em, 1fr));\n\n    @media (min-width: 920px) {\n      --column-count: 2;\n    }\n\n    @media (min-width: 1210px) {\n      --column-count: 3;\n    }\n  "})),Sr=a(965);function xr(){var e=Object(S.a)(["\n  word-break: break-all;\n  ","\n  ","\n"]);return xr=function(){return e},e}function Tr(){var e=Object(S.a)(["\n  font-weight: var(--pf-global--FontWeight--bold);\n  ","\n"]);return Tr=function(){return e},e}var Ir=Object(N.b)((function(e){e.fullWidth;var t=Object(Q.a)(e,["fullWidth"]);return r.a.createElement(Sr.a,t)}))(Tr(),(function(e){return e.fullWidth&&"\n    grid-column: 1;\n  "})),Dr=Object(N.b)((function(e){e.fullWidth,e.isEncrypted;var t=Object(Q.a)(e,["fullWidth","isEncrypted"]);return r.a.createElement(Sr.a,t)}))(xr(),(function(e){return e.fullWidth&&"\n    grid-column: 2 / -1;\n  "}),(function(e){return e.isEncrypted&&"\n    text-transform: uppercase\n    color: var(--pf-global--Color--400);\n  "})),Nr=function(e){var t=e.label,a=e.value,n=e.fullWidth,i=e.className,l=e.dataCy,o=e.alwaysVisible,c=e.isEncrypted;if(!a&&"number"!==typeof a&&!o)return null;var s=l?"".concat(l,"-label"):null,u=l?"".concat(l,"-value"):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ir,{className:i,component:Sr.b.dt,fullWidth:n,"data-cy":s},t),r.a.createElement(Dr,{className:i,component:Sr.b.dd,fullWidth:n,"data-cy":u,isEncrypted:c},a))};Nr.defaultProps={value:null,fullWidth:!1,alwaysVisible:!1};var Lr=Nr;function Rr(){var e=Object(S.a)(["\n  dd& {\n    color: red;\n  }\n"]);return Rr=function(){return e},e}var Ar=Object(N.b)(Lr)(Rr());var Pr=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.label;return r.a.createElement(Ar,{label:a,value:t._({id:"Deleted"})})})),zr=a(21);function Ur(e){return console.log(e,"nav"),e.languages&&e.languages[0]?(console.log(e.languages[0],"nav.languages[0]"),e.languages[0]):e.language?(console.log(e.language,"nav.language"),e.language):(console.log(e.userLanguage,"nav.userLanguage"),e.userLanguage)}var Fr=function(e){return e.toString().padStart(2,0)};function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur(navigator);return new Date(e).toLocaleString(t)}function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur(navigator);return new Date(e).toLocaleString(t,{timeZone:"UTC"})}function Vr(e){return new Date(1e3*e).toISOString().substr(11,8)}function Br(){var e=new Date,t=e.getHours(),a=Fr(e.getMinutes()),n=Fr(e.getSeconds());return t>12?"".concat(t-12,":").concat(a," :").concat(n," PM"):"".concat(t,":").concat(a,":").concat(n)}function Wr(e){var t=e.getFullYear(),a=Fr(e.getMonth()+1),n=Fr(e.getDate()),r=Fr(e.getHours()),i=Fr(e.getMinutes()),l=Fr(e.getSeconds());return"".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(i,":").concat(l)}function Gr(e,t){switch(e){case"sunday":return zr.a.SU;case"monday":return zr.a.MO;case"tuesday":return zr.a.TU;case"wednesday":return zr.a.WE;case"thursday":return zr.a.TH;case"friday":return zr.a.FR;case"saturday":return zr.a.SA;case"day":return[zr.a.MO,zr.a.TU,zr.a.WE,zr.a.TH,zr.a.FR,zr.a.SA,zr.a.SU];case"weekday":return[zr.a.MO,zr.a.TU,zr.a.WE,zr.a.TH,zr.a.FR];case"weekendDay":return[zr.a.SA,zr.a.SU];default:throw new Error(t._({id:"Unrecognized day string"}))}}function Hr(){var e=Object(S.a)(["\n  word-break: break-word;\n"]);return Hr=function(){return e},e}var Jr=Object(N.b)(Lr)(Hr());function Kr(e){var t=e.label,a=e.date,n=e.user,i=e.dataCy,l=void 0===i?null:i,o=Mr(a);console.log(o,"dateStr");var s=n?n.username:"";return console.log(s,"username"),r.a.createElement(Jr,{label:t,dataCy:l,value:n?r.a.createElement(c.Trans,{id:"{dateStr} by <0>{username}</0>",values:{dateStr:o,username:s},components:[r.a.createElement(D.b,{to:"/users/".concat(n.id)})]}):o})}Kr.defaultProps={user:null};var Yr=Kr,Xr=Object(N.b)(On.a).withConfig({displayName:"ResourceAccessListItem__DataListItemCells",componentId:"sc-658iqk-0"})(["align-items:start;"]),Zr=Object(N.b)(D.b).withConfig({displayName:"ResourceAccessListItem___StyledLink",componentId:"sc-658iqk-1"})(["font-weight:bold"]),Qr=Object(N.b)(Or.a).withConfig({displayName:"ResourceAccessListItem___StyledText",componentId:"sc-658iqk-2"})(["font-weight:bold"]),$r=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).renderChip=n.renderChip.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"getRoleLists",value:function(){var e=this.props.accessRecord,t=[],a=[];function n(e){var n=e.role;n.team_id?t.push(n):a.push(n)}return e.summary_fields.direct_access.map(n),e.summary_fields.indirect_access.map(n),[t,a]}},{key:"renderChip",value:function(e){var t=this.props,a=t.accessRecord,n=t.onRoleDelete;return r.a.createElement(ar.a,{key:e.id,isReadOnly:!e.user_capabilities.unattach,onClick:function(){n(e,a)}},e.name)}},{key:"render",value:function(){var e=this.props,t=e.accessRecord,a=e.i18n,n=this.getRoleLists(),i=Object(O.a)(n,2),l=i[0],o=i[1];return r.a.createElement(gn.a,{"aria-labelledby":"access-list-item",key:t.id,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(Xr,{dataListCells:[r.a.createElement(Sn,{key:"name"},t.username&&r.a.createElement(En.a,null,t.id?r.a.createElement(Or.a,{component:Or.b.h6},r.a.createElement(Zr,{to:{pathname:"/users/".concat(t.id,"/details")}},t.username)):r.a.createElement(Qr,{component:Or.b.h6},t.username)),t.first_name||t.last_name?r.a.createElement(Cr,{stacked:!0},r.a.createElement(Lr,{label:a._({id:"Name"}),value:"".concat(t.first_name," ").concat(t.last_name)})):null),r.a.createElement(Sn,{key:"roles"},r.a.createElement(Cr,{stacked:!0},o.length>0&&r.a.createElement(Lr,{label:a._({id:"User Roles"}),value:r.a.createElement(rr,{numChips:5,totalChips:o.length},o.map(this.renderChip))}),l.length>0&&r.a.createElement(Lr,{label:a._({id:"Team Roles"}),value:r.a.createElement(rr,{numChips:5,totalChips:l.length},l.map(this.renderChip))})))]})))}}]),a}(r.a.Component),ei=Object(c.withI18n)()($r),ti=ce("access",{page:1,page_size:5,order_by:"first_name"}),ai=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={accessRecords:[],contentError:null,hasContentLoading:!0,hasDeletionError:!1,deletionRecord:null,deletionRole:null,isAddModalOpen:!1,itemCount:0},n.loadAccessList=n.loadAccessList.bind(Object(ne.a)(n)),n.handleAddClose=n.handleAddClose.bind(Object(ne.a)(n)),n.handleAddOpen=n.handleAddOpen.bind(Object(ne.a)(n)),n.handleAddSuccess=n.handleAddSuccess.bind(Object(ne.a)(n)),n.handleDeleteCancel=n.handleDeleteCancel.bind(Object(ne.a)(n)),n.handleDeleteConfirm=n.handleDeleteConfirm.bind(Object(ne.a)(n)),n.handleDeleteErrorClose=n.handleDeleteErrorClose.bind(Object(ne.a)(n)),n.handleDeleteOpen=n.handleDeleteOpen.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadAccessList()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location,a=se(ti,e.location.search),n=se(ti,t.search);de(n)!==de(a)&&this.loadAccessList()}},{key:"loadAccessList",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u,d;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.apiModel,n=t.resource,r=t.location,i=se(ti,r.search),this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,a.readAccessList(n.id,i);case 6:l=e.sent,o=l.data,c=o.results,s=void 0===c?[]:c,u=o.count,d=void 0===u?0:u,this.setState({itemCount:d,accessRecords:s}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),this.setState({contentError:e.t0});case 18:return e.prev=18,this.setState({hasContentLoading:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleDeleteOpen",value:function(e,t){this.setState({deletionRole:e,deletionRecord:t})}},{key:"handleDeleteCancel",value:function(){this.setState({deletionRole:null,deletionRecord:null})}},{key:"handleDeleteErrorClose",value:function(){this.setState({hasDeletionError:!1,deletionRecord:null,deletionRole:null})}},{key:"handleDeleteConfirm",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.deletionRole,n=t.deletionRecord,a&&n){e.next=3;break}return e.abrupt("return");case 3:return r="undefined"!==typeof a.team_id?Ot.disassociateRole(a.team_id,a.id):Ct.disassociateRole(n.id,a.id),this.setState({hasContentLoading:!0}),e.prev=5,e.next=8,r.then(this.loadAccessList);case 8:this.setState({deletionRole:null,deletionRecord:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),this.setState({hasContentLoading:!1,hasDeletionError:!0});case 14:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleAddClose",value:function(){this.setState({isAddModalOpen:!1})}},{key:"handleAddOpen",value:function(){this.setState({isAddModalOpen:!0})}},{key:"handleAddSuccess",value:function(){this.setState({isAddModalOpen:!1}),this.loadAccessList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.resource,i=t.i18n,l=this.state,o=l.accessRecords,c=l.contentError,s=l.hasContentLoading,u=l.deletionRole,d=l.deletionRecord,m=l.hasDeletionError,p=l.itemCount,b=l.isAddModalOpen,f=a.summary_fields.user_capabilities.edit,h=!s&&!m&&u;return r.a.createElement(n.Fragment,null,r.a.createElement(Nn,{error:c,hasContentLoading:s,items:o,itemCount:p,pluralizedItemName:"Roles",qsConfig:ti,toolbarSearchColumns:[{name:i._({id:"Username"}),key:"username",isDefault:!0},{name:i._({id:"First Name"}),key:"first_name"},{name:i._({id:"Last Name"}),key:"last_name"}],toolbarSortColumns:[{name:i._({id:"Username"}),key:"username"},{name:i._({id:"First Name"}),key:"first_name"},{name:i._({id:"Last Name"}),key:"last_name"}],renderToolbar:function(t){return r.a.createElement(Va,Object.assign({},t,{qsConfig:ti,additionalControls:f?[r.a.createElement(Xn,{key:"add",onClick:e.handleAddOpen})]:[]}))},renderItem:function(t){return r.a.createElement(ei,{key:t.id,accessRecord:t,onRoleDelete:e.handleDeleteOpen})}}),b&&r.a.createElement(Er,{onClose:this.handleAddClose,onSave:this.handleAddSuccess,roles:a.summary_fields.object_roles}),h&&r.a.createElement(jr,{role:u,username:d.username,onCancel:this.handleDeleteCancel,onConfirm:this.handleDeleteConfirm}),r.a.createElement(Gn,{isOpen:m,variant:"error",title:i._({id:"Error!"}),onClose:this.handleDeleteErrorClose},i._({id:"Failed to delete role"})))}}]),a}(r.a.Component),ni=Object(c.withI18n)()(Object(o.k)(ai)),ri=a(1025),ii=a(967);var li=function(e){var t=e.tabsArray,a=Object(o.g)();return r.a.createElement(ri.a,{activeKey:function(){var e=t.find((function(e){return e.link===a.location.pathname}));if(e)return e.id;var n=t.find((function(e){return a.location.pathname.startsWith(e.link)}));return n?n.id:0}(),onSelect:function(e,n){var r=t.find((function(e){return e.id===n}));r&&a.push(r.link)}},t.map((function(e){return r.a.createElement(ii.a,{"aria-label":"".concat(e.name),eventKey:e.id,key:e.id,link:e.link,title:e.name})})))},oi=a(968),ci=a(969);var si=Object(c.withI18n)()((function(e){var t=e.onConfirm,a=e.modalTitle,i=e.name,l=e.i18n,o=e.variant,c=e.children,s=Object(n.useState)(!1),u=Object(O.a)(s,2),d=u[0],m=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{variant:o||"danger","aria-label":l._({id:"Delete"}),onClick:function(){return m(!0)}},c||l._({id:"Delete"})),r.a.createElement(Gn,{isOpen:d,title:a,variant:"danger",onClose:function(){return m(!1)},actions:[r.a.createElement($.a,{key:"delete",variant:"danger","aria-label":l._({id:"Delete"}),onClick:t},l._({id:"Delete"})),r.a.createElement($.a,{key:"cancel",variant:"secondary","aria-label":l._({id:"Cancel"}),onClick:function(){return m(!1)}},l._({id:"Cancel"}))]},l._({id:"Are you sure you want to delete:"}),r.a.createElement("br",null),r.a.createElement("strong",null,i)))}));var ui=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.credential,i=a.id,l=a.name,c=a.description,s=a.inputs,u=a.created,d=a.modified,m=a.summary_fields,p=m.credential_type,b=m.organization,f=m.created_by,h=m.modified_by,v=m.user_capabilities,_=Object(n.useState)([]),y=Object(O.a)(_,2),E=y[0],g=y[1],j=Object(n.useState)([]),k=Object(O.a)(j,2),w=k[0],C=k[1],S=Object(n.useState)(null),x=Object(O.a)(S,2),T=x[0],I=x[1],N=Object(n.useState)(null),L=Object(O.a)(N,2),R=L[0],A=L[1],P=Object(n.useState)(!0),z=Object(O.a)(P,2),M=z[0],q=z[1],V=Object(o.g)();Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(null),q(!0),e.prev=2,e.next=5,it.readDetail(p.id);case 5:t=e.sent,a=t.data,n=a.inputs,r=a.managed_by_tower,g(n.fields||[]),C(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),I(e.t0);case 16:return e.prev=16,q(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))()}),[p]);var B=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,rt.destroy(i);case 4:V.push("/credentials"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),A(e.t0);case 10:q(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return M?r.a.createElement(bn,null):T?r.a.createElement(dn,{error:T}):r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:t._({id:"Name"}),value:l}),r.a.createElement(Lr,{label:t._({id:"Description"}),value:c}),b&&r.a.createElement(Lr,{label:t._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(b.id,"/details")},b.name)}),r.a.createElement(Lr,{label:t._({id:"Credential Type"}),value:w?p.name:r.a.createElement(D.b,{to:"/credential_types/".concat(p.id,"/details")},p.name)}),E.map((function(e){return function(e){var a,n=e.id,i=e.label;if("boolean"===e.type)a=r.a.createElement(Lr,{key:n,label:t._({id:"Options"}),value:r.a.createElement(oi.a,null,s[n]&&r.a.createElement(ci.a,null,i))});else if("$encrypted$"===s[n]){a=r.a.createElement(Lr,{key:n,label:i,value:t._({id:"Encrypted"}),isEncrypted:!0})}else a=r.a.createElement(Lr,{key:n,label:i,value:s[n]});return a}(e)})),r.a.createElement(Yr,{label:t._({id:"Created"}),date:u,user:f}),r.a.createElement(Yr,{label:t._({id:"Last Modified"}),date:d,user:h})),r.a.createElement(Z,null,v.edit&&r.a.createElement($.a,{component:D.b,to:"/credentials/".concat(i,"/edit")},t._({id:"Edit"})),v.delete&&r.a.createElement(si,{name:l,modalTitle:t._({id:"Delete Credential"}),onConfirm:B},t._({id:"Delete"}))),R&&r.a.createElement(Gn,{isOpen:R,variant:"error",title:t._({id:"Error!"}),onClose:function(){return A(null)}},t._({id:"Failed to delete credential."}),r.a.createElement(cn,{error:R})))})),di=a(20),mi=a(1029),pi=a(975),bi=a(905),fi=a(970);function hi(){var e=Object(S.a)(["\n  margin-left: 10px;\n"]);return hi=function(){return e},e}var vi=Object(N.b)(fi.a)(hi());function _i(e){var t=e.content,a=Object(Q.a)(e,["content"]);return t?r.a.createElement(Ln.a,Object.assign({position:"right",content:t,trigger:"click mouseenter focus"},a),r.a.createElement(vi,null)):null}_i.defaultProps={content:null};var yi=_i;function Ei(e){var t=e.id,a=e.helperText,n=e.name,i=e.label,l=e.tooltip,o=e.tooltipMaxWidth,c=e.validate,s=e.isRequired,u=e.type,d=Object(Q.a)(e,["id","helperText","name","label","tooltip","tooltipMaxWidth","validate","isRequired","type"]),m=Object(di.c)({name:n,validate:c}),p=Object(O.a)(m,2),b=p[0],f=p[1],h=!(f.touched&&f.error);return r.a.createElement(r.a.Fragment,null,"textarea"===u&&r.a.createElement(mi.a,{fieldId:t,helperText:a,helperTextInvalid:f.error,isRequired:s,isValid:h,label:i},r.a.createElement(yi,{content:l,maxWidth:o}),r.a.createElement(bi.b,Object.assign({id:t,isRequired:s,isValid:h,resizeOrientation:"vertical"},d,b,{onChange:function(e,t){b.onChange(t)}})))||r.a.createElement(mi.a,{fieldId:t,helperText:a,helperTextInvalid:f.error,isRequired:s,isValid:h,label:i},r.a.createElement(yi,{content:l,maxWidth:o}),r.a.createElement(ka.a,Object.assign({id:t,isRequired:s,isValid:h},d,b,{type:u,onChange:function(e,t){b.onChange(t)}}))))}Ei.defaultProps={helperText:"",type:"text",validate:function(){},isRequired:!1,tooltip:null,tooltipMaxWidth:""};var gi=Ei;function ji(){var e=Object(S.a)(["\n  margin-left: 10px;\n"]);return ji=function(){return e},e}var Oi=Object(N.b)(fi.a)(ji());function ki(e){var t=e.id,a=e.name,n=e.label,i=e.tooltip,l=e.validate,o=Object(Q.a)(e,["id","name","label","tooltip","validate"]),c=Object(di.c)({name:a,validate:l}),s=Object(O.a)(c,1)[0];return r.a.createElement(ra.a,Object.assign({"aria-label":n,label:r.a.createElement("span",null,n,"\xa0",i&&r.a.createElement(Ln.a,{position:"right",content:i},r.a.createElement(Oi,null))),id:t},o,{isChecked:s.value},s,{onChange:function(e,t){s.onChange(t)}}))}ki.defaultProps={validate:function(){},tooltip:""};var wi=ki,Ci=a(971),Si=a(972);function xi(e){var t=e.id,a=e.name,i=e.label,l=e.validate,o=e.isRequired,c=e.isDisabled,s=e.i18n,u=Object(n.useState)("password"),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(di.c)({name:a,validate:l}),f=Object(O.a)(b,2),h=f[0],v=f[1],_=!(v.touched&&v.error);return r.a.createElement(mi.a,{fieldId:t,helperTextInvalid:v.error,isRequired:o,isValid:_,label:i},r.a.createElement(Oa.a,null,r.a.createElement(Ln.a,{content:"password"===m?s._({id:"Show"}):s._({id:"Hide"})},r.a.createElement($.a,{variant:$.b.control,"aria-label":s._({id:"Toggle Password"}),onClick:function(){p("text"===m?"password":"text")},isDisabled:c},"password"===m&&r.a.createElement(Ci.a,null),"text"===m&&r.a.createElement(Si.a,null))),r.a.createElement(ka.a,Object.assign({id:t,placeholder:"$encrypted$"===h.value?"ENCRYPTED":void 0},h,{value:"$encrypted$"===h.value?"":h.value,isDisabled:c,isRequired:o,isValid:_,type:m,onChange:function(e,t){h.onChange(t)}}))))}xi.defaultProps={validate:function(){},isRequired:!1,isDisabled:!1};var Ti=Object(c.withI18n)()(xi),Ii=a(1026);var Di=function(e){var t=e.error,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],o=i[1],c=Object(di.d)().setErrors;return Object(n.useEffect)((function(){var e;if(t)if((null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.data)&&"object"===typeof t.response.data&&Object.keys(t.response.data).length>0){var a=t.response.data;c(a);var n=[];Object.values(t.response.data).forEach((function(e){Array.isArray(e)&&(n=n.concat(e))})),o(n.length>0?n:null)}else console.error(t),o(t.message)}),[t,c]),l?r.a.createElement(Ii.a,{variant:"danger",isInline:!0,title:Array.isArray(l)?l.map((function(e){return r.a.createElement("div",{key:e},e)})):l}):null},Ni=a(973);function Li(){var e=Object(S.a)(["\n  grid-column: 1 / -1;\n  background-color: #f5f5f5;\n  margin-right: calc(var(--pf-c-card--child--PaddingRight) * -1);\n  margin-left: calc(var(--pf-c-card--child--PaddingLeft) * -1);\n  padding: var(--pf-c-card--child--PaddingRight);\n\n  & > .pf-c-title {\n    --pf-c-title--m-md--FontWeight: 700;\n    grid-column: 1 / -1;\n    margin-bottom: 20px;\n  }\n"]);return Li=function(){return e},e}function Ri(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  margin-bottom: -10px;\n  margin-right: -30px !important;\n\n  & > * {\n    margin-bottom: 10px;\n    margin-right: 30px;\n  }\n"]);return Ri=function(){return e},e}function Ai(){var e=Object(S.a)(["\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: var(--pf-c-form--GridGap);\n"]);return Ai=function(){return e},e}function Pi(){var e=Object(S.a)(["\n  width: 100%;\n  grid-column: 1 / -1;\n  display: grid;\n  grid-gap: var(--pf-c-form--GridGap);\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n\n  @media (min-width: 1210px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"]);return Pi=function(){return e},e}var zi=N.b.div(Pi()),Ui=N.b.div(Ai()),Fi=N.b.div(Ri()),Mi=N.b.div(Li()),qi=function(e){var t=e.onSubmit,a=e.submitDisabled,n=e.onCancel,i=e.i18n;return r.a.createElement(Ui,null,r.a.createElement(Ni.a,null,r.a.createElement($.a,{"aria-label":i._({id:"Save"}),variant:"primary",type:"button",onClick:t,isDisabled:a},i._({id:"Save"})),r.a.createElement($.a,{"aria-label":i._({id:"Cancel"}),variant:"secondary",type:"button",onClick:n},i._({id:"Cancel"}))))};qi.defaultProps={submitDisabled:!1};var Vi=Object(c.withI18n)()(qi),Bi=a(904),Wi=a(974),Gi=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onSelectChange=n.onSelectChange.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"onSelectChange",value:function(e,t){var a=this.props,n=a.onChange,r=a.name;t.target.name=r,n(t,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.data,n=e.i18n,i=e.isValid,l=e.onBlur,o=e.value,c=e.className,s=e.isDisabled;return r.a.createElement(Bi.a,{id:t,value:o,onChange:this.onSelectChange,onBlur:l,"aria-label":n._({id:"Select Input"}),isValid:i,className:c,isDisabled:s},a.map((function(e){return r.a.createElement(Wi.a,{key:e.key,value:e.value,label:e.label,isDisabled:e.isDisabled})})))}}]),a}(r.a.Component);Gi.defaultProps={data:[],isValid:!0,onBlur:function(){},className:"",isDisabled:!1};var Hi=Object(c.withI18n)()(Gi);function Ji(e,t){var a=e||t._({id:"This field must not be blank"});return function(e){return"string"!==typeof e||e.trim()?"number"!==typeof e||Number.isNaN(e)?e?void 0:a:void 0:a}}function Ki(e,t){return function(a){if(a.trim().length>e)return t._({id:"This field must not exceed {max} characters",values:{max:e}})}}function Yi(e,t){return function(a){if(a.trim().length<e)return t._({id:"This field must be at least {min} characters",values:{min:e}})}}function Xi(e,t,a){return function(n){if(n<e||n>t)return a._({id:"This field must be a number and have a value between {min} and {max}",values:{min:e,max:t}})}}function Zi(e){return function(t){return t?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)?void 0:e._({id:"Invalid email address"}):e._({id:"This field must not be blank"})}}function Qi(e){return function(t){if(/\s/.test(t))return e._({id:"This field must not contain spaces"})}}function $i(e){return function(t){var a=String(t);if(/[^0-9]/.test(a))return e._({id:"This field must be an integer"})}}function el(e){return function(t){for(var a=0;a<e.length;a++){var n=e[a],r=n?n(t):null;if(r)return r}}}function tl(){var e=Object(S.a)(["\n  .pf-c-data-toolbar__content {\n    padding: 0 !important;\n  }\n"]);return tl=function(){return e},e}var al=N.b.div(tl());function nl(e){var t=e.value,a=e.contentError,n=e.options,i=e.optionCount,l=e.searchColumns,o=e.sortColumns,c=e.multiple,s=e.header,u=e.name,d=e.qsConfig,m=e.readOnly,p=e.selectItem,b=e.deselectItem,f=e.renderItemChip,h=e.isLoading,v=e.i18n;return r.a.createElement(al,null,t.length>0&&r.a.createElement(ur,{label:v._({id:"Selected"}),selected:t,showOverflowAfter:5,onRemove:function(e){return b(e)},isReadOnly:m,renderItemChip:f}),r.a.createElement(Nn,{contentError:a,items:n,itemCount:i,pluralizedItemName:s,qsConfig:d,toolbarSearchColumns:l,toolbarSortColumns:o,hasContentLoading:h,onRowClick:p,renderItem:function(e){return r.a.createElement($n,{key:e.id,itemId:e.id,name:c?e.name:u,label:e.name,isSelected:t.some((function(t){return t.id===e.id})),onSelect:function(){return p(e)},onDeselect:function(){return b(e)},isRadio:!c})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{fillWidth:!0}))},showPageSizeOptions:!1}))}nl.defaultProps={multiple:!1,renderItemChip:null,searchColumns:[],sortColumns:[]};var rl=Object(c.withI18n)()(nl);function il(e,t){switch(t.type){case"SELECT_ITEM":return function(e,t){var a=e.selectedItems;if(!e.multiple)return Object(oe.a)(Object(oe.a)({},e),{},{selectedItems:[t]});if(a.findIndex((function(e){return e.id===t.id}))>-1)return e;return Object(oe.a)(Object(oe.a)({},e),{},{selectedItems:[].concat(Object(le.a)(a),[t])})}(e,t.item);case"DESELECT_ITEM":return function(e,t){return Object(oe.a)(Object(oe.a)({},e),{},{selectedItems:e.selectedItems.filter((function(e){return e.id!==t.id}))})}(e,t.item);case"TOGGLE_MODAL":return function(e){var t=e.isModalOpen,a=e.value,n=e.multiple;if(t)return ll(e);var r=[];n?r=Object(le.a)(a):a&&r.push(a);return Object(oe.a)(Object(oe.a)({},e),{},{isModalOpen:!t,selectedItems:r})}(e);case"CLOSE_MODAL":return ll(e);case"SET_MULTIPLE":return Object(oe.a)(Object(oe.a)({},e),{},{multiple:t.value});case"SET_VALUE":return Object(oe.a)(Object(oe.a)({},e),{},{value:t.value});case"SET_SELECTED_ITEMS":return Object(oe.a)(Object(oe.a)({},e),{},{selectedItems:t.selectedItems});default:throw new Error("Unrecognized action type: ".concat(t.type))}}function ll(e){return Object(oe.a)(Object(oe.a)({},e),{},{isModalOpen:!1})}function ol(e){var t=e.value,a=e.multiple,n=void 0!==a&&a,r=e.required,i=void 0!==r&&r;!function(e,t){if(!t&&Array.isArray(e))throw new Error("Lookup value must not be an array unless `multiple` is set");if(t&&!Array.isArray(e))throw new Error("Lookup value must be an array if `multiple` is set")}(t,n);var l=[];return t&&(l=n?Object(le.a)(t):[t]),{selectedItems:l,value:t,multiple:n,isModalOpen:!1,required:i}}function cl(){var e=Object(S.a)(["\n  --pf-c-form-control--BorderTopColor: var(--pf-global--BorderColor--200);\n  --pf-c-form-control--BorderRightColor: var(--pf-global--BorderColor--200);\n  --pf-c-form-control--Height: auto;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n"]);return cl=function(){return e},e}function sl(){var e=Object(S.a)(["\n  ","\n"]);return sl=function(){return e},e}function ul(){var e=Object(S.a)(["\n  ::after {\n    border: var(--pf-c-button--BorderWidth) solid\n      var(--pf-global--BorderColor--200);\n  }\n"]);return ul=function(){return e},e}var dl=Object(N.b)($.a)(ul());dl.displayName="SearchButton";var ml=Object(N.b)(Oa.a)(sl(),(function(e){return e.multiple&&"\n    --pf-c-form-control--Height: 90px;\n    overflow-y: auto;\n  "})),pl=N.b.div(cl());function bl(e){var t=e.id,a=e.header,i=e.onChange,l=e.onBlur,o=e.value,c=e.multiple,s=e.required,u=e.qsConfig,d=e.renderItemChip,m=e.renderOptionsList,p=e.history,b=e.i18n,f=Object(n.useReducer)(il,{value:o,multiple:c,required:s},ol),h=Object(O.a)(f,2),v=h[0],_=h[1];Object(n.useEffect)((function(){_({type:"SET_MULTIPLE",value:c})}),[c]),Object(n.useEffect)((function(){_({type:"SET_VALUE",value:o})}),[o]);var y=function(){var e=p.location.search.replace(/^\?/,"").split("&"),t=u.namespace,a=e.filter((function(e){return!e.startsWith("".concat(t,"."))}));p.push("".concat(p.location.pathname,"?").concat(a.join("&")))},E=function(e){i(c?o.filter((function(t){return t.id!==e.id})):null)},g=function(){y(),_({type:"CLOSE_MODAL"})},j=v.isModalOpen,k=v.selectedItems,w=!s||c&&o.length>1,C=[];return c?C=o:o&&C.push(o),r.a.createElement(n.Fragment,null,r.a.createElement(ml,{onBlur:l},r.a.createElement(dl,{"aria-label":"Search",id:t,onClick:function(){return _({type:"TOGGLE_MODAL"})},variant:$.b.tertiary},r.a.createElement(ia.a,null)),r.a.createElement(pl,{className:"pf-c-form-control"},r.a.createElement(rr,{numChips:5,totalChips:C.length},C.map((function(e){return d({item:e,removeItem:E,canDelete:w})}))))),r.a.createElement(Rn.a,{isFooterLeftAligned:!0,isLarge:!0,title:b._({id:"Select {0}",values:{0:a||b._({id:"Items"})}}),isOpen:j,onClose:g,actions:[r.a.createElement($.a,{key:"select",variant:"primary",onClick:function(){var e=v.selectedItems,t=c?e:e[0]||null;i(t),y(),_({type:"CLOSE_MODAL"})},isDisabled:s&&0===k.length},b._({id:"Select"})),r.a.createElement($.a,{key:"cancel",variant:"secondary",onClick:g},b._({id:"Cancel"}))]},m({state:v,dispatch:_,canDelete:w})))}bl.defaultProps={id:"lookup-search",header:null,value:null,multiple:!1,required:!1,onBlur:function(){},renderItemChip:function(e){var t=e.item,a=e.removeItem,n=e.canDelete;return r.a.createElement(ar.a,{key:t.id,onClick:function(){return a(t)},isReadOnly:!n},t.name)}};var fl=Object(c.withI18n)()(Object(o.k)(bl));var hl=Object(c.withI18n)()((function(e){var t=e.error,a=e.i18n;return t?r.a.createElement("div",{className:"pf-c-form__helper-text pf-m-error","aria-live":"polite"},t.message||a._({id:"An error occured"})):null})),vl=ce("organizations",{page:1,page_size:5,order_by:"name"});function _l(e){var t=e.helperTextInvalid,a=e.i18n,i=e.isValid,l=e.onBlur,o=e.onChange,c=e.required,s=e.value,u=e.history,d=Object(n.useState)([]),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(0),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)(null),E=Object(O.a)(y,2),g=E[0],j=E[1];return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(vl,u.location.search),e.prev=1,e.next=4,vt.read(t);case 4:a=e.sent,n=a.data,b(n.results),_(n.count),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),j(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[u.location]),r.a.createElement(mi.a,{fieldId:"organization",helperTextInvalid:t,isRequired:c,isValid:i,label:a._({id:"Organization"})},r.a.createElement(fl,{id:"organization",header:a._({id:"Organization"}),value:s,onBlur:l,onChange:o,qsConfig:vl,required:c,sortedColumnKey:"name",renderOptionsList:function(e){var t=e.state,n=e.dispatch,i=e.canDelete;return r.a.createElement(rl,{value:t.selectedItems,options:p,optionCount:v,multiple:t.multiple,header:a._({id:"Organization"}),name:"organization",qsConfig:vl,searchColumns:[{name:a._({id:"Name"}),key:"name",isDefault:!0},{name:a._({id:"Created By (Username)"}),key:"created_by__username"},{name:a._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:a._({id:"Name"}),key:"name"}],readOnly:!i,selectItem:function(e){return n({type:"SELECT_ITEM",item:e})},deselectItem:function(e){return n({type:"DESELECT_ITEM",item:e})}})}}),r.a.createElement(hl,{error:g}))}_l.defaultProps={helperTextInvalid:"",isValid:!0,onBlur:function(){},required:!1,value:null};var yl=Object(c.withI18n)()(Object(o.k)(_l)),El=a(1018),gl=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(""),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(""),p=Object(O.a)(m,2),b=p[0],f=p[1],h=Object(di.c)({name:"inputs.username"})[2],v=Object(di.c)({name:"inputs.project"})[2],_=Object(di.c)({name:"inputs.ssh_key_data"})[2];return r.a.createElement(zi,null,r.a.createElement(mi.a,{fieldId:"credential-gce-file",isValid:!l,label:t._({id:"Service account JSON file"}),helperText:t._({id:"Select a JSON formatted service account key to autopopulate the following fields."}),helperTextInvalid:l},r.a.createElement(El.a,{id:"credential-gce-file",value:b,filename:u,filenamePlaceholder:t._({id:"Choose a .json file"}),onChange:function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=16;break}return e.prev=1,f(a),d(a.name),e.next=6,a.text();case 6:n=e.sent,(r=JSON.parse(n)).client_email||r.project_id||r.private_key?(h.setValue(r.client_email||""),v.setValue(r.project_id||""),_.setValue(r.private_key||""),o(null)):o(t._({id:"Expected at least one of client_email, project_id or private_key to be present in the file."})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),o(t._({id:"There was an error parsing the file. Please check the file formatting and try again."}));case 14:e.next=22;break;case 16:f(""),d(""),h.setValue(""),v.setValue(""),_.setValue(""),o(null);case 22:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),dropzoneProps:{accept:".json",onDropRejected:function(){o(t._({id:"File upload rejected. Please select a single .json file."}))}}})),r.a.createElement(gi,{id:"credential-username",label:t._({id:"Service account email address"}),name:"inputs.username",type:"email",validate:Ji(null,t),isRequired:!0}),r.a.createElement(gi,{id:"credential-project",label:t._({id:"Project"}),name:"inputs.project",type:"text"}),r.a.createElement(Ui,null,r.a.createElement(gi,{id:"credential-sshKeyData",label:t._({id:"RSA private key"}),name:"inputs.ssh_key_data",type:"textarea",rows:6,validate:Ji(null,t),isRequired:!0})))})),jl=Object(c.withI18n)()((function(e){var t=e.i18n;return r.a.createElement(gi,{id:"credentual-username",label:t._({id:"Username"}),name:"inputs.username",type:"text"})})),Ol=Object(c.withI18n)()((function(e){var t=e.i18n;return r.a.createElement(Ti,{id:"credential-password",label:t._({id:"Password"}),name:"inputs.password"})})),kl=Object(c.withI18n)()((function(e){var t=e.i18n;return r.a.createElement(gi,{id:"credential-sshKeyData",label:t._({id:"SSH Private Key"}),name:"inputs.ssh_key_data",type:"textarea",rows:6})})),wl=Object(c.withI18n)()((function(e){var t=e.i18n;return r.a.createElement(Ti,{id:"credential-sshKeyUnlock",label:t._({id:"Private Key Passphrase"}),name:"inputs.ssh_key_unlock"})})),Cl=Object(c.withI18n)()((function(e){var t=e.i18n,a=[{value:"",key:"",label:t._({id:"Choose a Privelege Escalation Method"}),isDisabled:!0}].concat(Object(le.a)(["sudo","su","pbrun","pfexec","dzdo","pmrun","runas","enable","doas","ksu","machinectl","sesu"].map((function(e){return{value:e,key:e,label:e}})))),n=Object(di.c)("inputs.become_method"),i=n[0],l=n[2];return r.a.createElement(zi,null,r.a.createElement(jl,null),r.a.createElement(Ol,null),r.a.createElement(Ui,null,r.a.createElement(kl,null),r.a.createElement(gi,{id:"credential-sshPublicKeyData",label:t._({id:"Signed SSH Certificate"}),name:"inputs.ssh_public_key_data",type:"textarea"})),r.a.createElement(wl,null),r.a.createElement(mi.a,{fieldId:"credential-becomeMethod",label:t._({id:"Privelege Escalation Method"})},r.a.createElement(Hi,Object.assign({},i,{id:"credential-becomeMethod",data:a,onChange:function(e,t){l.setValue(t)}}))),r.a.createElement(gi,{id:"credential-becomeUsername",label:t._({id:"Privilege Escalation Username"}),name:"inputs.become_username",type:"text"}),r.a.createElement(Ti,{id:"credential-becomePassword",label:t._({id:"Privilege Escalation Password"}),name:"inputs.become_password"}))})),Sl=Object(c.withI18n)()((function(){return r.a.createElement(zi,null,r.a.createElement(jl,null),r.a.createElement(Ol,null),r.a.createElement(wl,null),r.a.createElement(Ui,null,r.a.createElement(kl,null)))}));function xl(e){var t,a=e.i18n,n=e.credentialTypes,i=e.formik,l=e.gceCredentialTypeId,o=e.initialValues,c=e.scmCredentialTypeId,s=e.sshCredentialTypeId,u=Object(di.c)("organization"),m=Object(O.a)(u,3),p=m[0],b=m[1],f=m[2],h=Object(di.c)({name:"credential_type",validate:Ji(a._({id:"Select a value for this field"}),a)}),v=Object(O.a)(h,3),_=v[0],y=v[1],g=v[2],j=Object.keys(n).map((function(e){return{value:n[e].id,key:n[e].kind,label:n[e].name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"credential-name",label:a._({id:"Name"}),name:"name",type:"text",validate:Ji(null,a),isRequired:!0}),r.a.createElement(gi,{id:"credential-description",label:a._({id:"Description"}),name:"description",type:"text"}),r.a.createElement(yl,{helperTextInvalid:b.error,isValid:!b.touched||!b.error,onBlur:function(){return f.setTouched()},onChange:function(e){f.setValue(e)},value:p.value,touched:b.touched,error:b.error}),r.a.createElement(mi.a,{fieldId:"credential-credentialType",helperTextInvalid:y.error,isRequired:!0,isValid:!y.touched||!y.error,label:a._({id:"Credential Type"})},r.a.createElement(Hi,Object.assign({},_,{id:"credential_type",data:[{value:"",key:"",label:a._({id:"Choose a Credential Type"}),isDisabled:!0}].concat(Object(le.a)(j)),onChange:function(e,t){g.setValue(t),function(e,t){Object.keys(t.initialValues.inputs).forEach((function(a){parseInt(e,10)===t.initialValues.credential_type?t.setFieldValue("inputs.".concat(a),o.inputs[a]):t.setFieldValue("inputs.".concat(a),""),t.setFieldTouched("inputs.".concat(a),!1)}))}(t,i)}}))),void 0!==_.value&&""!==_.value&&r.a.createElement(Mi,null,r.a.createElement(E.a,{size:"md"},a._({id:"Type Details"})),(t={},Object(d.a)(t,l,r.a.createElement(gl,null)),Object(d.a)(t,s,r.a.createElement(Cl,null)),Object(d.a)(t,c,r.a.createElement(Sl,null)),t)[_.value]))}function Tl(e){var t,a,n,i,l,o,c,s,u,d,m=e.credential,p=void 0===m?{}:m,b=e.credentialTypes,f=e.onSubmit,h=e.onCancel,v=e.submitError,_=Object(Q.a)(e,["credential","credentialTypes","onSubmit","onCancel","submitError"]),y={name:p.name||"",description:p.description||"",organization:(null===p||void 0===p||null===(t=p.summary_fields)||void 0===t?void 0:t.organization)||null,credential_type:p.credential_type||"",inputs:{become_method:(null===p||void 0===p||null===(a=p.inputs)||void 0===a?void 0:a.become_method)||"",become_password:(null===p||void 0===p||null===(n=p.inputs)||void 0===n?void 0:n.become_password)||"",become_username:(null===p||void 0===p||null===(i=p.inputs)||void 0===i?void 0:i.become_username)||"",password:(null===p||void 0===p||null===(l=p.inputs)||void 0===l?void 0:l.password)||"",project:(null===p||void 0===p||null===(o=p.inputs)||void 0===o?void 0:o.project)||"",ssh_key_data:(null===p||void 0===p||null===(c=p.inputs)||void 0===c?void 0:c.ssh_key_data)||"",ssh_key_unlock:(null===p||void 0===p||null===(s=p.inputs)||void 0===s?void 0:s.ssh_key_unlock)||"",ssh_public_key_data:(null===p||void 0===p||null===(u=p.inputs)||void 0===u?void 0:u.ssh_public_key_data)||"",username:(null===p||void 0===p||null===(d=p.inputs)||void 0===d?void 0:d.username)||""}},E=Object.keys(b).filter((function(e){return"scm"===b[e].namespace})).map((function(e){return b[e].id}))[0],g=Object.keys(b).filter((function(e){return"ssh"===b[e].namespace})).map((function(e){return b[e].id}))[0],j=Object.keys(b).filter((function(e){return"gce"===b[e].namespace})).map((function(e){return b[e].id}))[0];return r.a.createElement(di.b,{initialValues:y,onSubmit:function(e){var t=["username","password","ssh_key_data","ssh_key_unlock"],a=["username","password","ssh_key_data","ssh_public_key_data","ssh_key_unlock","become_method","become_username","become_password"],n=["username","ssh_key_data","project"];parseInt(e.credential_type,10)===E?Object.keys(e.inputs).forEach((function(a){t.indexOf(a)<0&&delete e.inputs[a]})):parseInt(e.credential_type,10)===g?Object.keys(e.inputs).forEach((function(t){a.indexOf(t)<0&&delete e.inputs[t]})):parseInt(e.credential_type,10)===j&&Object.keys(e.inputs).forEach((function(t){n.indexOf(t)<0&&delete e.inputs[t]})),f(e)}},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(xl,Object.assign({formik:e,initialValues:y,credentialTypes:b,gceCredentialTypeId:j,scmCredentialTypeId:E,sshCredentialTypeId:g},_)),r.a.createElement(Di,{error:v}),r.a.createElement(Vi,{onCancel:h,onSubmit:e.handleSubmit})))}))}Tl.proptype={handleSubmit:Wt.func.isRequired,handleCancel:Wt.func.isRequired,credential:Object(Wt.shape)({})},Tl.defaultProps={credential:{}};var Il=Object(c.withI18n)()(Tl);function Dl(e){var t=e.credential,a=e.me,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(!0),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(null),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(n.useState)(null),y=Object(O.a)(_,2),E=y[0],g=y[1],j=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it.read({or__namespace:["gce","scm","ssh"]});case 3:t=e.sent,a=t.data.results,v(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=function(){var e=Object(F.a)(U.a.mark((function e(n){var r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.organization,i=Object(Q.a)(n,["organization"]),g(null),e.prev=2,e.next=5,rt.update(t.id,Object(oe.a)({user:a&&a.id||null,organization:r&&r.id||null},i));case 5:l=e.sent,o=l.data.id,c="/credentials/".concat(o,"/details"),j.push("".concat(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(dn,null):m?r.a.createElement(bn,null):r.a.createElement(K,null,r.a.createElement(Il,{onCancel:function(){var e="/credentials/".concat(t.id,"/details");j.push("".concat(e))},onSubmit:k,credential:t,credentialTypes:h,submitError:E}))}Dl.proptype={inventory:Wt.object.isRequired};var Nl=Dl;var Ll=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(null),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!0),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(o.h)().pathname,E=Object(o.j)({path:"/credentials/:id"}),g=Object(o.i)().id;Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rt.readDetail(g);case 3:t=e.sent,n=t.data,a(n),s(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[g,_,a]);var j=[{name:t._({id:"Details"}),link:"/credentials/".concat(g,"/details"),id:0}];c&&c.organization&&j.push({name:t._({id:"Access"}),link:"/credentials/".concat(g,"/access"),id:1});var k=h?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:j}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/credentials"})));return(_.endsWith("edit")||_.endsWith("add"))&&(k=null),!h&&m?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:m},m.response&&404===m.response.status&&r.a.createElement("span",null,t._("Credential not found.")," ",r.a.createElement(D.b,{to:"/credentials"},t._("View all Credentials.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,k,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/credentials/:id",to:"/credentials/:id/details",exact:!0}),c&&[r.a.createElement(o.b,{key:"details",path:"/credentials/:id/details"},r.a.createElement(ui,{credential:c})),r.a.createElement(o.b,{key:"edit",path:"/credentials/:id/edit"},r.a.createElement(Nl,{credential:c})),c.organization&&r.a.createElement(o.b,{key:"access",path:"/credentials/:id/access"},r.a.createElement(ni,{resource:c,apiModel:rt})),r.a.createElement(o.b,{key:"not-found",path:"*"},!h&&r.a.createElement(dn,{isNotFound:!0},E.params.id&&r.a.createElement(D.b,{to:"/credentials/".concat(E.params.id,"/details")},t._("View Credential Details"))))],r.a.createElement(o.b,{key:"not-found",path:"*"},!h&&r.a.createElement(dn,{isNotFound:!0},g&&r.a.createElement(D.b,{to:"/credentials/".concat(g,"/details")},t._("View Credential Details")))))))}));var Rl=function(e){var t=e.me,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)(!0),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(null),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(null),_=Object(O.a)(v,2),E=_[0],g=_[1],j=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it.read({or__namespace:["gce","scm","ssh"]});case 3:t=e.sent,a=t.data.results,h(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.organization,r=Object(Q.a)(a,["organization"]),g(null),e.prev=2,e.next=5,rt.create(Object(oe.a)({user:t&&t.id||null,organization:n&&n.id||null},r));case 5:i=e.sent,l=i.data.id,o="/credentials/".concat(l,"/details"),j.push("".concat(o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(dn,{error:l})))):d?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(bn,null)))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(Il,{onCancel:function(){j.push("/credentials")},onSubmit:k,credentialTypes:f,submitError:E}))))};function Al(e,t){var a=Object(n.useState)(t),r=Object(O.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)(null),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useRef)(null);return Object(n.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]),{result:i,error:s,isLoading:p,request:Object(n.useCallback)(Object(F.a)(U.a.mark((function t(){var a,n=arguments;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.prev=1,t.next=4,e.apply(void 0,n);case 4:a=t.sent,f.current&&l(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f.current&&u(t.t0);case 11:return t.prev=11,f.current&&b(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),[e]),setValue:l}}function Pl(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){e&&i(!0)}),[e]),{error:r?e:null,dismissError:function(){i(!1)}}}function zl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.qsConfig,n=void 0===a?null:a,r=t.allItemsSelected,i=void 0!==r&&r,l=t.fetchItems,c=void 0===l?null:l,s=Object(o.h)(),u=Object(o.g)(),d=Al(e,null),m=d.error,p=d.isLoading,b=d.request,f=Pl(m),h=f.error,v=f.dismissError,_=function(){var e=Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:if(n){e.next=4;break}return e.abrupt("return");case 4:(t=se(n,s.search)).page>1&&i?(a=me(n,_e(t,{page:t.page-1})),u.push("".concat(s.pathname,"?").concat(a))):c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isLoading:p,deleteItems:_,deletionError:h,clearDeletionError:v}}var Ul=a(977),Fl=a(978),Ml=a(976);var ql=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.copyItem,i=e.onLoading,l=e.onDoneLoading,o=e.helperText,c=Al(a),s=c.isLoading,u=c.error,d=c.request;Object(n.useEffect)((function(){return s?i():l()}),[s,i,l]);var m=Pl(u),p=m.error,b=m.dismissError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln.a,{content:o.tooltip,position:"top"},r.a.createElement($.a,{"aria-label":t._({id:"Copy"}),variant:"plain",onClick:d},r.a.createElement(Ml.a,null))),r.a.createElement(Gn,{"aria-label":t._({id:"Copy Error"}),isOpen:p,variant:"error",title:t._({id:"Error!"}),onClose:b},o.errorMessage,r.a.createElement(cn,{error:p})))}));function Vl(){var e=Object(S.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(2, 40px);\n"]);return Vl=function(){return e},e}var Bl=Object(N.b)(Ul.a)(Vl());var Wl=Object(c.withI18n)()((function(e){var t=e.credential,a=e.detailUrl,i=e.isSelected,l=e.onSelect,o=e.i18n,c=e.fetchCredentials,s=Object(n.useState)(!1),u=Object(O.a)(s,2),d=u[0],m=u[1],p="check-action-".concat(t.id),b=t.summary_fields.user_capabilities.edit,f=Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.copy(t.id,{name:"".concat(t.name," @ ").concat(Br())});case 2:return e.next=4,c();case 4:case"end":return e.stop()}}),e)}))),[t.id,t.name,c]);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":p,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{isDisabled:d,id:"select-credential-".concat(t.id),checked:i,onChange:l,"aria-labelledby":p}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(a)},r.a.createElement("b",null,t.name))),r.a.createElement(Sn,{key:"type"},t.summary_fields.credential_type.name)]}),r.a.createElement(Bl,{"aria-label":"actions","aria-labelledby":p,id:p},b&&r.a.createElement(Ln.a,{content:o._({id:"Edit Credential"}),position:"top"},r.a.createElement($.a,{isDisabled:d,"aria-label":o._({id:"Edit Credential"}),variant:"plain",component:D.b,to:"/credentials/".concat(t.id,"/edit")},r.a.createElement(Fl.a,null))),t.summary_fields.user_capabilities.copy&&r.a.createElement(ql,{isDisabled:d,onLoading:function(){return m(!0)},onDoneLoading:function(){return m(!1)},copyItem:f,helperText:{tooltip:o._({id:"Copy Credential"}),errorMessage:o._({id:"Failed to copy credential."})}}))))})),Gl=ce("credential",{page:1,page_size:20,order_by:"name"});var Hl=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)([]),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.h)(),u=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Gl,s.search),e.next=3,Promise.all([rt.read(t),rt.readOptions()]);case 3:return a=e.sent,n=Object(O.a)(a,2),r=n[0],i=n[1],e.abrupt("return",{credentials:r.data.results,credentialCount:r.data.count,actions:i.data.actions});case 8:case"end":return e.stop()}}),e)}))),[s]),{credentials:[],credentialCount:0,actions:{}}),d=u.result,m=d.credentials,p=d.credentialCount,b=d.actions,f=u.error,h=u.isLoading,v=u.request;Object(n.useEffect)((function(){v()}),[v]);var _=l.length>0&&l.length===m.length,E=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(l.map((function(e){var t=e.id;return rt.destroy(t)}))));case 1:case"end":return e.stop()}}),e)}))),[l]),{qsConfig:Gl,allItemsSelected:_,fetchItems:v}),g=E.isLoading,j=E.deleteItems,k=E.deletionError,w=E.clearDeletionError,C=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:c([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){c(e?Object(le.a)(m):[])},x=function(e){l.some((function(t){return t.id===e.id}))?c(l.filter((function(t){return t.id!==e.id}))):c(l.concat(e))},T=b&&Object.prototype.hasOwnProperty.call(b,"POST");return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:f,hasContentLoading:h||g,items:m,itemCount:p,qsConfig:Gl,onRowClick:x,renderItem:function(e){return r.a.createElement(Wl,{key:e.id,credential:e,fetchCredentials:v,detailUrl:"/credentials/".concat(e.id,"/details"),isSelected:l.some((function(t){return t.id===e.id})),onSelect:function(){return x(e)}})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:_,onSelectAll:S,qsConfig:Gl,additionalControls:[].concat(Object(le.a)(T?[r.a.createElement(Xn,{key:"add",linkTo:"/credentials/add"})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:C,itemsToDelete:l,pluralizedItemName:t._({id:"Credentials"})})])}))}})),r.a.createElement(Gn,{"aria-label":t._({id:"Deletion Error"}),isOpen:k,variant:"error",title:t._({id:"Error!"}),onClose:w},t._({id:"Failed to delete one or more credentials."}),r.a.createElement(cn,{error:k})))}));var Jl=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)({"/credentials":t._({id:"Credentials"}),"/credentials/add":t._({id:"Create New Credential"})}),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useCallback)((function(e){var a;e&&c((a={"/credentials":t._({id:"Credentials"}),"/credentials/add":t._({id:"Create New Credential"})},Object(d.a)(a,"/credentials/".concat(e.id),"".concat(e.name)),Object(d.a)(a,"/credentials/".concat(e.id,"/edit"),t._({id:"Edit Details"})),Object(d.a)(a,"/credentials/".concat(e.id,"/details"),t._({id:"Details"})),Object(d.a)(a,"/credentials/".concat(e.id,"/access"),t._({id:"Access"})),a))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:l}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/credentials/add"},r.a.createElement(C,null,(function(e){var t=e.me;return r.a.createElement(Rl,{me:t||{}})}))),r.a.createElement(o.b,{path:"/credentials/:id"},r.a.createElement(Ll,{setBreadcrumb:s})),r.a.createElement(o.b,{path:"/credentials"},r.a.createElement(Hl,null))))})),Kl=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Credential Types"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),Yl=Object(c.withI18n)()(Kl),Xl=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Dashboard"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),Zl=Object(c.withI18n)()(Xl);function Ql(){var e=Object(S.a)(["\n  background-color: #2dbaba;\n"]);return Ql=function(){return e},e}function $l(){var e=Object(S.a)([""]);return $l=function(){return e},e}function eo(){var e=Object(S.a)(["\n  background-color: #ff9900;\n"]);return eo=function(){return e},e}function to(){var e=Object(S.a)([""]);return to=function(){return e},e}function ao(){var e=Object(S.a)(["\n  background-color: #ff0000;\n"]);return ao=function(){return e},e}function no(){var e=Object(S.a)([""]);return no=function(){return e},e}function ro(){var e=Object(S.a)(["\n  background-color: #d9534f;\n"]);return ro=function(){return e},e}function io(){var e=Object(S.a)([""]);return io=function(){return e},e}function lo(){var e=Object(S.a)([""]);return lo=function(){return e},e}function oo(){var e=Object(S.a)(["\n  background-color: #5cb85c;\n"]);return oo=function(){return e},e}function co(){var e=Object(S.a)(["\n  flex: 0 1 auto;\n  > * {\n    width: 14px;\n    height: 7px;\n  }\n"]);return co=function(){return e},e}function so(){var e=Object(S.a)(["\n  border: 1px solid #d7d7d7;\n"]);return so=function(){return e},e}function uo(){var e=Object(S.a)(["\n  background-color: #5cb85c;\n  padding-right: 0px;\n  text-shadow: -1px -1px 0 #ffffff, 1px -1px 0 #ffffff, -1px 1px 0 #ffffff,\n    1px 1px 0 #ffffff;\n  animation: "," 1.5s linear infinite alternate;\n"]);return uo=function(){return e},e}function mo(){var e=Object(S.a)(["\n  border: 1px solid #b7b7b7;\n  border-top: 0;\n  background: #ffffff;\n"]);return mo=function(){return e},e}function po(){var e=Object(S.a)(["\n  border: 1px solid #b7b7b7;\n  border-bottom: 0;\n  background: #ffffff;\n"]);return po=function(){return e},e}function bo(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  flex-flow: column nowrap;\n  height: 14px;\n  margin: 5px 0;\n  width: 14px;\n"]);return bo=function(){return e},e}function fo(){var e=Object(S.a)(["\n  from {\n    -webkit-transform:scale(1);\n  }\n  to {\n    -webkit-transform:scale(0);\n  }\n"]);return fo=function(){return e},e}var ho=Object(N.c)(fo()),vo=N.b.div(bo()),_o=N.b.div(po()),yo=N.b.div(mo()),Eo=Object(N.b)(vo)(uo(),ho),go=Object(N.b)(vo)(so()),jo=Object(N.b)(vo)(co()),Oo=N.b.div(oo()),ko=Object(N.b)(yo)(lo()),wo=Object(N.b)(_o)(io()),Co=N.b.div(ro()),So=Object(N.b)(_o)(no()),xo=N.b.div(ao()),To=Object(N.b)(_o)(to()),Io=N.b.div(eo()),Do=Object(N.b)(_o)($l()),No=N.b.div(Ql());Eo.displayName="RunningJob",go.displayName="WaitingJob",jo.displayName="FinishedJob",Oo.displayName="SuccessfulTop",ko.displayName="SuccessfulBottom",wo.displayName="FailedTop",Co.displayName="FailedBottom",So.displayName="UnreachableTop",xo.displayName="UnreachableBottom",To.displayName="ChangedTop",Io.displayName="ChangedBottom",Do.displayName="SkippedTop",No.displayName="SkippedBottom";var Lo=function(e){var t=e.status,a=Object(Q.a)(e,["status"]);return r.a.createElement("div",a,"running"===t&&r.a.createElement(Eo,null),("new"===t||"pending"===t||"waiting"===t||"never updated"===t)&&r.a.createElement(go,null),("failed"===t||"error"===t||"canceled"===t)&&r.a.createElement(jo,null,r.a.createElement(wo,null),r.a.createElement(Co,null)),("successful"===t||"ok"===t)&&r.a.createElement(jo,null,r.a.createElement(Oo,null),r.a.createElement(ko,null)),"changed"===t&&r.a.createElement(jo,null,r.a.createElement(To,null),r.a.createElement(Io,null)),"skipped"===t&&r.a.createElement(jo,null,r.a.createElement(Do,null),r.a.createElement(No,null)),"unreachable"===t&&r.a.createElement(jo,null,r.a.createElement(So,null),r.a.createElement(xo,null)))},Ro={job:"playbook",project_update:"project",system_job:"system",inventory_update:"inventory",ad_hoc_command:"command",workflow_job:"workflow"};function Ao(){var e=Object(S.a)(["\n  display: inline-flex;\n"]);return Ao=function(){return e},e}function Po(){var e=Object(S.a)(["\n  margin-right: 5px;\n"]);return Po=function(){return e},e}var zo=Object(N.b)((function(e){return r.a.createElement(D.b,e)}))(Po()),Uo=N.b.div(Ao()),Fo=function(e){var t=e.i18n,a=e.jobs,i=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,t._({id:"JOB ID:"})," ",e.id),r.a.createElement("div",null,t._({id:"STATUS:"})," ",e.status.toUpperCase()),e.finished&&r.a.createElement("div",null,t._({id:"FINISHED:"})," ",Mr(e.finished)))},l=a.map((function(e){return r.a.createElement(Ln.a,{position:"top",content:i(e),key:e.id},r.a.createElement(zo,{"aria-label":t._({id:"View job {0}",values:{0:e.id}}),to:"/jobs/".concat(Ro[e.type],"/").concat(e.id)},r.a.createElement(Lo,{status:e.status})))}));return r.a.createElement(Uo,null,l)};Fo.defaultProps={jobs:[]};var Mo=Object(c.withI18n)()(Fo),qo=a(979),Vo=Object(N.b)(qo.a).withConfig({displayName:"HostToggle___StyledSwitch",componentId:"oscq6d-0"})(["display:inline-flex;"]);var Bo=Object(c.withI18n)()((function(e){var t=e.host,a=e.onToggle,i=e.className,l=e.i18n,o=Object(n.useState)(t.enabled),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.update(t.id,{enabled:!s});case 2:return e.abrupt("return",!s);case 3:case"end":return e.stop()}}),e)}))),[t,s]),t.enabled),h=f.result,v=f.isLoading,_=f.error,y=f.request;return Object(n.useEffect)((function(){h!==s&&(u(h),a&&a(h))}),[h,s,a]),Object(n.useEffect)((function(){_&&b(!0)}),[_]),r.a.createElement(n.Fragment,null,r.a.createElement(Ln.a,{content:l._({id:"Indicates if a host is available and should be included in running jobs.  For hosts that are part of an external inventory, this may be reset by the inventory sync process."}),position:"top"},r.a.createElement(Vo,{className:i,id:"host-".concat(t.id,"-toggle"),label:l._({id:"On"}),labelOff:l._({id:"Off"}),isChecked:s,isDisabled:v||!t.summary_fields.user_capabilities.edit,onChange:y,"aria-label":l._({id:"Toggle host"})})),p&&_&&!v&&r.a.createElement(Gn,{variant:"error",title:l._({id:"Error!"}),isOpen:_&&!v,onClose:function(){return b(!1)}},l._({id:"Failed to toggle host."}),r.a.createElement(cn,{error:_})))})),Wo=Object(N.b)(Ul.a).withConfig({displayName:"HostListItem__DataListAction",componentId:"wxexdj-0"})(["align-items:center;display:grid;grid-gap:24px;grid-template-columns:92px 40px;"]),Go=Object(N.b)("b").withConfig({displayName:"HostListItem___StyledB",componentId:"wxexdj-1"})(["margin-right:24px"]);var Ho=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=e.isSelected,l=e.onSelect,o=e.detailUrl,c="check-action-".concat(a.id),s=a.summary_fields.recent_jobs.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})}));return r.a.createElement(gn.a,{key:a.id,"aria-labelledby":c,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-host-".concat(a.id),checked:i,onChange:l,"aria-labelledby":c}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(o)},r.a.createElement("b",null,a.name))),r.a.createElement(Sn,{key:"recentJobs"},r.a.createElement(Mo,{jobs:s})),r.a.createElement(Sn,{key:"inventory"},a.summary_fields.inventory&&r.a.createElement(n.Fragment,null,r.a.createElement(Go,null,t._({id:"Inventory"})),r.a.createElement(D.b,{to:"/inventories/".concat("smart"===a.summary_fields.inventory.kind?"smart_inventory":"inventory","/").concat(a.summary_fields.inventory.id,"/details")},a.summary_fields.inventory.name)))]}),r.a.createElement(Wo,{"aria-label":"actions","aria-labelledby":c,id:c},r.a.createElement(Bo,{host:a}),a.summary_fields.user_capabilities.edit?r.a.createElement(Ln.a,{content:t._({id:"Edit Host"}),position:"top"},r.a.createElement($.a,{"aria-label":t._({id:"Edit Host"}),variant:"plain",component:D.b,to:"/hosts/".concat(a.id,"/edit")},r.a.createElement(Fl.a,null))):"")))})),Jo=ce("host",{page:1,page_size:20,order_by:"name"});var Ko=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(o.j)(),l=Object(n.useState)([]),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Jo,a.search),e.next=3,Promise.all([ot.read(t),ot.readOptions()]);case 3:return n=e.sent,e.abrupt("return",{hosts:n[0].data.results,count:n[0].data.count,actions:n[1].data.actions});case 5:case"end":return e.stop()}}),e)}))),[a]),{hosts:[],count:0,actions:{}}),m=d.result,p=m.hosts,b=m.count,f=m.actions,h=d.error,v=d.isLoading,_=d.request;Object(n.useEffect)((function(){_()}),[_]);var E=s.length===p.length&&s.length>0,g=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(s.map((function(e){return ot.destroy(e.id)}))));case 1:case"end":return e.stop()}}),e)}))),[s]),{qsConfig:Jo,allItemsSelected:E,fetchItems:_}),j=g.isLoading,k=g.deleteItems,w=g.deletionError,C=g.clearDeletionError,S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:u([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){u(e?Object(le.a)(p):[])},T=function(e){s.some((function(t){return t.id===e.id}))?u(s.filter((function(t){return t.id!==e.id}))):u(s.concat(e))},I=f&&Object.prototype.hasOwnProperty.call(f,"POST");return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:h,hasContentLoading:v||j,items:p,itemCount:b,pluralizedItemName:t._({id:"Hosts"}),qsConfig:Jo,onRowClick:T,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:E,onSelectAll:x,qsConfig:Jo,additionalControls:[].concat(Object(le.a)(I?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:S,itemsToDelete:s,pluralizedItemName:t._({id:"Hosts"})})])}))},renderItem:function(e){return r.a.createElement(Ho,{key:e.id,host:e,detailUrl:"".concat(i.url,"/").concat(e.id,"/details"),isSelected:s.some((function(t){return t.id===e.id})),onSelect:function(){return T(e)}})},emptyStateControls:I?r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")}):null})),w&&r.a.createElement(Gn,{isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:C},t._({id:"Failed to delete one or more hosts."}),r.a.createElement(cn,{error:w})))})),Yo=a(425);a(671),a(672),a(673),a(674);function Xo(){var e=Object(S.a)(["\n  && {\n    height: initial;\n    padding: 0;\n  }\n\n  & > .CodeMirror {\n    height: ",";\n    font-family: var(--pf-global--FontFamily--monospace);\n  }\n\n  ","\n\n  ","\n"]);return Xo=function(){return e},e}var Zo=Object(N.b)(Yo.Controlled)(Xo(),(function(e){return e.fullHeight?"auto":"".concat(24*e.rows+12,"px")}),(function(e){return e.hasErrors&&"\n    && {\n      --pf-c-form-control--PaddingRight: var(--pf-c-form-control--invalid--PaddingRight);\n      --pf-c-form-control--BorderBottomColor: var(--pf-c-form-control--invalid--BorderBottomColor);\n      padding-right: 24px;\n      padding-bottom: var(--pf-c-form-control--invalid--PaddingBottom);\n      background: var(--pf-c-form-control--invalid--Background);\n      border-bottom-width: var(--pf-c-form-control--invalid--BorderBottomWidth);\n    }"}),(function(e){return e.options&&e.options.readOnly&&"\n    &,\n    &:hover {\n      --pf-c-form-control--BorderBottomColor: var(--pf-global--BorderColor--300);\n    }\n\n    .CodeMirror-cursors {\n      display: none;\n    }\n\n    .CodeMirror-lines {\n      cursor: default;\n    }\n\n    .CodeMirror-scroll {\n      background-color: var(--pf-c-form-control--disabled--BackgroundColor);\n    }\n  "}));function Qo(e){var t=e.value,a=e.onChange,i=e.mode,l=e.readOnly,o=e.hasErrors,c=e.rows,s=e.fullHeight,u=e.className,d=Object(n.useState)(!1),m=Object(O.a)(d,2),p=m[0],b=m[1];return Object(n.useEffect)((function(){p||b(!0)}),[p]),p?r.a.createElement(Zo,{className:"pf-c-form-control ".concat(u),value:t,onBeforeChange:function(e,t,n){return a(n)},mode:i,hasErrors:o,options:{smartIndent:!1,lineNumbers:!0,lineWrapping:!0,readOnly:l},fullHeight:s,rows:c}):r.a.createElement("div",null)}Qo.defaultProps={readOnly:!1,onChange:function(){},rows:6,fullHeight:!1,hasErrors:!1};var $o=Qo;function ec(){var e=Object(S.a)(["\n  display: inline-flex;\n\n  & > .pf-c-button:not(:last-child) {\n    &,\n    &::after {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n\n  & > .pf-c-button:not(:first-child) {\n    &,\n    &::after {\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n    }\n  }\n"]);return ec=function(){return e},e}var tc=N.b.div(ec());var ac=function(e){var t=e.children;return r.a.createElement(tc,null,t)};function nc(){var e=Object(S.a)(["\n  padding: 3px 8px;\n  font-size: var(--pf-global--FontSize--xs);\n"]);return nc=function(){return e},e}var rc=Object(N.b)($.a)(nc());var ic=function(e){var t=e.buttons,a=e.value,n=e.onChange;return r.a.createElement(ac,null,t&&t.map((function(e){var t=Object(O.a)(e,2),i=t[0],l=t[1];return r.a.createElement(rc,{"aria-label":l,key:l,onClick:function(){var e;a!==(e=i)&&n(e)},variant:i===a?"primary":"secondary"},l)})))},lc=a(128),oc=a.n(lc);function cc(e){var t=oc.a.safeLoad(e);if(!t)return"{}";if("object"!==typeof t)throw new Error("yaml is not in object format");return JSON.stringify(t,null,2)}function sc(e){if(""===e.trim())return"---\n";var t=JSON.parse(e);return 0===Object.entries(t).length?"---\n":oc.a.safeDump(t)}function uc(e){if("string"!==typeof e)return!1;var t;try{t=JSON.parse(e)}catch(a){return!1}return"object"===typeof t&&null!==t}var dc="javascript";function mc(e,t){return e?uc(e)===(t===dc)?e:"yaml"===t?sc(e):cc(e):t===dc?"{}":"---"}var pc=Object(N.b)(Ir).withConfig({displayName:"VariablesDetail___StyledDetailName",componentId:"sc-126yzyl-0"})(["grid-column:1 / -1"]),bc=Object(N.b)("span").withConfig({displayName:"VariablesDetail___StyledSpan",componentId:"sc-126yzyl-1"})(["font-weight:var(--pf-global--FontWeight--bold)"]),fc=Object(N.b)(Dr).withConfig({displayName:"VariablesDetail___StyledDetailValue",componentId:"sc-126yzyl-2"})(["grid-column:1 / -1;margin-top:-20px"]),hc=Object(N.b)($o).withConfig({displayName:"VariablesDetail___StyledCodeMirrorInput",componentId:"sc-126yzyl-3"})(["margin-top:10px"]),vc=Object(N.b)("div").withConfig({displayName:"VariablesDetail___StyledDiv",componentId:"sc-126yzyl-4"})(["color:var(--pf-global--danger-color--100);font-size:var(--pf-global--FontSize--sm"]);function _c(e){var t=e.value,a=e.label,i=e.rows,l=e.fullHeight,o=Object(n.useState)(uc(t)?dc:"yaml"),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(t||"---"),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(null),h=Object(O.a)(f,2),v=h[0],_=h[1];return Object(n.useEffect)((function(){b(mc(t,s))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(pc,{component:Sr.b.dt,fullWidth:!0},r.a.createElement(er.a,{gutter:"sm"},r.a.createElement(tr.a,null,r.a.createElement("div",{className:"pf-c-form__label"},r.a.createElement(bc,{className:"pf-c-form__label-text"},a))),r.a.createElement(tr.a,null,r.a.createElement(ic,{buttons:[["yaml","YAML"],[dc,"JSON"]],value:s,onChange:function(e){try{b(mc(p,e)),u(e)}catch(t){_(t)}}})))),r.a.createElement(fc,{component:Sr.b.dd,fullWidth:!0},r.a.createElement(hc,{mode:s,value:p,readOnly:!0,rows:i,fullHeight:l}),v&&r.a.createElement(vc,null,"Error: ",v.message)))}_c.defaultProps={rows:null};var yc=_c;function Ec(){var e=Object(S.a)(["\n  --pf-c-form__label--FontSize: var(--pf-global--FontSize--sm);\n"]);return Ec=function(){return e},e}function gc(){var e=Object(S.a)(["\n  margin-bottom: 5px;\n"]);return gc=function(){return e},e}var jc=Object(N.b)(tr.a)(gc());function Oc(e){var t,a=e.id,i=e.label,l=e.readOnly,o=e.rows,c=e.error,s=e.onError,u=e.className,d=uc(e.value)?(t=e.value,JSON.stringify(JSON.parse(t),null,2)):e.value,m=Object(n.useState)(d),p=Object(O.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)(uc(b)?dc:"yaml"),v=Object(O.a)(h,2),_=v[0],y=v[1],E=!!e.onChange,g=function(t){E&&e.onChange(t),f(t)};return r.a.createElement("div",{className:"pf-c-form__group ".concat(u||"")},r.a.createElement(er.a,{gutter:"sm"},r.a.createElement(tr.a,null,r.a.createElement("label",{htmlFor:a,className:"pf-c-form__label"},i)),r.a.createElement(jc,null,r.a.createElement(ic,{buttons:[["yaml","YAML"],[dc,"JSON"]],value:_,onChange:function(e){try{g(_===dc?sc(b):cc(b)),y(e)}catch(t){s(t.message)}}}))),r.a.createElement($o,{mode:_,readOnly:l,value:b,onChange:g,rows:o,hasErrors:!!c}),c?r.a.createElement("div",{className:"pf-c-form__helper-text pf-m-error","aria-live":"polite"},c):null)}Oc.defaultProps={readOnly:!1,onChange:null,rows:6,error:null,onError:function(){}};var kc=Object(N.b)(Oc)(Ec());function wc(){var e=Object(S.a)(["\n  --pf-c-check__label--FontSize: var(--pf-c-form__label--FontSize);\n"]);return wc=function(){return e},e}function Cc(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Cc=function(){return e},e}var Sc=N.b.div(Cc()),xc=Object(N.b)(wi)(wc());function Tc(e){var t=e.i18n,a=e.id,i=e.name,l=e.label,o=e.readOnly,c=e.promptId,s=e.tooltip,u=Object(di.c)(i),d=Object(O.a)(u,3),m=d[0],p=d[1],b=d[2],f=Object(n.useState)(uc(m.value)?dc:"yaml"),h=Object(O.a)(f,2),v=h[0],_=h[1];return r.a.createElement("div",{className:"pf-c-form__group"},r.a.createElement(Sc,null,r.a.createElement(er.a,{gutter:"sm"},r.a.createElement(tr.a,null,r.a.createElement("label",{htmlFor:a,className:"pf-c-form__label"},r.a.createElement("span",{className:"pf-c-form__label-text"},l)),s&&r.a.createElement(yi,{content:s})),r.a.createElement(tr.a,null,r.a.createElement(ic,{buttons:[["yaml","YAML"],[dc,"JSON"]],value:v,onChange:function(e){try{var t="yaml"===e?sc(m.value):cc(m.value);b.setValue(t),_(e)}catch(a){b.setError(a.message)}}}))),c&&r.a.createElement(xc,{id:"template-ask-variables-on-launch",label:t._({id:"Prompt on launch"}),name:"ask_variables_on_launch"})),r.a.createElement($o,Object.assign({mode:v,readOnly:o},m,{onChange:function(e){b.setValue(e)},hasErrors:!!p.error})),p.error?r.a.createElement("div",{className:"pf-c-form__helper-text pf-m-error","aria-live":"polite"},p.error):null)}Tc.defaultProps={readOnly:!1,promptId:null};var Ic=Object(c.withI18n)()(Tc),Dc=$o,Nc=ce("instance_groups",{page:1,page_size:5,order_by:"name"});function Lc(e){var t=e.value,a=e.onChange,i=e.tooltip,l=e.className,o=e.required,c=e.history,s=e.i18n,u=Object(n.useState)([]),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(0),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(n.useState)(null),y=Object(O.a)(_,2),E=y[0],g=y[1];return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Nc,c.location.search),e.prev=1,e.next=4,ct.read(t);case 4:a=e.sent,n=a.data,p(n.results),v(n.count),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[c.location]),r.a.createElement(mi.a,{className:l,label:s._({id:"Instance Groups"}),fieldId:"org-instance-groups"},i&&r.a.createElement(yi,{content:i}),r.a.createElement(fl,{id:"org-instance-groups",header:s._({id:"Instance Groups"}),value:t,onChange:a,qsConfig:Nc,multiple:!0,required:o,renderOptionsList:function(e){var t=e.state,a=e.dispatch,n=e.canDelete;return r.a.createElement(rl,{value:t.selectedItems,options:m,optionCount:h,searchColumns:[{name:s._({id:"Name"}),key:"name",isDefault:!0},{name:s._({id:"Credential Name"}),key:"credential__name"}],sortColumns:[{name:s._({id:"Name"}),key:"name"}],multiple:t.multiple,header:s._({id:"Instance Groups"}),name:"instanceGroups",qsConfig:Nc,readOnly:!n,selectItem:function(e){return a({type:"SELECT_ITEM",item:e})},deselectItem:function(e){return a({type:"DESELECT_ITEM",item:e})}})}}),r.a.createElement(hl,{error:E}))}Lc.defaultProps={tooltip:"",className:"",required:!1};var Rc=Object(c.withI18n)()(Object(o.k)(Lc)),Ac=ce("inventory",{page:1,page_size:5,order_by:"name"});function Pc(e){var t=e.value,a=e.onChange,i=e.onBlur,l=e.required,o=e.i18n,c=e.history,s=Object(n.useState)([]),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(0),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(null),_=Object(O.a)(v,2),y=_[0],E=_[1];return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Ac,c.location.search),e.prev=1,e.next=4,st.read(t);case 4:a=e.sent,n=a.data,m(n.results),h(n.count),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),E(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[c.location]),r.a.createElement(r.a.Fragment,null,r.a.createElement(fl,{id:"inventory-lookup",header:o._({id:"Inventory"}),value:t,onChange:a,onBlur:i,required:l,qsConfig:Ac,renderOptionsList:function(e){var t=e.state,a=e.dispatch,n=e.canDelete;return r.a.createElement(rl,{value:t.selectedItems,options:d,optionCount:f,searchColumns:[{name:o._({id:"Name"}),key:"name",isDefault:!0},{name:o._({id:"Created By (Username)"}),key:"created_by__username"},{name:o._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:o._({id:"Name"}),key:"name"}],multiple:t.multiple,header:o._({id:"Inventory"}),name:"inventory",qsConfig:Ac,readOnly:!n,selectItem:function(e){return a({type:"SELECT_ITEM",item:e})},deselectItem:function(e){return a({type:"DESELECT_ITEM",item:e})}})}}),r.a.createElement(hl,{error:y}))}Pc.defaultProps={value:null,required:!1};var zc=Object(c.withI18n)()(Object(o.k)(Pc)),Uc=ce("project",{page:1,page_size:5,order_by:"name"});function Fc(e){var t=e.helperTextInvalid,a=e.i18n,i=e.isValid,l=e.onChange,o=e.required,c=e.tooltip,s=e.value,u=e.onBlur,d=e.history,m=Object(n.useState)([]),p=Object(O.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)(0),v=Object(O.a)(h,2),_=v[0],y=v[1],E=Object(n.useState)(null),g=Object(O.a)(E,2),j=g[0],k=g[1];return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Uc,d.location.search),e.prev=1,e.next=4,_t.read(t);case 4:a=e.sent,n=a.data,f(n.results),y(n.count),1===n.count&&l(n.results[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),k(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()}),[l,d.location]),r.a.createElement(mi.a,{fieldId:"project",helperTextInvalid:t,isRequired:o,isValid:i,label:a._({id:"Project"})},c&&r.a.createElement(yi,{content:c}),r.a.createElement(fl,{id:"project",header:a._({id:"Project"}),name:"project",value:s,onBlur:u,onChange:l,required:o,qsConfig:Uc,renderOptionsList:function(e){var t=e.state,n=e.dispatch,i=e.canDelete;return r.a.createElement(rl,{value:t.selectedItems,searchColumns:[{name:a._({id:"Name"}),key:"name",isDefault:!0},{name:a._({id:"Type"}),key:"scm_type",options:[["",a._({id:"Manual"})],["git",a._({id:"Git"})],["hg",a._({id:"Mercurial"})],["svn",a._({id:"Subversion"})],["insights",a._({id:"Red Hat Insights"})]]},{name:a._({id:"Source Control URL"}),key:"scm_url"},{name:a._({id:"Modified By (Username)"}),key:"modified_by__username"},{name:a._({id:"Created By (Username)"}),key:"created_by__username"}],sortColumns:[{name:a._({id:"Name"}),key:"name"}],options:b,optionCount:_,multiple:t.multiple,header:a._({id:"Project"}),name:"project",qsConfig:Uc,readOnly:!i,selectItem:function(e){return n({type:"SELECT_ITEM",item:e})},deselectItem:function(e){return n({type:"DESELECT_ITEM",item:e})}})}}),r.a.createElement(hl,{error:j}))}Fc.defaultProps={helperTextInvalid:"",isValid:!0,required:!1,tooltip:"",value:null,onBlur:function(){}};var Mc=Object(c.withI18n)()(Object(o.k)(Fc));var qc=function(e){return e?e.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "):""};var Vc=Object(c.withI18n)()((function(e){var t,a=e.credential,n=e.i18n,i=Object(Q.a)(e,["credential","i18n"]);return t=a.cloud?n._({id:"Cloud"}):"aws"===a.kind||"ssh"===a.kind?a.kind.toUpperCase():qc(a.kind),r.a.createElement(ar.a,i,r.a.createElement("strong",null,t,": "),a.name)})),Bc=ce("credentials",{page:1,page_size:5,order_by:"name"});function Wc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=Object(F.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.credential_type=a||1,e.next=3,rt.read(t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hc=Object(N.b)(Ii.a).withConfig({displayName:"MultiCredentialsLookup___StyledAlert",componentId:"sc-3dhbe8-0"})(["margin-bottom:20px;"]),Jc=Object(N.b)(la.a).withConfig({displayName:"MultiCredentialsLookup___StyledToolbarItem",componentId:"sc-3dhbe8-1"})([" display:flex;align-items:center;"]),Kc=Object(N.b)("div").withConfig({displayName:"MultiCredentialsLookup___StyledDiv",componentId:"sc-3dhbe8-2"})(["flex:0 0 25%;margin-right:32px"]),Yc=Object(N.b)(Hi).withConfig({displayName:"MultiCredentialsLookup___StyledAnsibleSelect",componentId:"sc-3dhbe8-3"})(["flex:1 1 75%;"]);function Xc(e){var t=e.value,a=e.onChange,i=e.onError,l=e.history,o=e.i18n,c=Object(n.useState)([]),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(null),p=Object(O.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)([]),v=Object(O.a)(h,2),_=v[0],y=v[1],E=Object(n.useState)(0),g=Object(O.a)(E,2),j=g[0],k=g[1];Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it.loadAllTypes();case 3:t=e.sent,d(t),a=t.find((function(e){return"ssh"===e.kind}))||t[0],f(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[i]),Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=se(Bc,l.location.search),e.next=6,Wc(t,b.id);case 6:a=e.sent,n=a.results,r=a.count,y(n),k(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))()}),[b,l.location.search,i]);var w=function(e){var t=e.item,a=e.removeItem,n=e.canDelete;return r.a.createElement(Vc,{key:t.id,onClick:function(){return a(t)},isReadOnly:!n,credential:t})},C="vault"===(null===b||void 0===b?void 0:b.kind);return r.a.createElement(fl,{id:"multiCredential",header:o._({id:"Credentials"}),value:t,multiple:!0,onChange:a,qsConfig:Bc,renderItemChip:w,renderOptionsList:function(e){var t=e.state,a=e.dispatch,i=e.canDelete;return r.a.createElement(n.Fragment,null,C&&r.a.createElement(Hc,{variant:"info",isInline:!0,title:o._({id:"You cannot select multiple vault credentials with the same vault ID. Doing so will automatically deselect the other with the same vault ID."})}),u&&u.length>0&&r.a.createElement(Jc,null,r.a.createElement(Kc,null,o._({id:"Selected Category"})),r.a.createElement(Yc,{id:"multiCredentialsLookUp-select",label:o._({id:"Selected Category"}),data:u.map((function(e){return{key:e.id,value:e.id,label:e.name,isDisabled:!1}})),value:b&&b.id,onChange:function(e,t){f(u.find((function(e){return e.id===parseInt(t,10)})))}})),r.a.createElement(rl,{value:t.selectedItems,options:_,optionCount:j,searchColumns:[{name:o._({id:"Name"}),key:"name",isDefault:!0},{name:o._({id:"Created By (Username)"}),key:"created_by__username"},{name:o._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:o._({id:"Name"}),key:"name"}],multiple:C,header:o._({id:"Credentials"}),name:"credentials",qsConfig:Bc,readOnly:!i,selectItem:function(e){var n=t.selectedItems.filter((function(t){return C?!function(t){var a,n,r;return void 0!==(null===t||void 0===t||null===(a=t.inputs)||void 0===a?void 0:a.vault_id)&&(null===t||void 0===t||null===(n=t.inputs)||void 0===n?void 0:n.vault_id)===(null===e||void 0===e||null===(r=e.inputs)||void 0===r?void 0:r.vault_id)}(t):!(t.kind===e.kind)}));return n.push(e),a({type:"SET_SELECTED_ITEMS",selectedItems:n})},deselectItem:function(e){return a({type:"DESELECT_ITEM",item:e})},renderItemChip:w}))}})}Xc.defaultProps={value:[]};var Zc=Object(c.withI18n)()(Object(o.k)(Xc)),Qc=ce("credentials",{page:1,page_size:5,order_by:"name"});function $c(e){var t=e.helperTextInvalid,a=e.label,i=e.isValid,l=e.onBlur,o=e.onChange,c=e.required,s=e.credentialTypeId,u=e.credentialTypeKind,d=e.value,m=e.history,p=e.i18n,b=e.tooltip,f=Object(n.useState)([]),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)(0),E=Object(O.a)(y,2),g=E[0],j=E[1],k=Object(n.useState)(null),w=Object(O.a)(k,2),C=w[0],S=w[1];return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Qc,m.location.search),a=s?{credential_type:s}:{},n=u?{credential_type__kind:u}:{},e.prev=3,e.next=6,rt.read(he(t,Object(oe.a)(Object(oe.a)({},a),n)));case 6:r=e.sent,i=r.data,_(i.results),j(i.count),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),S&&S(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))()}),[s,u,m.location.search]),r.a.createElement(mi.a,{fieldId:"credential",isRequired:c,isValid:i,label:a,helperTextInvalid:t},b&&r.a.createElement(yi,{content:b}),r.a.createElement(fl,{id:"credential",header:a,value:d,onBlur:l,onChange:o,required:c,qsConfig:Qc,renderOptionsList:function(e){var t=e.state,n=e.dispatch,i=e.canDelete;return r.a.createElement(rl,{value:t.selectedItems,options:v,optionCount:g,header:a,qsConfig:Qc,searchColumns:[{name:p._({id:"Name"}),key:"name",isDefault:!0},{name:p._({id:"Created By (Username)"}),key:"created_by__username"},{name:p._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:p._({id:"Name"}),key:"name"}],readOnly:!i,name:"credential",selectItem:function(e){return n({type:"SELECT_ITEM",item:e})},deselectItem:function(e){return n({type:"DESELECT_ITEM",item:e})}})}}),r.a.createElement(hl,{error:C}))}$c.defaultProps={credentialTypeId:"",credentialTypeKind:"",helperTextInvalid:"",isValid:!0,onBlur:function(){},required:!1,value:null};var es=Object(c.withI18n)()(Object(o.k)($c)),ts=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=Object(n.useState)(a?a.summary_fields.inventory:""),l=Object(O.a)(i,2),o=l[0],c=l[1],s=Object(di.c)({name:"inventory",validate:Ji(t._({id:"Select a value for this field"}),t)}),u=Object(O.a)(s,3),d=u[1],m=u[2];return r.a.createElement(mi.a,{label:t._({id:"Inventory"}),isRequired:!0,fieldId:"inventory-lookup",isValid:!d.touched||!d.error,helperTextInvalid:d.error},r.a.createElement(yi,{content:t._({id:"Select the inventory that this host will belong to."})}),r.a.createElement(zc,{value:o,onBlur:function(){return m.setTouched()},tooltip:t._({id:"Select the inventory that this host will belong to."}),isValid:!d.touched||!d.error,helperTextInvalid:d.error,onChange:function(e){m.setValue(e.id),c(e)},required:!0,touched:d.touched,error:d.error}))})),as=function(e){var t=e.handleCancel,a=e.handleSubmit,n=e.host,i=e.isInventoryVisible,l=e.i18n,o=e.submitError;return r.a.createElement(di.b,{initialValues:{name:n.name,description:n.description,inventory:n.inventory||"",variables:n.variables},onSubmit:a},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(gi,{id:"host-name",name:"name",type:"text",label:l._({id:"Name"}),validate:Ji(null,l),isRequired:!0}),r.a.createElement(gi,{id:"host-description",name:"description",type:"text",label:l._({id:"Description"})}),i&&r.a.createElement(ts,{host:n}),r.a.createElement(Ui,null,r.a.createElement(Ic,{id:"host-variables",name:"variables",label:l._({id:"Variables"})})),o&&r.a.createElement(Di,{error:o}),r.a.createElement(Vi,{onCancel:t,onSubmit:e.handleSubmit})))}))};as.defaultProps={host:{name:"",description:"",inventory:void 0,variables:"---\n",summary_fields:{inventory:null}},isInventoryVisible:!0,submitError:null};var ns=Object(c.withI18n)()(as);var rs=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(o.g)(),c=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.create(t);case 3:a=e.sent,n=a.data,l.push("/hosts/".concat(n.id,"/details")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(ns,{handleSubmit:c,handleCancel:function(){l.push("/hosts")},submitError:a}))))},is=a(980);function ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=oc.a.safeLoad(e)||{};return Object(oe.a)(Object(oe.a)({},a),t)}var os=ce("inventory",{page:1,page_size:5,order_by:"name"});var cs=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(di.c)({name:"inventory",validate:Ji(null,t)}),i=Object(O.a)(a,3),l=i[0],c=i[2],s=Object(o.g)(),u=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(os,s.location.search),e.next=3,st.read(t);case 3:return a=e.sent,n=a.data,e.abrupt("return",{inventories:n.results,count:n.count});case 6:case"end":return e.stop()}}),e)}))),[s.location]),{count:0,inventories:[]}),d=u.isLoading,m=u.error,p=u.result,b=p.inventories,f=p.count,h=u.request;return Object(n.useEffect)((function(){h()}),[h]),d?r.a.createElement(bn,null):m?r.a.createElement(dn,{error:m}):r.a.createElement(rl,{value:l.value?[l.value]:[],options:b,optionCount:f,searchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:t._({id:"Name"}),key:"name"}],header:t._({id:"Inventory"}),name:"inventory",qsConfig:os,readOnly:!0,selectItem:c.setValue,deselectItem:function(){return l.onChange(null)}})}));function ss(){var e=Object(S.a)(["\n  margin-left: 10px;\n"]);return ss=function(){return e},e}function us(){var e=Object(S.a)(["\n  color: var(--pf-global--danger-color--200);\n  font-weight: var(--pf-global--FontWeight--bold);\n"]);return us=function(){return e},e}var ds=N.b.div(us()),ms=Object(N.b)(An.a)(ss());var ps=Object(c.withI18n)()((function(e){var t=e.hasErrors,a=e.children,n=e.i18n;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ds,null,a,r.a.createElement(Ln.a,{position:"right",content:n._({id:"This step contains errors"}),trigger:"click mouseenter focus"},r.a.createElement(ms,{css:"color: var(--pf-global--danger-color--100)"})))):a}));function bs(e,t,a,r){var i=Object(n.useState)({}),l=Object(O.a)(i,2),o=l[0],c=l[1],s=a.inventory&&Object.keys(o).length>0;return{step:fs(e,s,r),initialValues:hs(e,t),validate:function(t){if(!e.ask_inventory_on_launch)return{};var a={};return t.inventory||(a.inventory=r._({id:"An inventory must be selected"})),c(a),a},isReady:!0,error:null,setTouched:function(e){e({inventory:!0})}}}function fs(e,t,a){return e.ask_inventory_on_launch?{id:"inventory",name:r.a.createElement(ps,{hasErrors:t},a._({id:"Inventory"})),component:r.a.createElement(cs,{i18n:a})}:null}function hs(e,t){var a;return e.ask_inventory_on_launch?{inventory:(null===t||void 0===t||null===(a=t.summary_fields)||void 0===a?void 0:a.inventory)||null}:{}}var vs=ce("credential",{page:1,page_size:5,order_by:"name"}),_s=Object(N.b)(la.a).withConfig({displayName:"CredentialsStep___StyledToolbarItem",componentId:"sc-793b5t-0"})([" display:flex;align-items:center;"]),ys=Object(N.b)("div").withConfig({displayName:"CredentialsStep___StyledDiv",componentId:"sc-793b5t-1"})(["flex:0 0 25%;margin-right:32px"]),Es=Object(N.b)(Hi).withConfig({displayName:"CredentialsStep___StyledAnsibleSelect",componentId:"sc-793b5t-2"})(["flex:1 1 75%;"]);var gs=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(di.c)({name:"credentials",validate:Ji(null,t)}),i=Object(O.a)(a,3),l=i[0],c=i[2],s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(o.g)(),b=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.loadAllTypes();case 2:return(t=e.sent).length&&(a=t.find((function(e){return"ssh"===e.kind}))||t[0],m(a)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[]),[]),f=b.result,h=b.error,v=b.isLoading,_=b.request;Object(n.useEffect)((function(){_()}),[_]);var y=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return",{credentials:[],count:0});case 2:return t=se(vs,p.location.search),e.next=5,rt.read(Object(oe.a)(Object(oe.a)({},t),{},{credential_type:d.id}));case 5:return a=e.sent,n=a.data,e.abrupt("return",{credentials:n.results,count:n.count});case 8:case"end":return e.stop()}}),e)}))),[d,p.location.search]),{credentials:[],count:0}),E=y.result,g=E.credentials,j=E.count,k=y.error,w=y.isLoading,C=y.request;if(Object(n.useEffect)((function(){C()}),[C]),v)return r.a.createElement(bn,null);if(h||k)return r.a.createElement(dn,{error:h||k});var S="vault"===(null===d||void 0===d?void 0:d.kind);return r.a.createElement(r.a.Fragment,null,f&&f.length>0&&r.a.createElement(_s,null,r.a.createElement(ys,null,t._({id:"Selected Category"})),r.a.createElement(Es,{id:"multiCredentialsLookUp-select",label:t._({id:"Selected Category"}),data:f.map((function(e){return{key:e.id,value:e.id,label:e.name,isDisabled:!1}})),value:d&&d.id,onChange:function(e,t){m(f.find((function(e){return e.id===parseInt(t,10)})))}})),!w&&r.a.createElement(rl,{value:l.value||[],options:g,optionCount:j,searchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:t._({id:"Name"}),key:"name"}],multiple:S,header:t._({id:"Credentials"}),name:"credentials",qsConfig:vs,readOnly:!1,selectItem:function(e){var t=l.value.filter((function(t){return S?!function(t){var a,n,r;return void 0!==(null===t||void 0===t||null===(a=t.inputs)||void 0===a?void 0:a.vault_id)&&(null===t||void 0===t||null===(n=t.inputs)||void 0===n?void 0:n.vault_id)===(null===e||void 0===e||null===(r=e.inputs)||void 0===r?void 0:r.vault_id)}(t):!(t.kind===e.kind)}));t.push(e),c.setValue(t)},deselectItem:function(e){c.setValue(l.value.filter((function(t){return t.id!==e.id})))},renderItemChip:function(e){var t=e.item,a=e.removeItem,n=e.canDelete;return r.a.createElement(Vc,{key:t.id,onClick:function(){return a(t)},isReadOnly:!n,credential:t})}}))}));function js(e,t,a,n){return{step:Os(e,n),initialValues:ks(e,t),validate:function(){return{}},isReady:!0,error:null,setTouched:function(e){e({credentials:!0})}}}function Os(e,t){return e.ask_credential_on_launch?{id:"credentials",name:t._({id:"Credentials"}),component:r.a.createElement(gs,{i18n:t})}:null}function ks(e,t){var a;return e.ask_credential_on_launch?{credentials:(null===t||void 0===t||null===(a=t.summary_fields)||void 0===a?void 0:a.credentials)||[]}:{}}var ws=function(e){var t=e.onChange,a=function(e){return e.split(",").filter((function(e){return!!e}))}(e.value),i=Object(n.useState)(a),l=Object(O.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)(!1),u=Object(O.a)(s,2),d=u[0],m=u[1],p=function(e){return e.map((function(e){return r.a.createElement(ja.a,{key:e,value:e},e)}))};return r.a.createElement(Ea.a,{variant:ga.e.typeaheadMulti,onToggle:function(e){m(e)},onSelect:function(e,n){var r;r=a.includes(n)?a.filter((function(e){return e!==n})):a.concat(n),t(r.join(","))},onClear:function(){return t("")},onFilter:function(e){var t=e.target.value.toLowerCase(),a=o.filter((function(e){return e.toLowerCase().includes(t)}));return p(a)},isCreatable:!0,onCreateOption:function(e){return e=e.trim(),o.includes(e)||c(o.concat(e)),e},selections:a,isExpanded:d,ariaLabelledBy:"tag-select"},p(o))};function Cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach((function(e){e.toString=Ss})),e}function Ss(){return String(this.id)}function xs(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: var(--pf-c-form__label--PaddingBottom);\n\n  label {\n    --pf-c-form__label--PaddingBottom: 0px;\n  }\n"]);return xs=function(){return e},e}var Ts=N.b.div(xs());function Is(e){var t=e.i18n,a=Object(di.c)("job_type"),n=Object(O.a)(a,3),i=n[0],l=n[1],o=n[2],c=[{value:"",key:"",label:t._({id:"Choose a job type"}),isDisabled:!0},{value:"run",key:"run",label:t._({id:"Run"}),isDisabled:!1},{value:"check",key:"check",label:t._({id:"Check"}),isDisabled:!1}],s=!(l.touched&&l.error);return r.a.createElement(mi.a,{fieldId:"propmt-job-type",label:t._({id:"Job Type"}),isValid:s},r.a.createElement(yi,{content:t._({id:"For job templates, select run to execute the playbook. Select check to only check playbook syntax, test environment setup, and report problems without executing the playbook."})}),r.a.createElement(Hi,Object.assign({id:"prompt-job-type",data:c},i,{onChange:function(e,t){return o.setValue(t)}})))}function Ds(e){var t=e.i18n,a=Object(di.c)("verbosity"),n=Object(O.a)(a,3),i=n[0],l=n[1],o=n[2],c=[{value:"0",key:"0",label:t._({id:"0 (Normal)"})},{value:"1",key:"1",label:t._({id:"1 (Verbose)"})},{value:"2",key:"2",label:t._({id:"2 (More Verbose)"})},{value:"3",key:"3",label:t._({id:"3 (Debug)"})},{value:"4",key:"4",label:t._({id:"4 (Connection Debug)"})}],s=!(l.touched&&l.error);return r.a.createElement(mi.a,{fieldId:"prompt-verbosity",isValid:s,label:t._({id:"Verbosity"})},r.a.createElement(yi,{content:t._({id:"Control the level of output ansible will produce as the playbook executes."})}),r.a.createElement(Hi,Object.assign({id:"prompt-verbosity",data:c},i,{onChange:function(e,t){return o.setValue(t)}})))}function Ns(e){var t=e.i18n,a=Object(di.c)("diff_mode"),n=Object(O.a)(a,3),i=n[0],l=n[2];return r.a.createElement(mi.a,{fieldId:"prompt-show-changes"},r.a.createElement(Ts,null," ",r.a.createElement("label",{className:"pf-c-form__label",htmlFor:"prompt-show-changes"},r.a.createElement("span",{className:"pf-c-form__label-text"},t._({id:"Show Changes"}),r.a.createElement(yi,{content:t._({id:"If enabled, show the changes made by Ansible tasks, where supported. This is equivalent to Ansible\u2019s --diff mode."})})))),r.a.createElement(qo.a,{id:"prompt-show-changes",label:t._({id:"On"}),labelOff:t._({id:"Off"}),isChecked:i.value,onChange:l.setValue}))}function Ls(e){var t=e.id,a=e.name,n=e.label,i=e.tooltip,l=Object(di.c)(a),o=Object(O.a)(l,3),c=o[0],s=o[2];return r.a.createElement(mi.a,{fieldId:t,label:n},r.a.createElement(yi,{content:i}),r.a.createElement(ws,{value:c.value,onChange:s.setValue}))}var Rs=Object(c.withI18n)()((function(e){var t=e.config,a=e.i18n;return r.a.createElement(pi.a,null,t.ask_job_type_on_launch&&r.a.createElement(Is,{i18n:a}),t.ask_limit_on_launch&&r.a.createElement(gi,{id:"prompt-limit",name:"limit",label:a._({id:"Limit"}),tooltip:a._({id:"Provide a host pattern to further constrain the list of hosts that will be managed or affected by the playbook. Multiple patterns are allowed. Refer to Ansible documentation for more information and examples on patterns."})}),t.ask_verbosity_on_launch&&r.a.createElement(Ds,{i18n:a}),t.ask_diff_mode_on_launch&&r.a.createElement(Ns,{i18n:a}),t.ask_tags_on_launch&&r.a.createElement(Ls,{id:"prompt-job-tags",name:"job_tags",label:a._({id:"Job Tags"}),tooltip:a._({id:"Tags are useful when you have a large playbook, and you want to run a specific part of a play or task. Use commas to separate multiple tags. Refer to Ansible Tower documentation for details on the usage of tags."})}),t.ask_skip_tags_on_launch&&r.a.createElement(Ls,{id:"prompt-skip-tags",name:"skip_tags",label:a._({id:"Skip Tags"}),tooltip:a._({id:"Skip tags are useful when you have a large playbook, and you want to skip specific parts of a play or task. Use commas to separate multiple tags. Refer to Ansible Tower documentation for details on the usage of tags."})}),t.ask_variables_on_launch&&r.a.createElement(Ic,{id:"prompt-variables",name:"extra_vars",label:a._({id:"Variables"})}))}));function As(e,t,a,r){var i=Object(n.useState)({}),l=Object(O.a)(i,2),o=l[0],c=l[1],s=a.other&&Object.keys(o).length>0;return{step:Ps(e,s,r),initialValues:zs(e,t),validate:function(t){var a={};return e.ask_job_type_on_launch&&!t.job_type&&(a.job_type=r._({id:"This field must not be blank"})),c(a),a},isReady:!0,error:null,setTouched:function(e){e({job_type:!0,limit:!0,verbosity:!0,diff_mode:!0,job_tags:!0,skip_tags:!0,extra_vars:!0})}}}function Ps(e,t,a){return function(e){return e.ask_job_type_on_launch||e.ask_limit_on_launch||e.ask_verbosity_on_launch||e.ask_tags_on_launch||e.ask_skip_tags_on_launch||e.ask_variables_on_launch||e.ask_scm_branch_on_launch||e.ask_diff_mode_on_launch}(e)?{id:"other",name:r.a.createElement(ps,{hasErrors:t},a._({id:"Other Prompts"})),component:r.a.createElement(Rs,{config:e,i18n:a})}:null}function zs(e,t){var a={};return e.ask_job_type_on_launch&&(a.job_type=t.job_type||""),e.ask_limit_on_launch&&(a.limit=t.limit||""),e.ask_verbosity_on_launch&&(a.verbosity=t.verbosity||0),e.ask_tags_on_launch&&(a.job_tags=t.job_tags||""),e.ask_skip_tags_on_launch&&(a.skip_tags=t.skip_tags||""),e.ask_variables_on_launch&&(a.extra_vars=t.extra_vars||"---"),e.ask_scm_branch_on_launch&&(a.scm_branch=t.scm_branch||""),e.ask_diff_mode_on_launch&&(a.diff_mode=t.diff_mode||!1),a}function Us(e){var t=e.question,a=e.i18n,n=[t.required?Ji(null,a):null,t.min?Yi(t.min,a):null,t.max?Ki(t.max,a):null];return r.a.createElement(gi,{id:"survey-question-".concat(t.variable),name:"survey_".concat(t.variable),label:t.question_name,tooltip:t.question_description,isRequired:t.required,validate:el(n),type:t.type,minLength:t.min,maxLength:t.max})}function Fs(e){var t=e.question,a=e.i18n,n=[t.required?Ji(null,a):null,Xi(t.min,t.max,a),"integer"===t.type?$i(a):null];return r.a.createElement(gi,{id:"survey-question-".concat(t.variable),name:"survey_".concat(t.variable),label:t.question_name,tooltip:t.question_description,isRequired:t.required,validate:el(n),type:"number",min:t.min,max:t.max})}function Ms(e){var t=e.question,a=Object(di.c)("survey_".concat(t.variable)),n=Object(O.a)(a,2),i=n[0],l=n[1],o="survey-question-".concat(t.variable),c=!(l.touched&&l.error);return r.a.createElement(mi.a,{fieldId:o,helperTextInvalid:l.error,isRequired:t.required,isValid:c,label:t.question_name},r.a.createElement(yi,{content:t.question_description}),r.a.createElement(Hi,Object.assign({id:o,isValid:c},i,{data:t.choices.split("\n").map((function(e){return{key:e,value:e,label:e}}))})))}function qs(e){var t=e.question,a=Object(n.useState)(!1),i=Object(O.a)(a,2),l=i[0],o=i[1],c=Object(di.c)("survey_".concat(t.variable)),s=Object(O.a)(c,3),u=s[0],d=s[1],m=s[2],p="survey-question-".concat(t.variable),b=!(d.touched&&d.error);return r.a.createElement(mi.a,{fieldId:p,helperTextInvalid:d.error,isRequired:t.required,isValid:b,label:t.question_name},r.a.createElement(yi,{content:t.question_description}),r.a.createElement(Ea.a,{variant:ga.e.typeaheadMulti,id:p,onToggle:o,onSelect:function(e,t){u.value.includes(t)?m.setValue(u.value.filter((function(e){return e!==t}))):m.setValue(u.value.concat(t))},isExpanded:l,selections:u.value},t.choices.split("\n").map((function(e){return r.a.createElement(ja.a,{key:e,value:e})}))))}var Vs=Object(c.withI18n)()((function(e){var t=e.survey,a=e.i18n,n={text:Us,textarea:Us,password:Us,multiplechoice:Ms,multiselect:qs,integer:Fs,float:Fs};return r.a.createElement(pi.a,null,t.spec.map((function(e){var t=n[e.type];return r.a.createElement(t,{key:e.variable,question:e,i18n:a})})))}));function Bs(e,t,a,r){var i=Object(n.useState)({}),l=Object(O.a)(i,2),o=l[0],c=l[1],s=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function a(){var n,r;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.survey_enabled){a.next=2;break}return a.abrupt("return",{});case 2:if("workflow_job_template"!==t.type){a.next=8;break}return a.next=5,It.readSurvey(t.id);case 5:a.t0=a.sent,a.next=11;break;case 8:return a.next=10,mt.readSurvey(t.id);case 10:a.t0=a.sent;case 11:return n=a.t0,r=n.data,a.abrupt("return",r);case 14:case"end":return a.stop()}}),a)}))),[e.survey_enabled,t])),u=s.result,d=s.request,m=s.isLoading,p=s.error;Object(n.useEffect)((function(){d()}),[d]);var b=a.survey&&Object.keys(o).length>0;return{step:Ws(e,u,b,r),initialValues:Gs(e,u),validate:function(t){if(!e.survey_enabled||!u||!u.spec)return{};var a={};return u.spec.forEach((function(e){var n=function(e,t,a){var n=["text","textarea"].includes(e.type),r=["integer","float"].includes(e.type);if(n&&(t||0===t)){if(e.min&&t.length<e.min)return a._({id:"This field must be at least {0} characters",values:{0:e.min}});if(e.max&&t.length>e.max)return a._({id:"This field must not exceed {0} characters",values:{0:e.max}})}if(r&&(t||0===t)&&(t<e.min||t>e.max))return a._({id:"This field must be a number and have a value between {0} and {1}",values:{0:e.min,1:e.max}});if(e.required&&!t&&0!==t)return a._({id:"This field must not be blank"});return null}(e,t["survey_".concat(e.variable)],r);n&&(a["survey_".concat(e.variable)]=n)})),c(a),a},survey:u,isReady:!m&&!!u,error:p,setTouched:function(e){if(u&&u.spec){var t={};u.spec.forEach((function(e){t["survey_".concat(e.variable)]=!0})),e(t)}}}}function Ws(e,t,a,n){return e.survey_enabled?{id:"survey",name:r.a.createElement(ps,{hasErrors:a},n._({id:"Survey"})),component:r.a.createElement(Vs,{survey:t,i18n:n})}:null}function Gs(e,t){if(!e.survey_enabled||!t)return{};var a={};return t.spec.forEach((function(e){"multiselect"===e.type?a["survey_".concat(e.variable)]=e.default.split("\n"):a["survey_".concat(e.variable)]=e.default})),a}var Hs=a(936);var Js=Object(c.withI18n)()((function(e){var t,a=e.i18n,n=e.resource,i=n.allow_override,l=n.custom_virtualenv,o=n.local_path,c=n.scm_branch,s=n.scm_clean,u=n.scm_delete_on_update,d=n.scm_refspec,m=n.scm_type,p=n.scm_update_on_launch,b=n.scm_update_cache_timeout,f=n.scm_url,h=n.summary_fields,v="";return(s||u||p||i)&&(v=r.a.createElement(oi.a,null,s&&r.a.createElement(ci.a,null,a._({id:"Clean"})),u&&r.a.createElement(ci.a,null,a._({id:"Delete on Update"})),p&&r.a.createElement(ci.a,null,a._({id:"Update Revision on Launch"})),i&&r.a.createElement(ci.a,null,a._({id:"Allow Branch Override"})))),r.a.createElement(r.a.Fragment,null,(null===h||void 0===h?void 0:h.organization)?r.a.createElement(Lr,{label:a._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(h.organization.id,"/details")},null===h||void 0===h?void 0:h.organization.name)}):r.a.createElement(Pr,{label:a._({id:"Organization"})}),r.a.createElement(Lr,{label:a._({id:"Source Control Type"}),value:""===m?a._({id:"Manual"}):qc(m)}),r.a.createElement(Lr,{label:a._({id:"Source Control URL"}),value:f}),r.a.createElement(Lr,{label:a._({id:"Source Control Branch"}),value:c}),r.a.createElement(Lr,{label:a._({id:"Source Control Refspec"}),value:d}),(null===h||void 0===h||null===(t=h.credential)||void 0===t?void 0:t.id)&&r.a.createElement(Lr,{label:a._({id:"Source Control Credential"}),value:r.a.createElement(Vc,{key:n.summary_fields.credential.id,credential:n.summary_fields.credential,isReadOnly:!0})}),v&&r.a.createElement(Lr,{label:a._({id:"Options"}),value:v}),r.a.createElement(Lr,{label:a._({id:"Cache Timeout"}),value:"".concat(b," ").concat(a._({id:"Seconds"}))}),r.a.createElement(Lr,{label:a._({id:"Ansible Environment"}),value:l}),r.a.createElement(C,null,(function(e){var t=e.project_base_dir;return r.a.createElement(Lr,{label:a._({id:"Project Base Path"}),value:t})})),r.a.createElement(Lr,{label:a._({id:"Playbook Directory"}),value:o}))}));var Ks=Object(c.withI18n)()((function(e){var t,a,n,i,l,o,c=e.i18n,s=e.resource,u=s.custom_virtualenv,d=s.group_by,m=s.instance_filters,p=s.overwrite,b=s.overwrite_vars,f=s.source,h=s.source_regions,v=s.source_vars,_=s.source_path,y=s.summary_fields,E=s.update_cache_timeout,g=s.update_on_launch,j=s.update_on_project_update,O=s.verbosity,k={0:c._({id:"0 (Normal)"}),1:c._({id:"1 (Verbose)"}),2:c._({id:"2 (More Verbose)"}),3:c._({id:"3 (Debug)"}),4:c._({id:"4 (Connection Debug)"})},w="";return(p||b||g||j)&&(w=r.a.createElement(oi.a,null,p&&r.a.createElement(ci.a,null,c._({id:"Overwrite"})),b&&r.a.createElement(ci.a,null,c._({id:"Overwrite Variables"})),g&&r.a.createElement(ci.a,null,c._({id:"Update on Launch"})),j&&r.a.createElement(ci.a,null,c._({id:"Update on Project Update"})))),r.a.createElement(r.a.Fragment,null,(null===y||void 0===y?void 0:y.organization)?r.a.createElement(Lr,{label:c._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(y.organization.id,"/details")},null===y||void 0===y?void 0:y.organization.name)}):r.a.createElement(Pr,{label:c._({id:"Organization"})}),(null===y||void 0===y?void 0:y.inventory)&&r.a.createElement(Lr,{label:c._({id:"Inventory"}),value:r.a.createElement(D.b,{to:"/inventories/".concat(null===(t=y.inventory)||void 0===t?void 0:t.id,"/details")},null===y||void 0===y||null===(a=y.inventory)||void 0===a?void 0:a.name)}),r.a.createElement(Lr,{label:c._({id:"Source"}),value:f}),r.a.createElement(Lr,{label:c._({id:"Ansible Environment"}),value:u}),(null===y||void 0===y?void 0:y.source_project)&&r.a.createElement(Lr,{label:c._({id:"Project"}),value:r.a.createElement(D.b,{to:"/projects/".concat(null===(n=y.source_project)||void 0===n?void 0:n.id,"/details")},null===(i=y.source_project)||void 0===i?void 0:i.name)}),r.a.createElement(Lr,{label:c._({id:"Inventory File"}),value:_}),r.a.createElement(Lr,{label:c._({id:"Custom Inventory Script"}),value:null===y||void 0===y||null===(l=y.source_script)||void 0===l?void 0:l.name}),r.a.createElement(Lr,{label:c._({id:"Verbosity"}),value:k[O]}),r.a.createElement(Lr,{label:c._({id:"Cache Timeout"}),value:"".concat(E," ").concat(c._({id:"Seconds"}))}),(null===y||void 0===y||null===(o=y.credentials)||void 0===o?void 0:o.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:c._({id:"Credential"}),value:y.credentials.map((function(e){return r.a.createElement(Vc,{key:null===e||void 0===e?void 0:e.id,credential:e,isReadOnly:!0})}))}),h&&r.a.createElement(Lr,{fullWidth:!0,label:c._({id:"Regions"}),value:r.a.createElement(rr,{numChips:5,totalChips:h.split(",").length},h.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),m&&r.a.createElement(Lr,{fullWidth:!0,label:c._({id:"Instance Filters"}),value:r.a.createElement(rr,{numChips:5,totalChips:m.split(",").length},m.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),d&&r.a.createElement(Lr,{fullWidth:!0,label:c._({id:"Only Group By"}),value:r.a.createElement(rr,{numChips:5,totalChips:d.split(",").length},d.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),w&&r.a.createElement(Lr,{label:c._({id:"Options"}),value:w}),v&&r.a.createElement(yc,{label:c._({id:"Source Variables"}),rows:4,value:v}))}));var Ys=Object(c.withI18n)()((function(e){var t,a,n,i,l,o,c,s,u,d,m=e.i18n,p=e.resource,b=p.allow_simultaneous,f=p.ask_inventory_on_launch,h=p.become_enabled,v=p.diff_mode,_=p.extra_vars,y=p.forks,E=p.host_config_key,g=p.instance_groups,j=p.job_slice_count,O=p.job_tags,k=p.job_type,w=p.limit,C=p.playbook,S=p.related,x=p.scm_branch,T=p.skip_tags,I=p.summary_fields,N=p.use_fact_cache,L=p.verbosity,R=p.webhook_key,A=p.webhook_service,P={0:m._({id:"0 (Normal)"}),1:m._({id:"1 (Verbose)"}),2:m._({id:"2 (More Verbose)"}),3:m._({id:"3 (Debug)"}),4:m._({id:"4 (Connection Debug)"})},z="";(h||E||b||N)&&(z=r.a.createElement(oi.a,null,h&&r.a.createElement(ci.a,null,m._({id:"Enable Privilege Escalation"})),E&&r.a.createElement(ci.a,null,m._({id:"Allow Provisioning Callbacks"})),b&&r.a.createElement(ci.a,null,m._({id:"Enable Concurrent Jobs"})),N&&r.a.createElement(ci.a,null,m._({id:"Use Fact Storage"}))));var U="smart"===(null===I||void 0===I||null===(t=I.inventory)||void 0===t?void 0:t.kind)?"smart_inventory":"inventory",F=I.recent_jobs.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})}));return r.a.createElement(r.a.Fragment,null,(null===(a=I.recent_jobs)||void 0===a?void 0:a.length)>0&&r.a.createElement(Lr,{value:r.a.createElement(Mo,{jobs:F}),label:m._({id:"Activity"})}),r.a.createElement(Lr,{label:m._({id:"Job Type"}),value:qc(k)}),(null===I||void 0===I?void 0:I.organization)?r.a.createElement(Lr,{label:m._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(I.organization.id,"/details")},null===I||void 0===I?void 0:I.organization.name)}):r.a.createElement(Pr,{label:m._({id:"Organization"})}),(null===I||void 0===I?void 0:I.inventory)?r.a.createElement(Lr,{label:m._({id:"Inventory"}),value:r.a.createElement(D.b,{to:"/".concat(U,"/").concat(null===(n=I.inventory)||void 0===n?void 0:n.id,"/details")},null===(i=I.inventory)||void 0===i?void 0:i.name)}):!f&&r.a.createElement(Pr,{label:m._({id:"Inventory"})}),(null===I||void 0===I?void 0:I.project)?r.a.createElement(Lr,{label:m._({id:"Project"}),value:r.a.createElement(D.b,{to:"/projects/".concat(null===(l=I.project)||void 0===l?void 0:l.id,"/details")},null===(o=I.project)||void 0===o?void 0:o.name)}):r.a.createElement(Pr,{label:m._({id:"Project"})}),r.a.createElement(Lr,{label:m._({id:"Source Control Branch"}),value:x}),r.a.createElement(Lr,{label:m._({id:"Playbook"}),value:C}),r.a.createElement(Lr,{label:m._({id:"Forks"}),value:y||"0"}),r.a.createElement(Lr,{label:m._({id:"Limit"}),value:w}),r.a.createElement(Lr,{label:m._({id:"Verbosity"}),value:P[L]}),r.a.createElement(Lr,{label:m._({id:"Show Changes"}),value:v?"On":"Off"}),r.a.createElement(Lr,{label:m._({id:"Job Slicing"}),value:j}),r.a.createElement(Lr,{label:m._({id:"Host Config Key"}),value:E}),(null===S||void 0===S?void 0:S.callback)&&r.a.createElement(Lr,{label:m._({id:"Provisioning Callback URL"}),value:"".concat(window.location.origin).concat(S.callback)}),r.a.createElement(Lr,{label:m._({id:"Webhook Service"}),value:qc(A)}),S.webhook_receiver&&r.a.createElement(Lr,{label:m._({id:"Webhook URL"}),value:"".concat(window.location.origin).concat(S.webhook_receiver)}),r.a.createElement(Lr,{label:m._({id:"Webhook Key"}),value:R}),(null===I||void 0===I?void 0:I.webhook_credential)&&r.a.createElement(Lr,{fullWidth:!0,label:m._({id:"Webhook Credential"}),value:r.a.createElement(Vc,{key:null===(c=I.webhook_credential)||void 0===c?void 0:c.id,credential:I.webhook_credential,isReadOnly:!0})}),z&&r.a.createElement(Lr,{label:m._({id:"Options"}),value:z}),(null===I||void 0===I||null===(s=I.credentials)||void 0===s?void 0:s.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:m._({id:"Credentials"}),value:r.a.createElement(rr,{numChips:5,totalChips:I.credentials.length},I.credentials.map((function(e){return r.a.createElement(Vc,{key:e.id,credential:e,isReadOnly:!0})})))}),(null===I||void 0===I||null===(u=I.labels)||void 0===u||null===(d=u.results)||void 0===d?void 0:d.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:m._({id:"Labels"}),value:r.a.createElement(rr,{numChips:5,totalChips:I.labels.results.length},I.labels.results.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),(null===g||void 0===g?void 0:g.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:m._({id:"Instance Groups"}),value:r.a.createElement(rr,{numChips:5,totalChips:g.length},g.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),(null===O||void 0===O?void 0:O.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:m._({id:"Job Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:O.split(",").length},O.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),(null===T||void 0===T?void 0:T.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:m._({id:"Skip Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:T.split(",").length},T.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),_&&r.a.createElement(yc,{label:m._({id:"Variables"}),rows:4,value:_}))}));var Xs=Object(c.withI18n)()((function(e){var t,a,n,i,l,o,c,s=e.i18n,u=e.resource,d=u.allow_simultaneous,m=u.extra_vars,p=u.limit,b=u.related,f=u.scm_branch,h=u.summary_fields,v=u.webhook_key,_=u.webhook_service,y="";(d||_)&&(y=r.a.createElement(oi.a,null,d&&r.a.createElement(ci.a,null,s._({id:"Enable Concurrent Jobs"})),_&&r.a.createElement(ci.a,null,s._({id:"Enable Webhooks"}))));var E="smart"===(null===h||void 0===h||null===(t=h.inventory)||void 0===t?void 0:t.kind)?"smart_inventory":"inventory",g=h.recent_jobs.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})}));return r.a.createElement(r.a.Fragment,null,(null===(a=h.recent_jobs)||void 0===a?void 0:a.length)>0&&r.a.createElement(Lr,{value:r.a.createElement(Mo,{jobs:g}),label:s._({id:"Activity"})}),(null===h||void 0===h?void 0:h.organization)&&r.a.createElement(Lr,{label:s._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(h.organization.id,"/details")},null===h||void 0===h?void 0:h.organization.name)}),(null===h||void 0===h?void 0:h.inventory)&&r.a.createElement(Lr,{label:s._({id:"Inventory"}),value:r.a.createElement(D.b,{to:"/".concat(E,"/").concat(null===(n=h.inventory)||void 0===n?void 0:n.id,"/details")},null===(i=h.inventory)||void 0===i?void 0:i.name)}),r.a.createElement(Lr,{label:s._({id:"Source Control Branch"}),value:f}),r.a.createElement(Lr,{label:s._({id:"Limit"}),value:p}),r.a.createElement(Lr,{label:s._({id:"Webhook Service"}),value:qc(_)}),r.a.createElement(Lr,{label:s._({id:"Webhook Key"}),value:v}),b.webhook_receiver&&r.a.createElement(Lr,{label:s._({id:"Webhook URL"}),value:"".concat(window.location.origin).concat(b.webhook_receiver)}),y&&r.a.createElement(Lr,{label:s._({id:"Options"}),value:y}),(null===h||void 0===h?void 0:h.webhook_credential)&&r.a.createElement(Lr,{fullWidth:!0,label:s._({id:"Webhook Credential"}),value:r.a.createElement(Vc,{key:null===(l=h.webhook_credential)||void 0===l?void 0:l.id,credential:h.webhook_credential,isReadOnly:!0})}),(null===h||void 0===h||null===(o=h.labels)||void 0===o||null===(c=o.results)||void 0===c?void 0:c.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:s._({id:"Labels"}),value:r.a.createElement(rr,{numChips:5,totalChips:h.labels.results.length},h.labels.results.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),m&&r.a.createElement(yc,{label:s._({id:"Variables"}),rows:4,value:m}))})),Zs=N.b.h2.withConfig({displayName:"PromptDetail__PromptHeader",componentId:"sc-14gnqym-0"})(["font-weight:bold;margin:var(--pf-global--spacer--lg) 0;"]);function Qs(e){if("undefined"===typeof e||null===e)return null;var t=Math.floor(e/60),a=e-60*Math.floor(e/60);return r.a.createElement(c.Trans,{id:"{minutes} min {seconds} sec",values:{minutes:t,seconds:a}})}function $s(e){var t={job_template:"/templates/job_template/".concat(e.id,"/details"),project:"/projects/".concat(e.id,"/details"),inventory_source:"/inventories/inventory/".concat(e.inventory,"/sources/").concat(e.id,"/details"),workflow_job_template:"/templates/workflow_job_template/".concat(e.id,"/details")};return t[null===e||void 0===e?void 0:e.type]?r.a.createElement(D.b,{to:t[e.type]},e.name):e.name}var eu=Object(N.b)(Hs.a).withConfig({displayName:"PromptDetail___StyledDivider",componentId:"sc-14gnqym-1"})(["margin-top:var(--pf-global--spacer--lg)"]);function tu(e){var t,a,n,i,l=e.i18n,o=e.resource,c=e.launchConfig,s=void 0===c?{}:c,u=e.overrides,d=void 0===u?{}:u,m={0:l._({id:"0 (Normal)"}),1:l._({id:"1 (Verbose)"}),2:l._({id:"2 (More Verbose)"}),3:l._({id:"3 (Debug)"}),4:l._({id:"4 (Connection Debug)"})},p=function(e,t){var a=Object(oe.a)(Object(oe.a)({},e),{},{summary_fields:Object(oe.a)({},e.summary_fields)});return Object.keys(t).forEach((function(e){delete a[e],delete a.summary_fields[e]})),a}(o,d),b=Object.keys(d).length>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:l._({id:"Name"}),value:$s(o)}),r.a.createElement(Lr,{label:l._({id:"Description"}),value:p.description}),r.a.createElement(Lr,{label:l._({id:"Type"}),value:qc(p.unified_job_type||p.type)}),r.a.createElement(Lr,{label:l._({id:"Timeout"}),value:Qs(null===p||void 0===p?void 0:p.timeout)}),"project"===(null===p||void 0===p?void 0:p.type)&&r.a.createElement(Js,{resource:p}),"inventory_source"===(null===p||void 0===p?void 0:p.type)&&r.a.createElement(Ks,{resource:p}),"job_template"===(null===p||void 0===p?void 0:p.type)&&r.a.createElement(Ys,{resource:p}),"workflow_job_template"===(null===p||void 0===p?void 0:p.type)&&r.a.createElement(Xs,{resource:p}),(null===p||void 0===p?void 0:p.created)&&r.a.createElement(Yr,{label:l._({id:"Created"}),date:p.created,user:null===p||void 0===p||null===(t=p.summary_fields)||void 0===t?void 0:t.created_by}),(null===p||void 0===p?void 0:p.modified)&&r.a.createElement(Yr,{label:l._({id:"Last Modified"}),date:null===p||void 0===p?void 0:p.modified,user:null===p||void 0===p||null===(a=p.summary_fields)||void 0===a?void 0:a.modified_by})),((i=s).ask_credential_on_launch||i.ask_diff_mode_on_launch||i.ask_inventory_on_launch||i.ask_job_type_on_launch||i.ask_limit_on_launch||i.ask_scm_branch_on_launch||i.ask_skip_tags_on_launch||i.ask_tags_on_launch||i.ask_variables_on_launch||i.ask_verbosity_on_launch)&&b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(eu,null),r.a.createElement(Zs,null,l._({id:"Prompted Values"})),r.a.createElement(Cr,{"aria-label":"Prompt Overrides"},(null===d||void 0===d?void 0:d.job_type)&&r.a.createElement(Lr,{label:l._({id:"Job Type"}),value:qc(d.job_type)}),(null===d||void 0===d?void 0:d.credentials)&&r.a.createElement(Lr,{fullWidth:!0,label:l._({id:"Credentials"}),rows:4,value:r.a.createElement(rr,{numChips:5,totalChips:d.credentials.length},d.credentials.map((function(e){return r.a.createElement(Vc,{key:e.id,credential:e,isReadOnly:!0})})))}),(null===d||void 0===d?void 0:d.inventory)&&r.a.createElement(Lr,{label:l._({id:"Inventory"}),value:null===(n=d.inventory)||void 0===n?void 0:n.name}),(null===d||void 0===d?void 0:d.scm_branch)&&r.a.createElement(Lr,{label:l._({id:"Source Control Branch"}),value:d.scm_branch}),(null===d||void 0===d?void 0:d.limit)&&r.a.createElement(Lr,{label:l._({id:"Limit"}),value:d.limit}),(null===d||void 0===d?void 0:d.verbosity)&&r.a.createElement(Lr,{label:l._({id:"Verbosity"}),value:m[d.verbosity]}),(null===d||void 0===d?void 0:d.job_tags)&&r.a.createElement(Lr,{fullWidth:!0,label:l._({id:"Job Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:d.job_tags.split(",").length},d.job_tags.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),(null===d||void 0===d?void 0:d.skip_tags)&&r.a.createElement(Lr,{fullWidth:!0,label:l._({id:"Skip Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:d.skip_tags.split(",").length},d.skip_tags.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),(null===d||void 0===d?void 0:d.diff_mode)&&r.a.createElement(Lr,{label:l._({id:"Show Changes"}),value:!0===d.diff_mode?l._({id:"On"}):l._({id:"Off"})}),(null===d||void 0===d?void 0:d.extra_vars)&&r.a.createElement(yc,{label:l._({id:"Variables"}),rows:4,value:d.extra_vars}))))}tu.defaultProps={launchConfig:{defaults:{}}};var au=Object(c.withI18n)()(tu);function nu(e){var t={};return Object.keys(e).forEach((function(a){a.startsWith("survey_")&&(t[a.substr(7)]=e[a])})),t}var ru=function(e){var t,a=e.resource,n=e.config,i=e.survey,l=e.formErrors,o=Object(di.d)().values,c=nu(o);if(i&&i.spec){var s=function(e,t){var a=Object(oe.a)({},e);return t.forEach((function(e){"undefined"!==typeof a[e]&&(a[e]="\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7")})),a}(c,i.spec.filter((function(e){return"password"===e.type})).map((function(e){return e.variable})));t=oc.a.safeDump(ls(o.extra_vars||"---",s))}else t=o.extra_vars||"---";return r.a.createElement(r.a.Fragment,null,r.a.createElement(au,{resource:a,launchConfig:n,overrides:Object(oe.a)(Object(oe.a)({},o),{},{extra_vars:t})}),l&&r.a.createElement("ul",{css:"color: red"},Object.keys(l).map((function(e){return"".concat(e,": ").concat(l[e])}))))};function iu(e,t,a){var i=Object(n.useState)({}),l=Object(O.a)(i,2),o=l[0],c=l[1],s=[bs(e,t,o,a),js(e,t,0,a),As(e,t,o,a),Bs(e,t,o,a)];s.push(function(e,t,a,n,i){return{step:{id:"preview",name:i._({id:"Preview"}),component:r.a.createElement(ru,{config:e,resource:t,survey:a,formErrors:n}),enableNext:0===Object.keys(n).length,nextButtonText:i._({id:"Launch"})},initialValues:{},validate:function(){return{}},isReady:!0,error:null,setTouched:function(){}}}(e,t,s[3].survey,{},a));var u=s.map((function(e){return e.step})).filter((function(e){return null!=e})),m=s.reduce((function(e,t){return Object(oe.a)(Object(oe.a)({},e),t.initialValues)}),{}),p=!s.some((function(e){return!e.isReady})),b=s.find((function(e){return e.error}));return{steps:u,initialValues:m,isReady:p,validate:function(e){var t=s.reduce((function(t,a){return Object(oe.a)(Object(oe.a)({},t),a.validate(e))}),{});return!!Object.keys(t).length&&t},visitStep:function(e){return c(Object(oe.a)(Object(oe.a)({},o),{},Object(d.a)({},e,!0)))},visitAllSteps:function(e){c({inventory:!0,credentials:!0,other:!0,survey:!0,preview:!0}),s.forEach((function(t){return t.setTouched(e)}))},contentError:b?b.error:null}}var lu=Object(c.withI18n)()((function(e){var t=e.config,a=e.resource,n=e.onLaunch,i=e.onCancel,l=e.i18n,o=iu(t,a,l),c=o.steps,s=o.initialValues,u=o.isReady,d=o.validate,m=o.visitStep,p=o.visitAllSteps,b=o.contentError;return b?r.a.createElement(dn,{error:b}):u?r.a.createElement(di.b,{initialValues:s,onSubmit:function(e){var t,a,r={},i=function(e,t){"undefined"!==typeof t&&null!==t&&(r[e]=t)},l=nu(e);i("inventory_id",null===(t=e.inventory)||void 0===t?void 0:t.id),i("credentials",null===(a=e.credentials)||void 0===a?void 0:a.map((function(e){return e.id}))),i("job_type",e.job_type),i("limit",e.limit),i("job_tags",e.job_tags),i("skip_tags",e.skip_tags),i("extra_vars",ls(e.extra_vars,l)),n(r)},validate:d},(function(e){var t=e.validateForm,a=e.setTouched,n=e.handleSubmit;return r.a.createElement(qt.a,{isOpen:!0,onClose:i,onSave:n,onNext:function(){var e=Object(F.a)(U.a.mark((function e(n,r){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"preview"===n.id?p(a):m(r.prevId),e.next=3,t();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onGoToStep:function(){var e=Object(F.a)(U.a.mark((function e(n,r){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"preview"===n.id?p(a):m(r.prevId),e.next=3,t();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),title:l._({id:"Prompts"}),steps:c})})):r.a.createElement(bn,null)}));var ou=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={showLaunchPrompt:!1,launchConfig:null,launchError:!1},n.handleLaunch=n.handleLaunch.bind(Object(ne.a)(n)),n.launchWithParams=n.launchWithParams.bind(Object(ne.a)(n)),n.handleRelaunch=n.handleRelaunch.bind(Object(ne.a)(n)),n.handleLaunchErrorClose=n.handleLaunchErrorClose.bind(Object(ne.a)(n)),n.handlePromptErrorClose=n.handlePromptErrorClose.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleLaunchErrorClose",value:function(){this.setState({launchError:null})}},{key:"handlePromptErrorClose",value:function(){this.setState({showLaunchPrompt:!1})}},{key:"handleLaunch",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.resource,a="workflow_job_template"===t.type?It.readLaunch(t.id):mt.readLaunch(t.id),e.prev=2,e.next=5,a;case 5:n=e.sent,r=n.data,!(i=r).can_start_without_user_input||i.ask_inventory_on_launch||i.ask_variables_on_launch||i.ask_limit_on_launch||i.ask_scm_branch_on_launch||i.survey_enabled||i.variables_needed_to_start&&0!==i.variables_needed_to_start.length?this.setState({showLaunchPrompt:!0,launchConfig:r}):this.launchWithParams({}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.setState({launchError:e.t0});case 13:case"end":return e.stop()}var i}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"launchWithParams",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.props,n=a.history,r=a.resource,i="workflow_job_template"===r.type?It.launch(r.id,t||{}):mt.launch(r.id,t||{}),e.next=5,i;case 5:l=e.sent,o=l.data,n.push("/".concat("workflow_job_template"===r.type?"jobs/workflow":"jobs","/").concat(o.id,"/output")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({launchError:e.t0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleRelaunch",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,"inventory_update"===(n=t.resource).type?(r=ut.readLaunchUpdate(n.inventory_source),i=ut.launchUpdate(n.inventory_source)):"project_update"===n.type?(r=_t.readLaunchUpdate(n.project),i=_t.launchUpdate(n.project)):"workflow_job"===n.type?(r=xt.readRelaunch(n.id),i=xt.relaunch(n.id)):"ad_hoc_command"===n.type?(r=at.readRelaunch(n.id),i=at.relaunch(n.id)):"job"===n.type&&(r=pt.readRelaunch(n.id),i=pt.relaunch(n.id)),e.prev=2,e.next=5,r;case 5:if(l=e.sent,(o=l.data).passwords_needed_to_start&&0!==o.passwords_needed_to_start.length){e.next=15;break}return e.next=10,i;case 10:c=e.sent,s=c.data,a.push("/jobs/".concat(s.id,"/output")),e.next=16;break;case 15:this.setState({showLaunchPrompt:!0,launchConfig:o});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),this.setState({launchError:e.t0});case 21:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.launchError,i=t.showLaunchPrompt,l=t.launchConfig,o=this.props,c=o.resource,s=o.i18n,u=o.children;return r.a.createElement(n.Fragment,null,u({handleLaunch:this.handleLaunch,handleRelaunch:this.handleRelaunch}),a&&r.a.createElement(Gn,{isOpen:a,variant:"error",title:s._({id:"Error!"}),onClose:this.handleLaunchErrorClose},s._({id:"Failed to launch job."}),r.a.createElement(cn,{error:a})),i&&r.a.createElement(lu,{config:l,resource:c,onLaunch:this.launchWithParams,onCancel:function(){return e.setState({showLaunchPrompt:!1})}}))}}]),a}(r.a.Component),cu=Object(c.withI18n)()(Object(o.k)(ou));function su(){var e=Object(S.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n"]);return su=function(){return e},e}var uu=Object(N.b)(Ul.a)(su());var du=Object(c.withI18n)()((function(e){var t,a,n=e.i18n,i=e.job,l=e.isSelected,o=e.onSelect,c=e.showTypeColumn,s=void 0!==c&&c,u="check-action-".concat(i.id),d={project_update:n._({id:"Source Control Update"}),inventory_update:n._({id:"Inventory Sync"}),job:n._({id:"Playbook Run"}),command:n._({id:"Command"}),management_job:n._({id:"Management Job"}),workflow_job:n._({id:"Workflow Job"})};return r.a.createElement(gn.a,{"aria-labelledby":u,id:"".concat(i.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-job-".concat(i.id),checked:l,onChange:o,"aria-labelledby":u}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"status",isFilled:!1},i.status&&r.a.createElement(Lo,{status:i.status})),r.a.createElement(Sn,{key:"name"},r.a.createElement("span",null,r.a.createElement(D.b,{to:"/jobs/".concat(Ro[i.type],"/").concat(i.id)},r.a.createElement("b",null,i.id," \u2014 ",i.name))))].concat(Object(le.a)(s?[r.a.createElement(Sn,{key:"type","aria-label":"type"},d[i.type])]:[]),[r.a.createElement(Sn,{key:"finished"},Mr(i.finished))])}),r.a.createElement(uu,{"aria-label":"actions","aria-labelledby":u,id:u},"system_job"!==i.type&&(null===(t=i.summary_fields)||void 0===t||null===(a=t.user_capabilities)||void 0===a?void 0:a.start)?r.a.createElement(Ln.a,{content:n._({id:"Relaunch Job"}),position:"top"},r.a.createElement(cu,{resource:i},(function(e){var t=e.handleRelaunch;return r.a.createElement($.a,{variant:"plain",onClick:t,"aria-label":n._({id:"Relaunch"})},r.a.createElement(is.a,null))}))):"")))}));var mu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.defaultParams,i=e.showTypeColumn,l=void 0!==i&&i,c=ce("job",Object(oe.a)({page:1,page_size:20,order_by:"-finished",not__launch_type:"sync"},a),["id","page","page_size"]),s=Object(n.useState)([]),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(o.h)(),b=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(c,p.search),e.next=3,wt.read(Object(oe.a)({},t));case 3:return a=e.sent,n=a.data,r=n.count,i=n.results,e.abrupt("return",{itemCount:r,jobs:i});case 8:case"end":return e.stop()}}),e)}))),[p]),{jobs:[],itemCount:0}),f=b.result,h=f.jobs,v=f.itemCount,_=b.error,y=b.isLoading,E=b.request;Object(n.useEffect)((function(){E()}),[E]);var g=d.length===h.length&&d.length>0,j=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(d.map((function(e){var t=e.type,a=e.id;switch(t){case"job":return pt.destroy(a);case"ad_hoc_command":return at.destroy(a);case"system_job":return jt.destroy(a);case"project_update":return yt.destroy(a);case"inventory_update":return dt.destroy(a);case"workflow_job":return xt.destroy(a);default:return null}}))));case 1:case"end":return e.stop()}}),e)}))),[d]),{qsConfig:c,allItemsSelected:g,fetchItems:E}),k=j.isLoading,w=j.deleteItems,C=j.deletionError,S=j.clearDeletionError,x=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:m([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){m(e?Object(le.a)(h):[])},I=function(e){d.some((function(t){return t.id===e.id}))?m(d.filter((function(t){return t.id!==e.id}))):m(d.concat(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:_,hasContentLoading:y||k,items:h,itemCount:v,pluralizedItemName:"Jobs",qsConfig:c,onRowClick:I,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"ID"}),key:"id"},{name:t._({id:"Label Name"}),key:"labels__name"},{name:t._({id:"Job Type"}),key:"type",options:[["project_update",t._({id:"Source Control Update"})],["inventory_update",t._({id:"Inventory Sync"})],["job",t._({id:"Playbook Run"})],["ad_hoc_command",t._({id:"Command"})],["system_job",t._({id:"Management Job"})],["workflow_job",t._({id:"Workflow Job"})]]},{name:t._({id:"Launched By (Username)"}),key:"created_by__username"},{name:t._({id:"Status"}),key:"status",options:[["new",t._({id:"New"})],["pending",t._({id:"Pending"})],["waiting",t._({id:"Waiting"})],["running",t._({id:"Running"})],["successful",t._({id:"Successful"})],["failed",t._({id:"Failed"})],["error",t._({id:"Error"})],["canceled",t._({id:"Canceled"})]]},{name:t._({id:"Limit"}),key:"job__limit"}],toolbarSortColumns:[{name:t._({id:"Finish Time"}),key:"finished"},{name:t._({id:"ID"}),key:"id"},{name:t._({id:"Launched By"}),key:"created_by__id"},{name:t._({id:"Name"}),key:"name"},{name:t._({id:"Project"}),key:"unified_job_template__project__id"},{name:t._({id:"Start Time"}),key:"started"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,showExpandCollapse:!0,isAllSelected:g,onSelectAll:T,qsConfig:c,additionalControls:[r.a.createElement(Kn,{key:"delete",onDelete:x,itemsToDelete:d,pluralizedItemName:"Jobs"})]}))},renderItem:function(e){return r.a.createElement(du,{key:e.id,job:e,showTypeColumn:l,onSelect:function(){return I(e)},isSelected:d.some((function(t){return t.id===e.id}))})}})),r.a.createElement(Gn,{isOpen:C,variant:"error",title:t._({id:"Error!"}),onClose:S},t._({id:"Failed to delete one or more jobs."}),r.a.createElement(cn,{error:C})))}));var pu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ot.readFacts(a.id)]);case 2:return t=e.sent,n=Object(O.a)(t,1),r=n[0].data,e.abrupt("return",JSON.stringify(r,null,4));case 6:case"end":return e.stop()}}),e)}))),[a]),"{}"),l=i.result,o=i.isLoading,c=i.error,s=i.request;return Object(n.useEffect)((function(){s()}),[s]),o?r.a.createElement(bn,null):c?r.a.createElement(dn,{error:c}):r.a.createElement(K,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(yc,{label:t._({id:"Facts"}),fullHeight:!0,value:l})))})),bu=Object(N.b)(Bo).withConfig({displayName:"HostDetail___StyledHostToggle",componentId:"sc-1jquccm-0"})(["padding-bottom:40px"]);var fu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=a.created,l=a.description,c=a.id,s=a.modified,u=a.name,d=a.variables,m=a.summary_fields,p=m.inventory,b=m.recent_jobs,f=m.created_by,h=m.modified_by,v=m.user_capabilities,_=Object(n.useState)(!1),y=Object(O.a)(_,2),E=y[0],g=y[1],j=Object(n.useState)(!1),k=Object(O.a)(j,2),w=k[0],C=k[1],S=Object(o.g)(),x=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,ot.destroy(c);case 4:S.push("/hosts"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),C(e.t0);case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(){return e.apply(this,arguments)}}();if(!E&&w)return r.a.createElement(Gn,{isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:function(){return C(!1)}},t._({id:"Failed to delete {name}.",values:{name:u}}),r.a.createElement(cn,{error:w}));var T=b.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})}));return r.a.createElement(K,null,r.a.createElement(bu,{host:a}),r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:t._({id:"Name"}),value:u,dataCy:"host-name"}),r.a.createElement(Lr,{label:t._({id:"Activity"}),value:r.a.createElement(Mo,{jobs:T})}),r.a.createElement(Lr,{label:t._({id:"Description"}),value:l}),r.a.createElement(Lr,{label:t._({id:"Inventory"}),dataCy:"host-inventory",value:r.a.createElement(D.b,{to:"/inventories/inventory/".concat(p.id,"/details")},p.name)}),r.a.createElement(Yr,{date:i,label:t._({id:"Created"}),user:f,dataCy:"host-created-by"}),r.a.createElement(Yr,{date:s,label:t._({id:"Last Modified"}),user:h,dataCy:"host-last-modified-by"}),r.a.createElement(yc,{label:t._({id:"Variables"}),rows:4,value:d})),r.a.createElement(Z,null,(null===v||void 0===v?void 0:v.edit)&&r.a.createElement($.a,{"aria-label":t._({id:"edit"}),component:D.b,to:"/hosts/".concat(c,"/edit")},t._({id:"Edit"})),(null===v||void 0===v?void 0:v.delete)&&r.a.createElement(si,{onConfirm:function(){return x()},modalTitle:t._({id:"Delete Host"}),name:u})),w&&r.a.createElement(Gn,{isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:function(){return C(null)}},t._({id:"Failed to delete host."}),r.a.createElement(cn,{error:w})))}));var hu=function(e){var t=e.host,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s="/hosts/".concat(t.id,"/details"),u=Object(o.g)(),d=function(){var e=Object(F.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.update(t.id,a);case 3:u.push(s),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(ns,{host:t,handleSubmit:d,handleCancel:function(){u.push(s)},submitError:l}))};function vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(n.useState)([]),a=Object(O.a)(t,2),r=a[0],i=a[1],l=r.length>0&&r.length===e.length,o=function(e){r.some((function(t){return t.id===e.id}))?i((function(t){return Object(le.a)(t.filter((function(t){return t.id!==e.id})))})):i((function(t){return[].concat(Object(le.a)(t),[e])}))};return{selected:r,isAllSelected:l,handleSelect:o,setSelected:i}}var _u=ce("associate",{page:1,page_size:5,order_by:"name"});var yu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.header,i=void 0===a?t._({id:"Items"}):a,l=e.title,c=void 0===l?t._({id:"Select Items"}):l,s=e.onClose,u=e.onAssociate,d=e.fetchRequest,m=e.isModalOpen,p=void 0!==m&&m,b=Object(o.g)(),f=vu([]),h=f.selected,v=f.handleSelect,_=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(_u,b.location.search),e.next=3,d(t);case 3:return a=e.sent,n=a.data,r=n.count,i=n.results,e.abrupt("return",{items:i,itemCount:r});case 8:case"end":return e.stop()}}),e)}))),[d,b.location.search]),{items:[],itemCount:0}),y=_.request,E=_.result,g=E.items,j=E.itemCount,O=_.error,k=_.isLoading;Object(n.useEffect)((function(){y()}),[y]);var w=function(){var e=b.location.search.replace(/^\?/,"").split("&"),t=_u.namespace,a=e.filter((function(e){return!e.startsWith("".concat(t,"."))}));b.replace("".concat(b.location.pathname,"?").concat(a.join("&")))},C=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(h);case 2:w(),s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){w(),s()};return r.a.createElement(n.Fragment,null,r.a.createElement(Rn.a,{isFooterLeftAligned:!0,isLarge:!0,title:c,isOpen:p,onClose:S,actions:[r.a.createElement($.a,{"aria-label":t._({id:"Save"}),key:"select",variant:"primary",onClick:C,isDisabled:0===h.length},t._({id:"Save"})),r.a.createElement($.a,{"aria-label":t._({id:"Cancel"}),key:"cancel",variant:"secondary",onClick:S},t._({id:"Cancel"}))]},r.a.createElement(rl,{contentError:O,deselectItem:v,header:i,isLoading:k,multiple:!0,optionCount:j,options:g,qsConfig:_u,readOnly:!1,selectItem:v,value:h,searchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],sortColumns:[{name:t._({id:"Name"}),key:"name"}]})))}));function Eu(){var e=Object(S.a)(["\n  margin-bottom: var(--pf-global--spacer--xl);\n"]);return Eu=function(){return e},e}var gu=N.b.div(Eu());function ju(e){var t=e.i18n,a=e.itemsToDisassociate,i=void 0===a?[]:a,l=e.modalNote,o=void 0===l?"":l,c=e.modalTitle,s=void 0===c?t._({id:"Disassociate?"}):c,u=e.onDisassociate,d=Object(n.useState)(!1),m=Object(O.a)(d,2),p=m[0],b=m[1];function f(e){return!e.summary_fields.user_capabilities.delete}var h=0===i.length||i.some(f);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln.a,{content:function(){var e=i.filter(f).map((function(e){return e.name})).join(", ");return i.some(f)?r.a.createElement("div",null,t._({id:"You do not have permission to disassociate the following: {itemsUnableToDisassociate}",values:{itemsUnableToDisassociate:e}})):i.length?t._({id:"Disassociate"}):t._({id:"Select a row to disassociate"})}(),position:"top"},r.a.createElement("div",null,r.a.createElement($.a,{variant:"danger","aria-label":t._({id:"Disassociate"}),onClick:function(){return b(!0)},isDisabled:h},t._({id:"Disassociate"})))),p&&r.a.createElement(Gn,{isOpen:p,title:s,variant:"warning",onClose:function(){return b(!1)},actions:[r.a.createElement($.a,{key:"disassociate",variant:"danger","aria-label":t._({id:"confirm disassociate"}),onClick:function(){u(),b(!1)}},t._({id:"Disassociate"})),r.a.createElement($.a,{key:"cancel",variant:"secondary","aria-label":t._({id:"Cancel"}),onClick:function(){return b(!1)}},t._({id:"Cancel"}))]},o&&r.a.createElement(gu,null,o),r.a.createElement("div",null,t._({id:"This action will disassociate the following:"})),i.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement("strong",null,e.name),r.a.createElement("br",null))}))))}ju.defaultProps={itemsToDisassociate:[],modalNote:"",modalTitle:""};var Ou=Object(c.withI18n)()(ju);var ku=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.group,n=e.inventoryId,i=e.isSelected,l=e.onSelect,o="check-action-".concat(a.id),c="/inventories/inventory/".concat(n,"/groups/").concat(a.id,"/details"),s="/inventories/inventory/".concat(n,"/groups/").concat(a.id,"/edit");return r.a.createElement(gn.a,{key:a.id,"aria-labelledby":o,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{"aria-labelledby":o,id:"select-group-".concat(a.id),checked:i,onChange:l}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(c),id:o},r.a.createElement("b",null,a.name)))]}),r.a.createElement(Ul.a,{"aria-label":"actions","aria-labelledby":o,id:o},a.summary_fields.user_capabilities.edit&&r.a.createElement(Ln.a,{content:t._({id:"Edit Group"}),position:"top"},r.a.createElement($.a,{variant:"plain",component:D.b,to:s},r.a.createElement(Fl.a,null))))))})),wu=ce("group",{page:1,page_size:20,order_by:"name"});var Cu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=Object(n.useState)(!1),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(o.i)().id,d=Object(o.h)().search,m=a.summary_fields.inventory.id,p=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(wu,d),e.next=3,Promise.all([ot.readAllGroups(u,t),ot.readGroupsOptions(u)]);case 3:return a=e.sent,n=Object(O.a)(a,2),r=n[0].data,i=r.count,l=r.results,o=n[1],e.abrupt("return",{groups:l,itemCount:i,actions:o.data.actions});case 10:case"end":return e.stop()}}),e)}))),[u,d]),{groups:[],itemCount:0}),b=p.result,f=b.groups,h=b.itemCount,v=b.actions,_=p.error,y=p.isLoading,E=p.request;Object(n.useEffect)((function(){E()}),[E]);var g=vu(f),j=g.selected,k=g.isAllSelected,w=g.handleSelect,C=g.setSelected,S=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(j.map((function(e){return ot.disassociateGroup(u,e)}))));case 1:case"end":return e.stop()}}),e)}))),[u,j]),{qsConfig:wu,allItemsSelected:k,fetchItems:E}),x=S.isLoading,T=S.deleteItems,I=S.deletionError,D=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:C([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(n.useCallback)((function(e){return st.readGroups(m,he(e,{not__hosts:u}))}),[m,u]),L=Al(Object(n.useCallback)(function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return ot.associateGroup(u,e.id)})));case 2:E();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,E])),R=L.request,A=L.error,P=Pl(A||I),z=P.error,M=P.dismissError,q=v&&Object.prototype.hasOwnProperty.call(v,"POST");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:_,hasContentLoading:y||x,items:f,itemCount:h,qsConfig:wu,onRowClick:w,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderItem:function(e){return r.a.createElement(ku,{key:e.id,group:e,hostId:u,inventoryId:e.summary_fields.inventory.id,isSelected:j.some((function(t){return t.id===e.id})),onSelect:function(){return w(e)}})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:k,onSelectAll:function(e){return C(e?Object(le.a)(f):[])},qsConfig:wu,additionalControls:[].concat(Object(le.a)(q?[r.a.createElement(Xn,{key:"add",onClick:function(){return s(!0)}})]:[]),[r.a.createElement(Ou,{key:"disassociate",onDisassociate:D,itemsToDisassociate:j,modalTitle:t._({id:"Disassociate group from host?"}),modalNote:t._({id:"Note that you may still see the group in the list after disassociating if the host is also a member of that group\u2019s  children.  This list shows all groups the host is associated  with directly and indirectly."})})])}))},emptyStateControls:q?r.a.createElement(Xn,{key:"add",onClick:function(){return s(!0)}}):null}),c&&r.a.createElement(yu,{header:t._({id:"Groups"}),fetchRequest:N,isModalOpen:c,onAssociate:R,onClose:function(){return s(!1)},title:t._({id:"Select Groups"})}),z&&r.a.createElement(Gn,{isOpen:z,onClose:M,title:t._({id:"Error!"}),variant:"error"},A?t._({id:"Failed to associate."}):t._({id:"Failed to disassociate one or more groups."}),r.a.createElement(cn,{error:z})))}));var Su=Object(c.withI18n)()((function(e){var t=e.host;return r.a.createElement(o.d,null,r.a.createElement(o.b,{key:"list",path:"/hosts/:id/groups"},r.a.createElement(Cu,{host:t})))}));var xu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(null),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!0),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(o.h)(),E=Object(o.j)("/hosts/:id");Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),e.prev=1,e.next=4,ot.readDetail(E.params.id);case 4:t=e.sent,n=t.data,s(n),a(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),p(e.t0);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()}),[E.params.id,_,a]);var g,j=[{name:t._({id:"Details"}),link:"".concat(E.url,"/details"),id:0},{name:t._({id:"Facts"}),link:"".concat(E.url,"/facts"),id:1},{name:t._({id:"Groups"}),link:"".concat(E.url,"/groups"),id:2},{name:t._({id:"Completed Jobs"}),link:"".concat(E.url,"/completed_jobs"),id:3}];return h?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(bn,null))):m?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:m},404===(null===m||void 0===m||null===(g=m.response)||void 0===g?void 0:g.status)&&r.a.createElement("span",null,t._("Host not found.")," ",r.a.createElement(D.b,{to:"/hosts"},t._("View all Hosts.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,_.pathname.endsWith("edit")?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:j}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/hosts"}))),r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/hosts/:id",to:"/hosts/:id/details",exact:!0}),c&&[r.a.createElement(o.b,{path:"/hosts/:id/details",key:"details"},r.a.createElement(fu,{host:c})),r.a.createElement(o.b,{path:"/hosts/:id/edit",key:"edit"},r.a.createElement(hu,{host:c})),r.a.createElement(o.b,{key:"facts",path:"/hosts/:id/facts"},r.a.createElement(pu,{host:c})),r.a.createElement(o.b,{path:"/hosts/:id/groups",key:"groups"},r.a.createElement(Su,{host:c})),r.a.createElement(o.b,{path:"/hosts/:id/completed_jobs",key:"completed-jobs"},r.a.createElement(mu,{defaultParams:{job__hosts:c.id}}))],r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,{isNotFound:!0},r.a.createElement(D.b,{to:"".concat(E.url,"/details")},t._("View Host Details")))))))}));var Tu=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)({"/hosts":t._({id:"Hosts"}),"/hosts/add":t._({id:"Create New Host"})}),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useCallback)((function(e){var a;e&&c((a={"/hosts":t._({id:"Hosts"}),"/hosts/add":t._({id:"Create New Host"})},Object(d.a)(a,"/hosts/".concat(e.id),"".concat(e.name)),Object(d.a)(a,"/hosts/".concat(e.id,"/edit"),t._({id:"Edit Details"})),Object(d.a)(a,"/hosts/".concat(e.id,"/details"),t._({id:"Details"})),Object(d.a)(a,"/hosts/".concat(e.id,"/facts"),t._({id:"Facts"})),Object(d.a)(a,"/hosts/".concat(e.id,"/groups"),t._({id:"Groups"})),Object(d.a)(a,"/hosts/".concat(e.id,"/completed_jobs"),t._({id:"Completed Jobs"})),a))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:l}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/hosts/add"},r.a.createElement(rs,null)),r.a.createElement(o.b,{path:"/hosts/:id"},r.a.createElement(C,null,(function(e){var t=e.me;return r.a.createElement(xu,{setBreadcrumb:s,me:t||{}})}))),r.a.createElement(o.b,{path:"/hosts"},r.a.createElement(Ko,null))))})),Iu=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Instance Groups"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),Du=Object(c.withI18n)()(Iu);var Nu=function(e){var t=e.dropdownItems,a=Object(n.useState)(!1),i=Object(O.a)(a,2),l=i[0],o=i[1],c=Object(n.useRef)(null),s=function(e){c&&c.current.contains(e.target)||o(!1)};return Object(n.useEffect)((function(){return document.addEventListener("click",s,!1),function(){document.removeEventListener("click",s)}}),[]),r.a.createElement("div",{ref:c,key:"add"},r.a.createElement(_a.a,{isPlain:!0,isOpen:l,position:ha.d.right,toggle:r.a.createElement(Xn,{onClick:function(){return o(!l)}}),dropdownItems:t.map((function(e){return r.a.createElement(D.b,{className:"pf-c-dropdown__menu-item",key:e.url,to:e.url},e.label)}))}))};function Lu(){var e=Object(S.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(2, 40px);\n"]);return Lu=function(){return e},e}var Ru=Object(N.b)(Ul.a)(Lu());var Au=Object(c.withI18n)()((function(e){var t=e.inventory,a=e.isSelected,i=e.onSelect,l=e.detailUrl,o=e.i18n,c=e.fetchInventories,s=Object(n.useState)(!1),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.copy(t.id,{name:"".concat(t.name," @ ").concat(Br())});case 2:return e.next=4,c();case 4:case"end":return e.stop()}}),e)}))),[t.id,t.name,c]),b="check-action-".concat(t.id);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":b,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-inventory-".concat(t.id),checked:a,onChange:i,"aria-labelledby":b}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"divider"},r.a.createElement(D.b,{to:"".concat(l)},r.a.createElement("b",null,t.name))),r.a.createElement(Sn,{key:"kind"},"smart"===t.kind?o._({id:"Smart Inventory"}):o._({id:"Inventory"}))]}),r.a.createElement(Ru,{"aria-label":"actions","aria-labelledby":b,id:b},t.summary_fields.user_capabilities.edit?r.a.createElement(Ln.a,{content:o._({id:"Edit Inventory"}),position:"top"},r.a.createElement($.a,{isDisabled:d,"aria-label":o._({id:"Edit Inventory"}),variant:"plain",component:D.b,to:"/inventories/".concat("smart"===t.kind?"smart_inventory":"inventory","/").concat(t.id,"/edit")},r.a.createElement(Fl.a,null))):"",t.summary_fields.user_capabilities.copy&&r.a.createElement(ql,{copyItem:p,isDisabled:d,onLoading:function(){return m(!0)},onDoneLoading:function(){return m(!1)},helperText:{tooltip:o._({id:"Copy Inventory"}),errorMessage:o._({id:"Failed to copy inventory."})}}))))})),Pu=ce("inventory",{page:1,page_size:20,order_by:"name"});var zu=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(o.j)(),l=Object(n.useState)([]),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Pu,a.search),e.next=3,Promise.all([st.read(t),st.readOptions()]);case 3:return n=e.sent,r=Object(O.a)(n,2),i=r[0],l=r[1],e.abrupt("return",{inventories:i.data.results,itemCount:i.data.count,actions:l.data.actions});case 8:case"end":return e.stop()}}),e)}))),[a]),{inventories:[],itemCount:0,actions:{}}),m=d.result,p=m.inventories,b=m.itemCount,f=m.actions,h=d.error,v=d.isLoading,_=d.request;Object(n.useEffect)((function(){_()}),[_]);var E=s.length===p.length&&s.length>0,g=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(s.map((function(e){return st.destroy(e.id)}))));case 1:case"end":return e.stop()}}),e)}))),[s]),{qsConfig:Pu,allItemsSelected:E,fetchItems:_}),j=g.isLoading,k=g.deleteItems,w=g.deletionError,C=g.clearDeletionError,S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:u([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=j||v,T=f&&f.POST,I=function(e){u(e?Object(le.a)(p):[])},D=function(e){s.some((function(t){return t.id===e.id}))?u(s.filter((function(t){return t.id!==e.id}))):u(s.concat(e))},N=r.a.createElement(Nu,{key:"add",dropdownItems:[{label:t._({id:"Inventory"}),url:"".concat(i.url,"/inventory/add/")},{label:t._({id:"Smart Inventory"}),url:"".concat(i.url,"/smart_inventory/add/")}]});return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:h,hasContentLoading:x,items:p,itemCount:b,pluralizedItemName:t._({id:"Inventories"}),qsConfig:Pu,onRowClick:D,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,showExpandCollapse:!0,isAllSelected:E,onSelectAll:I,qsConfig:Pu,additionalControls:[].concat(Object(le.a)(T?[N]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:S,itemsToDelete:s,pluralizedItemName:t._({id:"Inventories"})})])}))},renderItem:function(e){return r.a.createElement(Au,{key:e.id,value:e.name,inventory:e,fetchInventories:_,detailUrl:"smart"===e.kind?"".concat(i.url,"/smart_inventory/").concat(e.id,"/details"):"".concat(i.url,"/inventory/").concat(e.id,"/details"),onSelect:function(){return D(e)},isSelected:s.some((function(t){return t.id===e.id}))})},emptyStateControls:T&&N})),r.a.createElement(Gn,{isOpen:w,variant:"error","aria-label":t._({id:"Deletion Error"}),title:t._({id:"Error!"}),onClose:C},t._({id:"Failed to delete one or more inventories."}),r.a.createElement(cn,{error:w})))}));var Uu=Object(c.withI18n)()((function(e){var t=e.inventory,a=e.i18n,i=Object(o.g)(),l=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.readInstanceGroups(t.id);case 2:return a=e.sent,n=a.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)}))),[t.id]),[]),c=l.result,s=l.isLoading,u=l.error,d=l.request;Object(n.useEffect)((function(){d()}),[d]);var m=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.destroy(t.id);case 2:i.push("/inventories");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=t.summary_fields,b=p.organization,f=p.user_capabilities;return s?r.a.createElement(bn,null):u?r.a.createElement(dn,{error:u}):r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:a._({id:"Name"}),value:t.name,dataCy:"inventory-detail-name"}),r.a.createElement(Lr,{label:a._({id:"Activity"}),value:"Coming soon"}),r.a.createElement(Lr,{label:a._({id:"Description"}),value:t.description}),r.a.createElement(Lr,{label:a._({id:"Type"}),value:a._({id:"Inventory"})}),r.a.createElement(Lr,{label:a._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(b.id,"/details")},b.name)}),r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Instance Groups"}),value:r.a.createElement(rr,{numChips:5,totalChips:c.length},c.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),r.a.createElement(yc,{label:a._({id:"Variables"}),value:t.variables,rows:4}),r.a.createElement(Yr,{label:a._({id:"Created"}),date:t.created,user:t.summary_fields.created_by}),r.a.createElement(Yr,{label:a._({id:"Last Modified"}),date:t.modified,user:t.summary_fields.modified_by})),r.a.createElement(Z,null,f.edit&&r.a.createElement($.a,{component:D.b,to:"/inventories/inventory/".concat(t.id,"/edit")},a._({id:"Edit"})),f.delete&&r.a.createElement(si,{name:t.name,modalTitle:a._({id:"Delete Inventory"}),onConfirm:m},a._({id:"Delete"}))))}));function Fu(e){var t=e.i18n,a=e.credentialTypeId,n=Object(di.c)({name:"organization",validate:Ji(t._({id:"Select a value for this field"}),t)}),i=Object(O.a)(n,3),l=i[0],o=i[1],c=i[2],s=Object(di.c)("instanceGroups"),u=s[0],d=s[2],m=Object(di.c)("insights_credential"),p=m[0],b=m[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"inventory-name",label:t._({id:"Name"}),name:"name",type:"text",validate:Ji(null,t),isRequired:!0}),r.a.createElement(gi,{id:"inventory-description",label:t._({id:"Description"}),name:"description",type:"text"}),r.a.createElement(yl,{helperTextInvalid:o.error,isValid:!o.touched||!o.error,onBlur:function(){return c.setTouched()},onChange:function(e){c.setValue(e)},value:l.value,touched:o.touched,error:o.error,required:!0}),r.a.createElement(es,{label:t._({id:"Insights Credential"}),credentialTypeId:a,onChange:function(e){return b.setValue(e)},value:p.value}),r.a.createElement(Rc,{value:u.value,onChange:function(e){d.setValue(e)}}),r.a.createElement(Ui,null,r.a.createElement(Ic,{tooltip:t._({id:"Enter inventory variables using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax"}),id:"inventory-variables",name:"variables",label:t._({id:"Variables"})})))}function Mu(e){var t=e.inventory,a=void 0===t?{}:t,n=e.onSubmit,i=e.onCancel,l=e.submitError,o=e.instanceGroups,c=Object(Q.a)(e,["inventory","onSubmit","onCancel","submitError","instanceGroups"]),s={name:a.name||"",description:a.description||"",variables:a.variables||"---",organization:a.summary_fields&&a.summary_fields.organization||null,instanceGroups:o||[],insights_credential:a.summary_fields&&a.summary_fields.insights_credential||null};return r.a.createElement(di.b,{initialValues:s,onSubmit:function(e){n(e)}},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(Fu,c),r.a.createElement(Di,{error:l}),r.a.createElement(Vi,{onCancel:i,onSubmit:e.handleSubmit})))}))}Mu.proptype={handleSubmit:Wt.func.isRequired,handleCancel:Wt.func.isRequired,instanceGroups:Object(Wt.shape)(),inventory:Object(Wt.shape)(),credentialTypeId:Wt.number.isRequired,submitError:Object(Wt.shape)()},Mu.defaultProps={inventory:{},instanceGroups:[],submitError:null};var qu=Object(c.withI18n)()(Mu);function Vu(e,t){t=t||[];var a=[],n=[];return(e=e||[]).forEach((function(e){t.find((function(t){return t.id===e.id}))||n.push(e)})),t.forEach((function(t){e.find((function(e){return e.id===t.id}))||a.push(t)})),{added:a,removed:n}}function Bu(e){var t=e.inventory,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!0),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(null),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(o.g)(),j=Object(n.useRef)(null);Object(n.useEffect)((function(){return j.current=!0,function(){var e=Object(F.a)(U.a.mark((function e(){var a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([st.readInstanceGroups(t.id),it.read({kind:"insights"})]);case 3:if(a=e.sent,n=Object(O.a)(a,2),r=n[0].data.results,i=n[1].data.results,j.current){e.next=9;break}return e.abrupt("return");case 9:m(r),E(i[0].id),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),c(e.t0);case 16:return e.prev=16,j.current&&h(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}()(),function(){j.current=!1}}),[t.id,f,t,y]);var k=function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r,i,l,o,s,u,m,p,b;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.instanceGroups,r=a.insights_credential,i=a.organization,l=Object(Q.a)(a,["instanceGroups","insights_credential","organization"]),e.prev=1,e.next=4,st.update(t.id,Object(oe.a)({insights_credential:r?r.id:null,organization:i.id},l));case 4:if(!n){e.next=10;break}return o=Vu(d,n),s=o.added,u=o.removed,m=s.map(function(){var e=Object(F.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st.associateInstanceGroup(t.id,a.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=u.map(function(){var e=Object(F.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st.disassociateInstanceGroup(t.id,a.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.all([].concat(Object(le.a)(m),Object(le.a)(p)));case 10:b=g.location.pathname.search("smart")>-1?"/inventories/smart_inventory/".concat(t.id,"/details"):"/inventories/inventory/".concat(t.id,"/details"),g.push("".concat(b)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),c(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return f?r.a.createElement(bn,null):r.a.createElement(K,null,r.a.createElement(qu,{onCancel:function(){var e="smart"===t.kind?"/inventories/smart_inventory/".concat(t.id,"/details"):"/inventories/inventory/".concat(t.id,"/details");g.push("".concat(e))},onSubmit:k,inventory:t,instanceGroups:d,credentialTypeId:y,submitError:l}))}Bu.proptype={inventory:Wt.object.isRequired};var Wu=Bu;var Gu=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.error,n=e.group,i=void 0===n?{}:n,l=e.handleSubmit,o=e.handleCancel,c={name:i.name||"",description:i.description||"",variables:i.variables||"---"};return r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(di.b,{initialValues:c,onSubmit:l},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(gi,{id:"inventoryGroup-name",name:"name",type:"text",label:t._({id:"Name"}),validate:Ji(null,t),isRequired:!0}),r.a.createElement(gi,{id:"inventoryGroup-description",name:"description",type:"text",label:t._({id:"Description"})}),r.a.createElement(Ui,null,r.a.createElement(Ic,{id:"host-variables",name:"variables",label:t._({id:"Variables"})})),r.a.createElement(Vi,{onCancel:o,onSubmit:e.handleSubmit}),a?r.a.createElement("div",null,"error"):null))}))))}));var Hu=Object(c.withI18n)()((function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(o.i)().id,c=Object(o.g)(),s=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.inventory=l,e.prev=1,e.next=4,lt.create(t);case 4:a=e.sent,n=a.data,c.push("/inventories/inventory/".concat(l,"/groups/").concat(n.id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,null,r.a.createElement(Gu,{error:a,handleCancel:function(){c.push("/inventories/inventory/".concat(l,"/groups"))},handleSubmit:s}))})),Ju=a(981);var Ku=Object(c.withI18n)()((function(e){var t=e.inventoryGroup,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.i)(),u=s.id,d=s.groupId,m=Object(o.g)(),p=function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.update(d,t);case 3:m.push("/inventories/inventory/".concat(u,"/groups/").concat(d)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Gu,{error:l,group:t,handleCancel:function(){m.push("/inventories/inventory/".concat(u,"/groups/").concat(d))},handleSubmit:p})})),Yu=N.b.li.withConfig({displayName:"InventoryGroupsDeleteModal__ListItem",componentId:"sc-1pp5qa2-0"})(["display:flex;font-weight:600;color:var(--pf-global--danger-color--100);"]),Xu=Object(N.b)("div").withConfig({displayName:"InventoryGroupsDeleteModal___StyledDiv",componentId:"sc-1pp5qa2-1"})(["padding:24px 0;"]),Zu=Object(N.b)(Zn.a).withConfig({displayName:"InventoryGroupsDeleteModal___StyledRadio",componentId:"sc-1pp5qa2-2"})(["margin-top:5px;"]),Qu=function(e){var t=e.onClose,a=e.onDelete,i=e.isModalOpen,o=e.groups,c=e.i18n,s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1];return l.a.createPortal(r.a.createElement(Gn,{isOpen:i,variant:"danger",title:o.length>1?c._({id:"Delete Groups?"}):c._({id:"Delete Group?"}),onClose:t,actions:[r.a.createElement($.a,{"aria-label":c._({id:"Delete"}),onClick:function(){return a(d)},variant:"danger",key:"delete",isDisabled:null===d},c._({id:"Delete"})),r.a.createElement($.a,{"aria-label":c._({id:"Close"}),onClick:t,variant:"secondary",key:"cancel"},c._({id:"Cancel"}))]},c._({id:"Are you sure you want to delete the {0} below?",values:{0:o.length>1?c._({id:"groups"}):c._({id:"group"})}}),r.a.createElement(Xu,null,o.map((function(e){return r.a.createElement(Yu,{key:e.id},e.name)}))),r.a.createElement("div",null,r.a.createElement(Zn.a,{id:"radio-delete",key:"radio-delete",label:c._({id:"Delete All Groups and Hosts"}),name:"option",onChange:function(){return m("delete")}}),r.a.createElement(Zu,{id:"radio-promote",key:"radio-promote",label:c._({id:"Promote Child Groups and Hosts"}),name:"option",onChange:function(){return m("promote")}}))),document.body)};Qu.defaultProps={isModalOpen:!1,groups:[]};var $u=Object(c.withI18n)()(Qu);var ed=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.inventoryGroup,i=a.summary_fields,l=i.created_by,c=i.modified_by,s=a.created,u=a.modified,d=a.name,m=a.description,p=a.variables,b=Object(n.useState)(!1),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(n.useState)(!1),y=Object(O.a)(_,2),E=y[0],g=y[1],j=Object(o.g)(),k=Object(o.i)(),w=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=parseInt(k.id,10),n=parseInt(k.groupId,10),g(!1),e.prev=3,"delete"!==t){e.next=9;break}return e.next=7,lt.destroy(n);case 7:e.next=11;break;case 9:return e.next=11,st.promoteGroup(a,n);case 11:j.push("/inventories/inventory/".concat(a,"/groups")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),v(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:t._({id:"Name"}),value:d,dataCy:"inventory-group-detail-name"}),r.a.createElement(Lr,{label:t._({id:"Description"}),value:m}),r.a.createElement(yc,{label:t._({id:"Variables"}),value:p,rows:4}),r.a.createElement(Yr,{label:t._({id:"Created"}),date:s,user:l}),r.a.createElement(Yr,{label:t._({id:"Last Modified"}),date:u,user:c})),r.a.createElement(Z,null,r.a.createElement($.a,{variant:"primary","aria-label":t._({id:"Edit"}),onClick:function(){return j.push("/inventories/inventory/".concat(k.id,"/groups/").concat(k.groupId,"/edit"))}},t._({id:"Edit"})),r.a.createElement($.a,{variant:"danger","aria-label":t._({id:"Delete"}),onClick:function(){return g(!0)}},t._({id:"Delete"}))),E&&r.a.createElement($u,{groups:[a],onClose:function(){return g(!1)},isModalOpen:E,onDelete:w}),h&&r.a.createElement(Gn,{variant:"error",title:t._({id:"Error!"}),isOpen:h,onClose:function(){return v(!1)}},t._({id:"Failed to delete group {0}.",values:{0:a.name}}),r.a.createElement(cn,{error:h})))}));var td=function(e){var t=e.inventoryGroup,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s="/inventories/inventory/".concat(t.inventory),u=Object(o.g)(),d=function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(oe.a)(Object(oe.a)({},a),{},{inventory:t.inventory}),e.next=4,lt.createHost(t.id,n);case 4:r=e.sent,i=r.data,u.push("".concat(s,"/hosts/").concat(i.id,"/details")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(ns,{handleSubmit:d,handleCancel:function(){u.push("".concat(s,"/groups/").concat(t.id,"/nested_hosts"))},isInventoryVisible:!1,submitError:l}))},ad=Object(N.b)(Ul.a).withConfig({displayName:"InventoryGroupHostListItem__DataListAction",componentId:"jzyn4f-0"})(["align-items:center;display:grid;grid-gap:24px;grid-template-columns:min-content 40px;"]),nd=Object(N.b)(Bo).withConfig({displayName:"InventoryGroupHostListItem___StyledHostToggle",componentId:"jzyn4f-1"})(["grid-column:1"]),rd=Object(N.b)($.a).withConfig({displayName:"InventoryGroupHostListItem___StyledButton",componentId:"jzyn4f-2"})(["grid-column:2"]);var id=Object(c.withI18n)()((function(e){var t,a=e.i18n,n=e.detailUrl,i=e.editUrl,l=e.host,o=e.isSelected,c=e.onSelect,s=l.summary_fields.recent_jobs.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})})),u="check-action-".concat(l.id);return r.a.createElement(gn.a,{key:l.id,"aria-labelledby":u,id:"".concat(l.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-host-".concat(l.id),checked:o,onChange:c,"aria-labelledby":u}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(n)},r.a.createElement("b",null,l.name))),r.a.createElement(Sn,{key:"recentJobs"},r.a.createElement(Mo,{jobs:s}))]}),r.a.createElement(ad,{"aria-label":"actions","aria-labelledby":u,id:u},r.a.createElement(nd,{host:l}),(null===(t=l.summary_fields.user_capabilities)||void 0===t?void 0:t.edit)&&r.a.createElement(Ln.a,{content:a._({id:"Edit Host"}),position:"top"},r.a.createElement(rd,{"aria-label":a._({id:"Edit Host"}),variant:"plain",component:D.b,to:"".concat(i)},r.a.createElement(Fl.a,null))))))}));var ld=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.onAddNew,i=e.onAddExisting,l=Object(n.useState)(!1),o=Object(O.a)(l,2),c=o[0],s=o[1],u=[r.a.createElement(va.a,{key:"add-new","aria-label":"add new host",component:"button",onClick:a},t._({id:"Add New Host"})),r.a.createElement(va.a,{key:"add-existing","aria-label":"add existing host",component:"button",onClick:i},t._({id:"Add Existing Host"}))];return r.a.createElement(_a.a,{isOpen:c,position:ha.d.right,toggle:r.a.createElement(ya.a,{id:"add-host-dropdown","aria-label":"add host",isPrimary:!0,onToggle:function(){return s((function(e){return!e}))}},t._({id:"Add"})),dropdownItems:u})})),od=ce("host",{page:1,page_size:20,order_by:"name"});var cd=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)(!1),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.i)(),u=s.id,d=s.groupId,m=Object(o.h)(),p=Object(o.g)(),b=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(od,m.search),e.next=3,Promise.all([lt.readAllHosts(d,t),st.readHostsOptions(u)]);case 3:return a=e.sent,n=Object(O.a)(a,2),r=n[0],i=n[1],e.abrupt("return",{hosts:r.data.results,hostCount:r.data.count,actions:i.data.actions});case 8:case"end":return e.stop()}}),e)}))),[d,u,m.search]),{hosts:[],hostCount:0}),f=b.result,h=f.hosts,v=f.hostCount,_=f.actions,y=b.error,E=b.isLoading,g=b.request,j=vu(h),k=j.selected,w=j.isAllSelected,C=j.handleSelect,S=j.setSelected;Object(n.useEffect)((function(){g()}),[g]);var x=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(k.map((function(e){return lt.disassociateHost(d,e)}))));case 1:case"end":return e.stop()}}),e)}))),[d,k]),{qsConfig:od,allItemsSelected:w,fetchItems:g}),T=x.isLoading,I=x.deleteItems,D=x.deletionError,N=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:S([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=Object(n.useCallback)((function(e){return st.readHosts(u,he(e,{not__groups:d}))}),[d,u]),R=Al(Object(n.useCallback)(function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return lt.associateHost(d,e.id)})));case 2:g();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,g])),A=R.request,P=R.error,z=Pl(P||D),M=z.error,q=z.dismissError,V=_&&Object.prototype.hasOwnProperty.call(_,"POST"),B="/inventories/inventory/".concat(u,"/groups/").concat(d,"/nested_hosts/add");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:y,hasContentLoading:E||T,items:h,itemCount:v,pluralizedItemName:t._({id:"Hosts"}),qsConfig:od,onRowClick:C,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:w,onSelectAll:function(e){return S(e?Object(le.a)(h):[])},qsConfig:od,additionalControls:[].concat(Object(le.a)(V?[r.a.createElement(ld,{key:"associate",onAddExisting:function(){return c(!0)},onAddNew:function(){return p.push(B)}})]:[]),[r.a.createElement(Ou,{key:"disassociate",onDisassociate:N,itemsToDisassociate:k,modalTitle:t._({id:"Disassociate host from group?"}),modalNote:t._({id:"Note that only hosts directly in this group can be disassociated. Hosts in sub-groups must be disassociated directly from the sub-group level that they belong."})})])}))},renderItem:function(e){return r.a.createElement(id,{key:e.id,host:e,detailUrl:"/inventories/inventory/".concat(u,"/hosts/").concat(e.id,"/details"),editUrl:"/inventories/inventory/".concat(u,"/hosts/").concat(e.id,"/edit"),isSelected:k.some((function(t){return t.id===e.id})),onSelect:function(){return C(e)}})},emptyStateControls:V&&r.a.createElement(ld,{onAddExisting:function(){return c(!0)},onAddNew:function(){return p.push(B)}})}),l&&r.a.createElement(yu,{header:t._({id:"Hosts"}),fetchRequest:L,isModalOpen:l,onAssociate:A,onClose:function(){return c(!1)},title:t._({id:"Select Hosts"})}),M&&r.a.createElement(Gn,{isOpen:M,onClose:q,title:t._({id:"Error!"}),variant:"error"},P?t._({id:"Failed to associate."}):t._({id:"Failed to disassociate one or more hosts."}),r.a.createElement(cn,{error:M})))}));var sd=function(e){var t=e.inventoryGroup;return r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/inventories/inventory/:id/groups/:groupId/nested_hosts/add"},r.a.createElement(td,{inventoryGroup:t})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/groups/:groupId/nested_hosts"},r.a.createElement(cd,null)))};var ud=Object(c.withI18n)()((function(e){var t,a,i=e.i18n,l=e.setBreadcrumb,c=e.inventory,s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!0),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(null),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(o.i)(),j=g.id,k=g.groupId,w=Object(o.h)();Object(n.useEffect)((function(){(function(){var e=Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.readDetail(k);case 3:t=e.sent,a=t.data,m(a),l(c,a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[w.pathname,k,c,l]);var C=[{name:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ju.a,null),i._({id:"Back to Groups"})),link:"/inventories/inventory/".concat(c.id,"/groups"),id:99},{name:i._({id:"Details"}),link:"/inventories/inventory/".concat(c.id,"/groups/").concat(null===d||void 0===d?void 0:d.id,"/details"),id:0},{name:i._({id:"Related Groups"}),link:"/inventories/inventory/".concat(c.id,"/groups/").concat(null===d||void 0===d?void 0:d.id,"/nested_groups"),id:1},{name:i._({id:"Hosts"}),link:"/inventories/inventory/".concat(c.id,"/groups/").concat(null===d||void 0===d?void 0:d.id,"/nested_hosts"),id:2}];return f?r.a.createElement(bn,null):y?r.a.createElement(dn,{error:y}):(null===d||void 0===d||null===(t=d.summary_fields)||void 0===t||null===(a=t.inventory)||void 0===a?void 0:a.id)!==parseInt(j,10)?r.a.createElement(dn,{isNotFound:!0},r.a.createElement(D.b,{to:"/inventories/inventory/".concat(c.id,"/groups")},i._({id:"View Inventory Groups"}))):r.a.createElement(r.a.Fragment,null,["add","edit"].some((function(e){return w.pathname.includes(e)}))?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:C}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/inventories/inventory/".concat(c.id,"/groups")}))),r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/inventories/inventory/:id/groups/:groupId",to:"/inventories/inventory/:id/groups/:groupId/details",exact:!0}),d&&[r.a.createElement(o.b,{key:"edit",path:"/inventories/inventory/:id/groups/:groupId/edit"},r.a.createElement(Ku,{inventoryGroup:d})),r.a.createElement(o.b,{key:"details",path:"/inventories/inventory/:id/groups/:groupId/details"},r.a.createElement(ed,{inventoryGroup:d})),r.a.createElement(o.b,{key:"hosts",path:"/inventories/inventory/:id/groups/:groupId/nested_hosts"},r.a.createElement(sd,{inventoryGroup:d}))],r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,null,c&&r.a.createElement(D.b,{to:"/inventories/inventory/".concat(c.id,"/details")},i._({id:"View Inventory Details"}))))))}));var dd=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.group,n=e.inventoryId,i=e.isSelected,l=e.onSelect,o="check-action-".concat(a.id),c="/inventories/inventory/".concat(n,"/groups/").concat(a.id,"/details"),s="/inventories/inventory/".concat(n,"/groups/").concat(a.id,"/edit");return r.a.createElement(gn.a,{key:a.id,"aria-labelledby":o,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{"aria-labelledby":o,id:"select-group-".concat(a.id),checked:i,onChange:l}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(c),id:o},r.a.createElement("b",null,a.name)))]}),r.a.createElement(Ul.a,{"aria-label":"actions","aria-labelledby":o,id:o},a.summary_fields.user_capabilities.edit&&r.a.createElement(Ln.a,{content:t._({id:"Edit Group"}),position:"top"},r.a.createElement($.a,{"aria-label":t._({id:"Edit Group"}),variant:"plain",component:D.b,to:s},r.a.createElement(Fl.a,null))))))})),md=ce("group",{page:1,page_size:20,order_by:"name"});function pd(e){return!e.summary_fields.user_capabilities.delete}var bd=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(null),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(0),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)([]),j=Object(O.a)(g,2),k=j[0],w=j[1],C=Object(n.useState)(!0),S=Object(O.a)(C,2),x=S[0],T=S[1],I=Object(n.useState)([]),D=Object(O.a)(I,2),N=D[0],L=D[1],R=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],r=t[1];return{isModalOpen:a,toggleModal:function(){r(!a)}}}(),A=R.isModalOpen,P=R.toggleModal,z=Object(o.i)().id,M=Object(o.h)().search,q=function(e,t){var a=se(md,t);return st.readGroups(e,a)};Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([q(z,M),st.readGroupsOptions(z)]);case 3:t=e.sent,a=Object(O.a)(t,2),n=a[0].data,r=n.count,i=n.results,l=a[1].data.actions,w(i),E(r),c(l),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),m(e.t0);case 17:return e.prev=17,T(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,M]);var V=function(e){L(e?Object(le.a)(k):[])},B=function(e){N.some((function(t){return t.id===e.id}))?L(N.filter((function(t){return t.id!==e.id}))):L(N.concat(e))},W=function(){var e=N.filter(pd).map((function(e){return e.name})).join(", ");return N.some(pd)?r.a.createElement("div",null,t._({id:"You do not have permission to delete the following Groups: {itemsUnableToDelete}",values:{itemsUnableToDelete:e}})):N.length?t._({id:"Delete"}):t._({id:"Select a row to delete"})},G=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!0),e.prev=1,a=0;case 3:if(!(a<N.length)){e.next=16;break}if(n=N[a],"delete"!==t){e.next=10;break}return e.next=8,lt.destroy(+n.id);case 8:e.next=13;break;case 10:if("promote"!==t){e.next=13;break}return e.next=13,st.promoteGroup(z,+n.id);case 13:a++,e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),h(e.t0);case 21:return P(),e.prev=22,e.next=25,q(z,M);case 25:r=e.sent,i=r.data,l=i.count,o=i.results,w(o),E(l),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(22),m(e.t1);case 36:T(!1);case 37:case"end":return e.stop()}}),e,null,[[1,18],[22,33]])})));return function(t){return e.apply(this,arguments)}}(),H=l&&Object.prototype.hasOwnProperty.call(l,"POST"),J=N.length>0&&N.length===k.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:d,hasContentLoading:x,items:k,itemCount:y,qsConfig:md,onRowClick:B,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Group Type"}),key:"parents__isnull",isBoolean:!0,booleanLabels:{true:t._({id:"Show Only Root Groups"}),false:t._({id:"Show All Groups"})}},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderItem:function(e){return r.a.createElement(dd,{key:e.id,group:e,inventoryId:z,isSelected:N.some((function(t){return t.id===e.id})),onSelect:function(){return B(e)}})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:J,onSelectAll:V,qsConfig:md,additionalControls:[].concat(Object(le.a)(H?[r.a.createElement(Xn,{key:"add",linkTo:"/inventories/inventory/".concat(z,"/groups/add")})]:[]),[r.a.createElement(Ln.a,{content:W(),position:"top",key:"delete"},r.a.createElement("div",null,r.a.createElement($.a,{variant:"danger","aria-label":t._({id:"Delete"}),onClick:P,isDisabled:0===N.length||N.some(pd)},t._({id:"Delete"}))))])}))},emptyStateControls:H&&r.a.createElement(Xn,{key:"add",linkTo:"/inventories/inventory/".concat(z,"/groups/add")})}),f&&r.a.createElement(Gn,{isOpen:f,variant:"error",title:t._({id:"Error!"}),onClose:function(){return h(null)}},t._({id:"Failed to delete one or more groups."}),r.a.createElement(cn,{error:f})),r.a.createElement($u,{groups:N,isModalOpen:A,onClose:P,onDelete:G}))}));var fd=Object(c.withI18n)()((function(e){var t=e.setBreadcrumb,a=e.inventory;return r.a.createElement(o.d,null,r.a.createElement(o.b,{key:"add",path:"/inventories/inventory/:id/groups/add"},r.a.createElement(Hu,{setBreadcrumb:t,inventory:a})),r.a.createElement(o.b,{key:"details",path:"/inventories/inventory/:id/groups/:groupId/"},r.a.createElement(ud,{inventory:a,setBreadcrumb:t})),r.a.createElement(o.b,{key:"list",path:"/inventories/inventory/:id/groups"},r.a.createElement(bd,null)))})),hd=Object(N.b)(Bo).withConfig({displayName:"InventoryHostDetail___StyledHostToggle",componentId:"sc-10smphg-0"})(["padding-bottom:40px"]);var vd=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=a.created,l=a.description,c=a.id,s=a.modified,u=a.name,d=a.variables,m=a.summary_fields,p=m.inventory,b=m.recent_jobs,f=m.created_by,h=m.modified_by,v=m.user_capabilities,_=Object(n.useState)(!1),y=Object(O.a)(_,2),E=y[0],g=y[1],j=Object(n.useState)(!1),k=Object(O.a)(j,2),w=k[0],C=k[1],S=Object(o.g)(),x=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,ot.destroy(c);case 4:S.push("/inventories/inventory/".concat(p.id,"/hosts")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),C(e.t0);case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(){return e.apply(this,arguments)}}();if(!E&&w)return r.a.createElement(Gn,{isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:function(){return C(!1)}},t._({id:"Failed to delete {name}.",values:{name:u}}),r.a.createElement(cn,{error:w}));var T=b.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})}));return r.a.createElement(K,null,r.a.createElement(hd,{host:a}),r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:t._({id:"Name"}),value:u}),r.a.createElement(Lr,{label:t._({id:"Activity"}),value:r.a.createElement(Mo,{jobs:T})}),r.a.createElement(Lr,{label:t._({id:"Description"}),value:l}),r.a.createElement(Yr,{date:i,label:t._({id:"Created"}),user:f}),r.a.createElement(Yr,{date:s,label:t._({id:"Last Modified"}),user:h}),r.a.createElement(yc,{label:t._({id:"Variables"}),rows:4,value:d})),r.a.createElement(Z,null,(null===v||void 0===v?void 0:v.edit)&&r.a.createElement($.a,{"aria-label":t._({id:"edit"}),component:D.b,to:"/inventories/inventory/".concat(p.id,"/hosts/").concat(c,"/edit")},t._({id:"Edit"})),(null===v||void 0===v?void 0:v.delete)&&r.a.createElement(si,{name:u,modalTitle:t._({id:"Delete Host"}),onConfirm:function(){return x()}})),w&&r.a.createElement(Gn,{isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:function(){return C(null)}},t._({id:"Failed to delete host."}),r.a.createElement(cn,{error:w})))}));var _d=function(e){var t=e.host,a=e.inventory,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u="/inventories/inventory/".concat(a.id,"/hosts/").concat(t.id,"/details"),d=Object(o.g)(),m=function(){var e=Object(F.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.update(t.id,a);case 3:d.push(u),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(ns,{host:t,handleSubmit:m,handleCancel:function(){d.push(u)},isInventoryVisible:!1,submitError:c}))};var yd=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.host,i=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ot.readFacts(a.id)]);case 2:return t=e.sent,n=Object(O.a)(t,1),r=n[0].data,e.abrupt("return",JSON.stringify(r,null,4));case 6:case"end":return e.stop()}}),e)}))),[a]),"{}"),l=i.result,o=i.isLoading,c=i.error,s=i.request;return Object(n.useEffect)((function(){s()}),[s]),o?r.a.createElement(bn,null):c?r.a.createElement(dn,{error:c}):r.a.createElement(K,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(yc,{label:t._({id:"Facts"}),fullHeight:!0,value:l})))}));var Ed=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.group,n=e.inventoryId,i=e.isSelected,l=e.onSelect,o="check-action-".concat(a.id),c="/inventories/inventory/".concat(n,"/groups/").concat(a.id,"/details"),s="/inventories/inventory/".concat(n,"/groups/").concat(a.id,"/edit");return r.a.createElement(gn.a,{key:a.id,"aria-labelledby":o,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{"aria-labelledby":o,id:"select-group-".concat(a.id),checked:i,onChange:l}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(c),id:o},r.a.createElement("b",null,a.name)))]}),r.a.createElement(Ul.a,{"aria-label":"actions","aria-labelledby":o,id:o},a.summary_fields.user_capabilities.edit&&r.a.createElement(Ln.a,{content:t._({id:"Edit Group"}),position:"top"},r.a.createElement($.a,{variant:"plain",component:D.b,to:s},r.a.createElement(Fl.a,null))))))})),gd=ce("group",{page:1,page_size:20,order_by:"name"});var jd=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)(!1),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.i)(),u=s.hostId,d=s.id,m=Object(o.h)().search,p=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(gd,m),e.next=3,Promise.all([ot.readAllGroups(u,t),ot.readGroupsOptions(u)]);case 3:return a=e.sent,n=Object(O.a)(a,2),r=n[0].data,i=r.count,l=r.results,o=n[1],e.abrupt("return",{groups:l,itemCount:i,actions:o.data.actions});case 10:case"end":return e.stop()}}),e)}))),[u,m]),{groups:[],itemCount:0}),b=p.result,f=b.groups,h=b.itemCount,v=b.actions,_=p.error,y=p.isLoading,E=p.request;Object(n.useEffect)((function(){E()}),[E]);var g=vu(f),j=g.selected,k=g.isAllSelected,w=g.handleSelect,C=g.setSelected,S=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(j.map((function(e){return ot.disassociateGroup(u,e)}))));case 1:case"end":return e.stop()}}),e)}))),[u,j]),{qsConfig:gd,allItemsSelected:k,fetchItems:E}),x=S.isLoading,T=S.deleteItems,I=S.deletionError,D=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:C([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(n.useCallback)((function(e){return st.readGroups(d,he(e,{not__hosts:u}))}),[d,u]),L=Al(Object(n.useCallback)(function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return ot.associateGroup(u,e.id)})));case 2:E();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,E])),R=L.request,A=L.error,P=Pl(A||I),z=P.error,M=P.dismissError,q=v&&Object.prototype.hasOwnProperty.call(v,"POST");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:_,hasContentLoading:y||x,items:f,itemCount:h,qsConfig:gd,onRowClick:w,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderItem:function(e){return r.a.createElement(Ed,{key:e.id,group:e,inventoryId:e.summary_fields.inventory.id,isSelected:j.some((function(t){return t.id===e.id})),onSelect:function(){return w(e)}})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:k,onSelectAll:function(e){return C(e?Object(le.a)(f):[])},qsConfig:gd,additionalControls:[].concat(Object(le.a)(q?[r.a.createElement(Xn,{key:"add",onClick:function(){return c(!0)}})]:[]),[r.a.createElement(Ou,{key:"disassociate",onDisassociate:D,itemsToDisassociate:j,modalTitle:t._({id:"Disassociate group from host?"}),modalNote:t._({id:"Note that you may still see the group in the list after disassociating if the host is also a member of that group\u2019s  children.  This list shows all groups the host is associated  with directly and indirectly."})})])}))},emptyStateControls:q?r.a.createElement(Xn,{key:"add",onClick:function(){return c(!0)}}):null}),l&&r.a.createElement(yu,{header:t._({id:"Groups"}),fetchRequest:N,isModalOpen:l,onAssociate:R,onClose:function(){return c(!1)},title:t._({id:"Select Groups"})}),z&&r.a.createElement(Gn,{isOpen:z,onClose:M,title:t._({id:"Error!"}),variant:"error"},A?t._({id:"Failed to associate."}):t._({id:"Failed to disassociate one or more groups."}),r.a.createElement(cn,{error:z})))}));var Od=Object(c.withI18n)()((function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{key:"list",path:"/inventories/inventory/:id/hosts/:hostId/groups"},r.a.createElement(jd,null)))}));var kd=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=e.inventory,l=Object(o.h)(),c=Object(o.j)("/inventories/inventory/:id/hosts/:hostId"),s="/inventories/inventory/".concat(i.id,"/hosts"),u=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.readHostDetail(i.id,c.params.hostId);case 2:return t=e.sent,e.abrupt("return",{host:t});case 4:case"end":return e.stop()}}),e)}))),[i.id,c.params.hostId]),{host:null}),d=u.result.host,m=u.error,p=u.isLoading,b=u.request;Object(n.useEffect)((function(){b()}),[b,l.pathname]),Object(n.useEffect)((function(){i&&d&&a(i,d)}),[i,d,a]);var f=[{name:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ju.a,null),t._({id:"Back to Hosts"})),link:"".concat(s),id:0},{name:t._({id:"Details"}),link:"".concat(c.url,"/details"),id:1},{name:t._({id:"Facts"}),link:"".concat(c.url,"/facts"),id:2},{name:t._({id:"Groups"}),link:"".concat(c.url,"/groups"),id:3},{name:t._({id:"Completed Jobs"}),link:"".concat(c.url,"/completed_jobs"),id:4}];return m?r.a.createElement(q.a,null,r.a.createElement(dn,{error:m},m.response&&404===m.response.status&&r.a.createElement("span",null,t._("Host not found.")," ",r.a.createElement(D.b,{to:s},t._("View all Inventory Hosts."))))):r.a.createElement(r.a.Fragment,null,["edit"].some((function(e){return l.pathname.includes(e)}))?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:f}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:s}))),p&&r.a.createElement(bn,null),!p&&d&&r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/inventories/inventory/:id/hosts/:hostId",to:"/inventories/inventory/:id/hosts/:hostId/details",exact:!0}),r.a.createElement(o.b,{key:"details",path:"/inventories/inventory/:id/hosts/:hostId/details"},r.a.createElement(vd,{host:d})),r.a.createElement(o.b,{key:"edit",path:"/inventories/inventory/:id/hosts/:hostId/edit"},r.a.createElement(_d,{host:d,inventory:i})),r.a.createElement(o.b,{key:"facts",path:"/inventories/inventory/:id/hosts/:hostId/facts"},r.a.createElement(yd,{host:d})),r.a.createElement(o.b,{key:"groups",path:"/inventories/inventory/:id/hosts/:hostId/groups"},r.a.createElement(Od,null)),r.a.createElement(o.b,{key:"completed-jobs",path:"/inventories/inventory/:id/hosts/:hostId/completed_jobs"},r.a.createElement(mu,{defaultParams:{job__hosts:d.id}})),r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,{isNotFound:!0},r.a.createElement(D.b,{to:"".concat(c.url,"/details")},t._("View Inventory Host Details"))))))}));var wd=function(e){var t=e.inventory,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s="/inventories/inventory/".concat(t.id,"/hosts"),u=Object(o.g)(),d=function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(oe.a)(Object(oe.a)({},a),{},{inventory:t.id}),e.next=4,ot.create(n);case 4:r=e.sent,i=r.data,u.push("".concat(s,"/").concat(i.id,"/details")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(ns,{handleSubmit:d,handleCancel:function(){u.push(s)},isInventoryVisible:!1,submitError:l}))};function Cd(){var e=Object(S.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 24px;\n  grid-template-columns: min-content 40px;\n"]);return Cd=function(){return e},e}var Sd=Object(N.b)(Ul.a)(Cd());var xd=Object(c.withI18n)()((function(e){var t,a=e.detailUrl,n=e.editUrl,i=e.host,l=e.i18n,o=e.isSelected,c=e.onSelect,s=i.summary_fields.recent_jobs.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})})),u="check-action-".concat(i.id);return r.a.createElement(gn.a,{key:i.id,"aria-labelledby":u,id:"".concat(i.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-host-".concat(i.id),checked:o,onChange:c,"aria-labelledby":u}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"divider"},r.a.createElement(D.b,{to:"".concat(a)},r.a.createElement("b",null,i.name))),r.a.createElement(Sn,{key:"recentJobs"},r.a.createElement(Mo,{jobs:s}))]}),r.a.createElement(Sd,{"aria-label":"actions","aria-labelledby":u,id:u},r.a.createElement(Bo,{host:i}),(null===(t=i.summary_fields.user_capabilities)||void 0===t?void 0:t.edit)&&r.a.createElement(Ln.a,{content:l._({id:"Edit Host"}),position:"top"},r.a.createElement($.a,{variant:"plain",component:D.b,to:"".concat(n)},r.a.createElement(Fl.a,null))))))})),Td=ce("host",{page:1,page_size:20,order_by:"name"});var Id=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(null),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(0),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)([]),j=Object(O.a)(g,2),k=j[0],w=j[1],C=Object(n.useState)(!0),S=Object(O.a)(C,2),x=S[0],T=S[1],I=Object(n.useState)([]),D=Object(O.a)(I,2),N=D[0],L=D[1],R=Object(o.i)().id,A=Object(o.h)().search,P=function(e,t){var a=se(Td,t);return st.readHosts(e,a)};Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([P(R,A),st.readOptions()]);case 3:t=e.sent,a=Object(O.a)(t,2),n=a[0].data,r=n.count,i=n.results,l=a[1].data.actions,w(i),E(r),c(l),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),m(e.t0);case 17:return e.prev=17,T(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[R,A]);var z=function(e){L(e?Object(le.a)(k):[])},M=function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,Promise.all(N.map((function(e){return ot.destroy(e.id)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),h(e.t0);case 9:return e.prev=9,L([]),e.prev=11,e.next=14,P(R,A);case 14:t=e.sent,a=t.data,n=a.count,r=a.results,w(r),E(n),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(11),m(e.t1);case 25:return e.prev=25,T(!1),e.finish(25);case 28:return e.finish(9);case 29:case"end":return e.stop()}}),e,null,[[1,6,9,29],[11,22,25,28]])})));return function(){return e.apply(this,arguments)}}(),q=l&&Object.prototype.hasOwnProperty.call(l,"POST"),V=N.length>0&&N.length===k.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:d,hasContentLoading:x,items:k,itemCount:y,pluralizedItemName:t._({id:"Hosts"}),qsConfig:Td,toolbarColumns:[{name:t._({id:"Name"}),key:"name",isSortable:!0,isSearchable:!0},{name:t._({id:"Modified"}),key:"modified",isSortable:!0,isNumeric:!0},{name:t._({id:"Created"}),key:"created",isSortable:!0,isNumeric:!0}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:V,onSelectAll:z,qsConfig:Td,additionalControls:[].concat(Object(le.a)(q?[r.a.createElement(Xn,{key:"add",linkTo:"/inventories/inventory/".concat(R,"/hosts/add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:M,itemsToDelete:N,pluralizedItemName:t._({id:"Hosts"})})])}))},renderItem:function(e){return r.a.createElement(xd,{key:e.id,host:e,detailUrl:"/inventories/inventory/".concat(R,"/hosts/").concat(e.id,"/details"),editUrl:"/inventories/inventory/".concat(R,"/hosts/").concat(e.id,"/edit"),isSelected:N.some((function(t){return t.id===e.id})),onSelect:function(){return t=e,void(N.some((function(e){return e.id===t.id}))?L(N.filter((function(e){return e.id!==t.id}))):L(N.concat(t)));var t}})},emptyStateControls:q&&r.a.createElement(Xn,{key:"add",linkTo:"/inventories/inventory/".concat(R,"/add")})}),f&&r.a.createElement(Gn,{isOpen:f,variant:"error",title:t._({id:"Error!"}),onClose:function(){return h(null)}},t._({id:"Failed to delete one or more hosts."}),r.a.createElement(cn,{error:f})))}));var Dd=function(e){var t=e.setBreadcrumb,a=e.inventory;return r.a.createElement(o.d,null,r.a.createElement(o.b,{key:"host-add",path:"/inventories/inventory/:id/hosts/add"},r.a.createElement(wd,{inventory:a})),r.a.createElement(o.b,{key:"host",path:"/inventories/inventory/:id/hosts/:hostId"},r.a.createElement(kd,{setBreadcrumb:t,inventory:a})),r.a.createElement(o.b,{key:"host-list",path:"/inventories/inventory/:id/hosts"},r.a.createElement(Id,null)))};var Nd=Object(c.withI18n)()((function(e){var t=e.inventorySource,a=e.i18n,i=t.created,l=t.custom_virtualenv,c=t.description,s=t.group_by,u=t.id,d=t.instance_filters,m=t.modified,p=t.name,b=t.overwrite,f=t.overwrite_vars,h=t.source,v=t.source_path,_=t.source_regions,y=t.source_vars,E=t.update_cache_timeout,g=t.update_on_launch,j=t.update_on_project_update,k=t.verbosity,w=t.summary_fields,C=w.created_by,S=w.credentials,x=w.inventory,T=w.modified_by,I=w.organization,N=w.source_project,L=w.source_script,R=w.user_capabilities,A=Object(n.useState)(!1),P=Object(O.a)(A,2),z=P[0],M=P[1],q=Object(o.g)(),V=Object(n.useRef)(null);Object(n.useEffect)((function(){return V.current=!0,function(){V.current=!1}}),[]);var B=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([ut.destroyHosts(u),ut.destroyGroups(u),ut.destroy(u)]);case 3:q.push("/inventories/inventory/".concat(x.id,"/sources")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),V.current&&M(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),W={0:a._({id:"0 (Warning)"}),1:a._({id:"1 (Info)"}),2:a._({id:"2 (Debug)"})},G="";return(b||f||g||j)&&(G=r.a.createElement(oi.a,null,b&&r.a.createElement(ci.a,null,a._({id:"Overwrite"})),f&&r.a.createElement(ci.a,null,a._({id:"Overwrite variables"})),g&&r.a.createElement(ci.a,null,a._({id:"Update on launch"})),j&&r.a.createElement(ci.a,null,a._({id:"Update on project update"})))),r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:a._({id:"Name"}),value:p}),r.a.createElement(Lr,{label:a._({id:"Description"}),value:c}),r.a.createElement(Lr,{label:a._({id:"Source"}),value:h}),I&&r.a.createElement(Lr,{label:a._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(I.id,"/details")},I.name)}),r.a.createElement(Lr,{label:a._({id:"Ansible environment"}),value:l}),N&&r.a.createElement(Lr,{label:a._({id:"Project"}),value:r.a.createElement(D.b,{to:"/projects/".concat(N.id,"/details")},N.name)}),r.a.createElement(Lr,{label:a._({id:"Inventory file"}),value:v}),r.a.createElement(Lr,{label:a._({id:"Custom inventory script"}),value:null===L||void 0===L?void 0:L.name}),r.a.createElement(Lr,{label:a._({id:"Verbosity"}),value:W[k]}),r.a.createElement(Lr,{label:a._({id:"Cache timeout"}),value:"".concat(E," ").concat(a._({id:"seconds"}))}),(null===S||void 0===S?void 0:S.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Credential"}),value:S.map((function(e){return r.a.createElement(Vc,{key:null===e||void 0===e?void 0:e.id,credential:e,isReadOnly:!0})}))}),_&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Regions"}),value:r.a.createElement(rr,{numChips:5,totalChips:_.split(",").length},_.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),d&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Instance filters"}),value:r.a.createElement(rr,{numChips:5,totalChips:d.split(",").length},d.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),s&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Only group by"}),value:r.a.createElement(rr,{numChips:5,totalChips:s.split(",").length},s.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),G&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Options"}),value:G}),y&&r.a.createElement(yc,{label:a._({id:"Source variables"}),rows:4,value:y}),r.a.createElement(Yr,{date:i,label:a._({id:"Created"}),user:C}),r.a.createElement(Yr,{date:m,label:a._({id:"Last modified"}),user:T})),r.a.createElement(Z,null,(null===R||void 0===R?void 0:R.edit)&&r.a.createElement($.a,{component:D.b,"aria-label":a._({id:"edit"}),to:"/inventories/inventory/".concat(x.id,"/source/").concat(u,"/edit")},a._({id:"Edit"})),(null===R||void 0===R?void 0:R.delete)&&r.a.createElement(si,{name:p,modalTitle:a._({id:"Delete inventory source"}),onConfirm:B},a._({id:"Delete"}))),z&&r.a.createElement(Gn,{variant:"error",title:a._({id:"Error!"}),isOpen:z,onClose:function(){return M(!1)}},a._({id:"Failed to delete inventory source {name}.",values:{name:p}}),r.a.createElement(cn,{error:z})))}));var Ld=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.inventory,i=e.setBreadcrumb,l=Object(o.h)(),c=Object(o.j)("/inventories/inventory/:id/sources/:sourceId"),s="/inventories/inventory/".concat(a.id,"/sources"),u=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st.readSourceDetail(a.id,c.params.sourceId));case 1:case"end":return e.stop()}}),e)}))),[a.id,c.params.sourceId]),null),d=u.result,m=u.error,p=u.isLoading,b=u.request;Object(n.useEffect)((function(){b()}),[b,c.params.sourceId]),Object(n.useEffect)((function(){a&&d&&i(a,d)}),[a,d,i]);var f=[{name:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ju.a,null),t._({id:"Back to Sources"})),link:"".concat(s),id:0},{name:t._({id:"Details"}),link:"".concat(c.url,"/details"),id:1},{name:t._({id:"Notifications"}),link:"".concat(c.url,"/notifications"),id:2},{name:t._({id:"Schedules"}),link:"".concat(c.url,"/schedules"),id:3}];return m?r.a.createElement(dn,{error:m}):r.a.createElement(r.a.Fragment,null,["edit"].some((function(e){return l.pathname.includes(e)}))?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:f}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:s}))),p&&r.a.createElement(bn,null),!p&&d&&r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/inventories/inventory/:id/sources/:sourceId",to:"/inventories/inventory/:id/sources/:sourceId/details",exact:!0}),r.a.createElement(o.b,{key:"details",path:"/inventories/inventory/:id/sources/:sourceId/details"},r.a.createElement(Nd,{inventorySource:d})),r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,{isNotFound:!0},r.a.createElement(D.b,{to:"".concat(c.url,"/details")},t._("View inventory source details"))))))})),Rd=Object(c.withI18n)()((function(e){var t=e.i18n;return r.a.createElement(Ui,null,r.a.createElement(Ic,{id:"source_vars",name:"source_vars",label:t._({id:"Environment variables"})}))})),Ad=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(di.c)("verbosity"),n=Object(O.a)(a,3),i=n[0],l=n[1],o=n[2],c=!(l.touched&&l.error),s=[{value:"0",key:"0",label:t._({id:"0 (Warning)"})},{value:"1",key:"1",label:t._({id:"1 (Info)"})},{value:"2",key:"2",label:t._({id:"2 (Debug)"})}];return r.a.createElement(mi.a,{fieldId:"verbosity",isValid:c,label:t._({id:"Verbosity"})},r.a.createElement(yi,{content:t._({id:"Control the level of output Ansible will produce for inventory source update jobs."})}),r.a.createElement(Hi,Object.assign({id:"verbosity",data:s},i,{onChange:function(e,t){return o.setValue(t)}})))})),Pd=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(di.c)("update_on_launch"),i=Object(O.a)(a,1)[0],l=Object(di.c)("update_cache_timeout"),o=Object(O.a)(l,3)[2];return Object(n.useEffect)((function(){i.value||o.setValue(0)}),[i.value]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ui,null,r.a.createElement(mi.a,{fieldId:"option-checkboxes",label:t._({id:"Update options"})},r.a.createElement(Fi,null,r.a.createElement(wi,{id:"overwrite",name:"overwrite",label:t._({id:"Overwrite"}),tooltip:r.a.createElement(r.a.Fragment,null,t._({id:'If checked, any hosts and groups that were previously present on the external source but are now removed will be removed from the Tower inventory. Hosts and groups that were not managed by the inventory source will be promoted to the next manually created group or if there is no manually created group to promote them into, they will be left in the "all" default group for the inventory.'}),r.a.createElement("br",null),r.a.createElement("br",null),t._({id:"When not checked, local child hosts and groups not found on the external source will remain untouched by the inventory update process."}))}),r.a.createElement(wi,{id:"overwrite_vars",name:"overwrite_vars",label:t._({id:"Overwrite variables"}),tooltip:r.a.createElement(r.a.Fragment,null,t._({id:"If checked, all variables for child groups and hosts will be removed and replaced by those found on the external source."}),r.a.createElement("br",null),r.a.createElement("br",null),t._({id:"When not checked, a merge will be performed, combining local variables with those found on the external source."}))}),r.a.createElement(wi,{id:"update_on_launch",name:"update_on_launch",label:t._({id:"Update on launch"}),tooltip:t._({id:"Each time a job runs using this inventory, refresh the inventory from the selected source before executing job tasks."})}),r.a.createElement(wi,{id:"update_on_project_update",name:"update_on_project_update",label:t._({id:"Update on project update"}),tooltip:t._({id:"After every project update where the SCM revision changes, refresh the inventory from the selected source before executing job tasks. This is intended for static content, like the Ansible inventory .ini file format."})})))),i.value&&r.a.createElement(gi,{id:"cache-timeout",name:"update_cache_timeout",type:"number",min:"0",max:"2147483647",validate:Xi(0,2147483647,t),label:t._({id:"Cache timeout (seconds)"}),tooltip:t._({id:"Time in seconds to consider an inventory sync to be current. During job runs and callbacks the task system will evaluate the timestamp of the latest sync. If it is older than Cache Timeout, it is not considered current, and a new inventory sync will be performed."})}))})),zd=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(di.c)("credential"),i=Object(O.a)(a,3),l=i[0],o=i[2],c=Object(di.c)({name:"source_project",validate:Ji(t._({id:"Select a value for this field"}),t)}),s=Object(O.a)(c,3),u=s[0],d=s[1],m=s[2],p=Object(di.c)({name:"source_path",validate:Ji(t._({id:"Select a value for this field"}),t)}),b=Object(O.a)(p,3),f=b[0],h=b[1],v=b[2],_=Al(Object(n.useCallback)(function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.readInventories(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",[].concat(Object(le.a)(n),["/ (project root)"]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),[]),y=_.error,E=_.request,g=_.result,j=Object(n.useCallback)((function(e){v.setValue(""),m.setValue(e),E(e.id)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(es,{credentialTypeKind:"cloud",label:t._({id:"Credential"}),value:l.value,onChange:function(e){o.setValue(e)}}),r.a.createElement(Mc,{value:u.value,isValid:!d.touched||!d.error,helperTextInvalid:d.error,onBlur:function(){return m.setTouched()},onChange:j,required:!0}),r.a.createElement(mi.a,{fieldId:"source_path",helperTextInvalid:(null===y||void 0===y?void 0:y.message)||h.error,isValid:(!h.error||!h.touched)&&!(null===y||void 0===y?void 0:y.message),isRequired:!0,label:t._({id:"Inventory file"})},r.a.createElement(yi,{content:t._({id:"Select the inventory file to be synced by this source. You can select from the dropdown or enter a file within the input."})}),r.a.createElement(Hi,Object.assign({},f,{id:"source_path",isValid:(!h.error||!h.touched)&&!(null===y||void 0===y?void 0:y.message),data:[{value:"",key:"",label:t._({id:"Choose an inventory file"}),isDisabled:!0}].concat(Object(le.a)(g.map((function(e){return{value:e,label:e,key:e}})))),onChange:function(e,t){v.setValue(t)}}))),r.a.createElement(Ad,null),r.a.createElement(Pd,null),r.a.createElement(Rd,null))})),Ud=function(e){var t=e.sourceOptions,a=e.i18n,i=Object(di.d)(),l=i.values,o=i.initialValues,c=i.resetForm,s=Object(di.c)({name:"source",validate:Ji(a._({id:"Set a value for this field"}),a)}),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useContext)(k).custom_virtualenvs,b=Object(di.c)("custom_virtualenv"),f=Object(O.a)(b,1)[0],h={label:a._({id:"Use Default Ansible Environment"}),value:"/venv/ansible/",key:"default"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"name",label:a._({id:"Name"}),name:"name",type:"text",validate:Ji(null,a),isRequired:!0}),r.a.createElement(gi,{id:"description",label:a._({id:"Description"}),name:"description",type:"text"}),r.a.createElement(mi.a,{fieldId:"source",helperTextInvalid:m.error,isRequired:!0,isValid:!m.touched||!m.error,label:a._({id:"Source"})},r.a.createElement(Hi,Object.assign({},d,{id:"source",data:[{value:"",key:"",label:a._({id:"Choose a source"}),isDisabled:!0}].concat(Object(le.a)(t)),onChange:function(e,t){var a;a=t,c({values:Object(oe.a)(Object(oe.a)({},o),{},{name:l.name,description:l.description,custom_virtualenv:l.custom_virtualenv,source:a})})}}))),p&&p.length>1&&r.a.createElement(mi.a,{fieldId:"custom-virtualenv",label:a._({id:"Ansible Environment"})},r.a.createElement(yi,{content:a._({id:"Select the custom Python virtual environment for this inventory source sync to run on."})}),r.a.createElement(Hi,Object.assign({id:"custom-virtualenv",data:[h].concat(Object(le.a)(p.filter((function(e){return e!==h.value})).map((function(e){return{value:e,label:e,key:e}}))))},f))),""!==d.value&&r.a.createElement(Mi,null,r.a.createElement(E.a,{size:"md"},a._({id:"Source details"})),r.a.createElement(zi,null,{scm:r.a.createElement(zd,null)}[d.value])))},Fd=function(e){var t=e.i18n,a=e.onCancel,i=e.onSubmit,l=e.submitError,o=void 0===l?null:l,c=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.readOptions();case 2:return t=e.sent,a=t.data,delete(n=Object.assign.apply(Object,Object(le.a)(a.actions.GET.source.choices.map((function(e){var t=Object(O.a)(e,2),a=t[0],n=t[1];return Object(d.a)({},a,n)}))))).file,e.abrupt("return",Object.keys(n).map((function(e){return{value:e,key:e,label:n[e]}})));case 7:case"end":return e.stop()}}),e)}))),[]),[]),s=c.isLoading,u=c.error,m=c.request,p=c.result;return Object(n.useEffect)((function(){m()}),[m]),s?r.a.createElement(bn,null):u?r.a.createElement(dn,{error:u}):r.a.createElement(di.b,{initialValues:{credential:null,custom_virtualenv:"",description:"",name:"",overwrite:!1,overwrite_vars:!1,source:"",source_path:"",source_project:null,source_vars:"---\n",update_cache_timeout:0,update_on_launch:!1,update_on_project_update:!1,verbosity:1},onSubmit:function(e){i(e)}},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(Ud,{formik:e,i18n:t,sourceOptions:p}),o&&r.a.createElement(Di,{error:o}),r.a.createElement(Vi,{onCancel:a,onSubmit:e.handleSubmit})))}))};Fd.defaultProps={submitError:null};var Md=Object(c.withI18n)()(Fd);var qd=function(){var e=Object(o.g)(),t=Object(o.i)().id,a=Al(Object(n.useCallback)(function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.create(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[])),i=a.error,l=a.request,c=a.result;Object(n.useEffect)((function(){c&&e.push("/inventories/inventory/".concat(c.inventory,"/sources/").concat(c.id,"/details"))}),[c,e]);var s=function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r,i,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.credential,r=a.source_path,i=a.source_project,o=Object(Q.a)(a,["credential","source_path","source_project"]),c={},s={},"scm"===a.source&&(c.source_path="/ (project root)"===r?"":r,s.source_project=i.id),e.next=6,l(Object(oe.a)(Object(oe.a)(Object(oe.a)({credential:(null===n||void 0===n?void 0:n.id)||null,inventory:t},c),s),o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(Md,{onCancel:function(){e.push("/inventories/inventory/".concat(t,"/sources"))},onSubmit:s,submitError:i})))},Vd=a(982),Bd=a(983);function Wd(e){var t=e.source,a=e.i18n,i=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.createSyncStart(t.id);case 2:return a=e.sent,n=a.data.status,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),[t.id]),{}),l=i.isLoading,o=i.error,c=i.request,s=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.readDetail(t.id);case 2:return a=e.sent,n=a.data.summary_fields.current_update.id,e.next=6,dt.createSyncCancel(n);case 6:case"end":return e.stop()}}),e)}))),[t.id])),u=s.isLoading,d=s.error,m=s.request,p=Pl(d||o),b=p.error,f=p.dismissError;return r.a.createElement(r.a.Fragment,null,"pending"===t.status?r.a.createElement(Ln.a,{content:a._({id:"Cancel sync process"}),position:"top"},r.a.createElement($.a,{isDisabled:u||l,"aria-label":a._({id:"Cancel sync source"}),variant:"plain",onClick:m},r.a.createElement(Vd.a,null))):r.a.createElement(Ln.a,{content:a._({id:"Start sync process"}),position:"top"},r.a.createElement($.a,{isDisabled:u||l,"aria-label":a._({id:"Start sync source"}),variant:"plain",onClick:c},r.a.createElement(Bd.a,null))),b&&r.a.createElement(Gn,{isOpen:b,variant:"error",title:a._({id:"Error!"}),onClose:f},o?a._({id:"Failed to sync inventory source."}):a._({id:"Failed to cancel inventory source sync."}),r.a.createElement(cn,{error:b})))}Wd.defaultProps={source:{}};var Gd=Object(c.withI18n)()(Wd);var Hd=Object(c.withI18n)()((function(e){var t,a=e.source,n=e.isSelected,i=e.onSelect,l=e.i18n,o=e.detailUrl,c=e.label;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{"aria-labelledby":"check-action-".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-source-".concat(a.id),checked:n,onChange:i,"aria-labelledby":"check-action-".concat(a.id)}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(kn.a,{key:"status",isFilled:!1},a.summary_fields.last_job&&r.a.createElement(Ln.a,{position:"top",content:(t=a.summary_fields.last_job,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,l._({id:"MOST RECENT SYNC"})),r.a.createElement("div",null,l._({id:"JOB ID:"})," ",t.id),r.a.createElement("div",null,l._({id:"STATUS:"})," ",t.status.toUpperCase()),t.finished&&r.a.createElement("div",null,l._({id:"FINISHED:"})," ",t.finished))),key:a.summary_fields.last_job.id},r.a.createElement(D.b,{to:"/jobs/inventory/".concat(a.summary_fields.last_job.id)},r.a.createElement(Lo,{status:a.summary_fields.last_job.status})))),r.a.createElement(kn.a,{"aria-label":l._({id:"name"}),key:"name"},r.a.createElement("span",null,r.a.createElement(D.b,{to:"".concat(o,"/details")},r.a.createElement("b",null,a.name)))),r.a.createElement(kn.a,{"aria-label":l._({id:"type"}),key:"type"},c)]}),r.a.createElement(Ul.a,{id:"actions","aria-labelledby":"actions","aria-label":"actions"},a.summary_fields.user_capabilities.start&&r.a.createElement(Gd,{source:a}),a.summary_fields.user_capabilities.edit&&r.a.createElement($.a,{"aria-label":l._({id:"Edit Source"}),variant:"plain",component:D.b,to:"".concat(o,"/edit")},r.a.createElement(Fl.a,null))))))})),Jd=ce("inventory",{not__source:"",page:1,page_size:20,order_by:"name"});var Kd=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.i)(),i=a.inventoryType,l=a.id,c=Object(o.h)().search,s=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Jd,c),e.next=3,Promise.all([st.readSources(l,t),ut.readOptions()]);case 3:return a=e.sent,e.abrupt("return",{sources:a[0].data.results,sourceCount:a[0].data.count,sourceChoices:a[1].data.actions.GET.source.choices,sourceChoicesOptions:a[1].data.actions});case 5:case"end":return e.stop()}}),e)}))),[l,c]),{sources:[],sourceCount:0,sourceChoices:[]}),u=s.isLoading,d=s.error,m=s.result,p=m.sources,b=m.sourceCount,f=m.sourceChoices,h=m.sourceChoicesOptions,v=s.request,_=p.length>0&&p.every((function(e){return e.summary_fields.user_capabilities.start})),y=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=3;break}return e.next=3,st.syncAllSources(l);case 3:case"end":return e.stop()}}),e)}))),[l,_])),E=y.isLoading,g=y.error,j=y.request;Object(n.useEffect)((function(){v()}),[v]);var k=vu(p),w=k.selected,C=k.isAllSelected,S=k.handleSelect,x=k.setSelected,T=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(w.map((function(e){var t=e.id;return ut.destroy(t)})),[]));case 1:case"end":return e.stop()}}),e)}))),[w]),{fetchItems:v,allItemsSelected:C,qsConfig:Jd}),I=T.isLoading,D=T.deleteItems,N=T.deletionError,L=T.clearDeletionError,R=Pl(g),A=R.error,P=R.dismissError,z=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:x([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=h&&Object.prototype.hasOwnProperty.call(h,"POST"),q="/inventories/".concat(i,"/").concat(l,"/sources/");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:d,hasContentLoading:u||I||E,items:p,itemCount:b,pluralizedItemName:t._({id:"Inventory Sources"}),qsConfig:Jd,renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:C,onSelectAll:function(e){return x(e?Object(le.a)(p):[])},qsConfig:Jd,additionalControls:[].concat(Object(le.a)(M?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(q,"add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:z,itemsToDelete:w,pluralizedItemName:t._({id:"Inventory Sources"})})],Object(le.a)(_?[r.a.createElement(Ln.a,{key:"update",content:t._({id:"Sync all sources"}),position:"top"},r.a.createElement($.a,{onClick:j,"aria-label":t._({id:"Sync all"}),variant:"secondary"},t._({id:"Sync all"})))]:[]))}))},renderItem:function(e){var t;return f.forEach((function(a){var n=Object(O.a)(a,2),r=n[0],i=n[1];e.source===r&&(t=i)})),r.a.createElement(Hd,{key:e.id,source:e,onSelect:function(){return S(e)},label:t,detailUrl:"".concat(q).concat(e.id),isSelected:w.some((function(t){return t.id===e.id}))})}}),A&&r.a.createElement(Gn,{"aria-label":t._({id:"Sync error"}),isOpen:A,variant:"error",title:t._({id:"Error!"}),onClose:P},t._({id:"Failed to sync some or all inventory sources."}),r.a.createElement(cn,{error:A})),N&&r.a.createElement(Gn,{"aria-label":t._({id:"Delete error"}),isOpen:N,variant:"error",title:t._({id:"Error!"}),onClose:L},t._({id:"Failed to delete one or more inventory sources."}),r.a.createElement(cn,{error:N})))}));var Yd=function(e){var t=e.inventory,a=e.setBreadcrumb;return r.a.createElement(o.d,null,r.a.createElement(o.b,{key:"add",path:"/inventories/inventory/:id/sources/add"},r.a.createElement(qd,null)),r.a.createElement(o.b,{path:"/inventories/inventory/:id/sources/:sourceId"},r.a.createElement(Ld,{inventory:t,setBreadcrumb:a})),r.a.createElement(o.b,{path:"/inventories/:inventoryType/:id/sources"},r.a.createElement(Kd,null)))};var Xd=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(!0),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(null),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(o.h)(),E=Object(o.j)({path:"/inventories/inventory/:id"});Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.readDetail(E.params.id);case 3:t=e.sent,n=t.data,a(n),v(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E.params.id,_.pathname,a]);var g,j=[{name:t._({id:"Details"}),link:"".concat(E.url,"/details"),id:0},{name:t._({id:"Access"}),link:"".concat(E.url,"/access"),id:1},{name:t._({id:"Groups"}),link:"".concat(E.url,"/groups"),id:2},{name:t._({id:"Hosts"}),link:"".concat(E.url,"/hosts"),id:3},{name:t._({id:"Sources"}),link:"".concat(E.url,"/sources"),id:4},{name:t._({id:"Completed Jobs"}),link:"".concat(E.url,"/completed_jobs"),id:5}];return m?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(bn,null))):c?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:c},404===(null===(g=c.response)||void 0===g?void 0:g.status)&&r.a.createElement("span",null,t._("Inventory not found.")," ",r.a.createElement(D.b,{to:"/inventories"},t._("View all Inventories.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,["edit","add","groups/","hosts/","sources/"].some((function(e){return _.pathname.includes(e)}))?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:j}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/inventories"}))),r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/inventories/inventory/:id",to:"/inventories/inventory/:id/details",exact:!0}),h&&[r.a.createElement(o.b,{path:"/inventories/inventory/:id/details",key:"details"},r.a.createElement(Uu,{inventory:h,hasInventoryLoading:m})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/edit",key:"edit"},r.a.createElement(Wu,{inventory:h})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/hosts",key:"hosts"},r.a.createElement(Dd,{inventory:h,setBreadcrumb:a})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/access",key:"access"},r.a.createElement(ni,{resource:h,apiModel:st})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/groups",key:"groups"},r.a.createElement(fd,{inventory:h,setBreadcrumb:a})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/sources",key:"sources"},r.a.createElement(Yd,{inventory:h,setBreadcrumb:a})),r.a.createElement(o.b,{path:"/inventories/inventory/:id/completed_jobs",key:"completed_jobs"},r.a.createElement(mu,{defaultParams:{or__job__inventory:h.id,or__adhoccommand__inventory:h.id,or__inventoryupdate__inventory_source__inventory:h.id,or__workflowjob__inventory:h.id}})),r.a.createElement(o.b,{path:"*",key:"not-found"},r.a.createElement(dn,{isNotFound:!0},E.params.id&&r.a.createElement(D.b,{to:"/inventories/inventory/".concat(E.params.id,"/details")},t._("View Inventory Details"))))])))})),Zd=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,"Coming soon :)")}}]),a}(n.Component),Qd=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,"Coming soon :)")}}]),a}(n.Component),$d=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,null,"Coming soon :)")}}]),a}(n.Component),em=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={contentError:null,hasContentLoading:!0,inventory:null},n.loadSmartInventory=n.loadSmartInventory.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSmartInventory();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.location,r=a.match,i="/inventories/smart_inventory/".concat(r.params.id,"/"),!t.location.pathname.startsWith(i)||t.location===n||n.pathname!=="".concat(i,"details")){e.next=5;break}return e.next=5,this.loadSmartInventory();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSmartInventory",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.setBreadcrumb,n=t.match,r=n.params.id,this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,st.readDetail(r);case 6:i=e.sent,l=i.data,a(l),this.setState({inventory:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({contentError:e.t0});case 15:return e.prev=15,this.setState({hasContentLoading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.i18n,a=e.location,n=e.match,i=this.state,l=i.contentError,c=i.hasContentLoading,s=i.inventory,u=[{name:t._({id:"Details"}),link:"".concat(n.url,"/details"),id:0},{name:t._({id:"Access"}),link:"".concat(n.url,"/access"),id:1},{name:t._({id:"Hosts"}),link:"".concat(n.url,"/hosts"),id:2},{name:t._({id:"Completed Jobs"}),link:"".concat(n.url,"/completed_jobs"),id:3}],d=c?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:u}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/inventories"})));return a.pathname.endsWith("edit")&&(d=null),!c&&l?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:l},404===l.response.status&&r.a.createElement("span",null,t._("Inventory not found.")," ",r.a.createElement(D.b,{to:"/inventories"},t._("View all Inventories.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,d,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/inventories/smart_inventory/:id",to:"/inventories/smart_inventory/:id/details",exact:!0}),s&&[r.a.createElement(o.b,{key:"details",path:"/inventories/smart_inventory/:id/details"},r.a.createElement(Zd,{hasSmartInventoryLoading:c,inventory:s})),r.a.createElement(o.b,{key:"edit",path:"/inventories/smart_inventory/:id/edit"},r.a.createElement($d,{inventory:s})),r.a.createElement(o.b,{key:"access",path:"/inventories/smart_inventory/:id/access"},r.a.createElement(ni,{resource:s,apiModel:st})),r.a.createElement(o.b,{key:"hosts",path:"/inventories/smart_inventory/:id/hosts"},r.a.createElement(Qd,{inventory:s})),r.a.createElement(o.b,{key:"completed_jobs",path:"/inventories/smart_inventory/:id/completed_jobs"},r.a.createElement(mu,{defaultParams:{or__job__inventory:s.id,or__adhoccommand__inventory:s.id,or__inventoryupdate__inventory_source__inventory:s.id,or__workflowjob__inventory:s.id}})),r.a.createElement(o.b,{key:"not-found",path:"*"},!c&&r.a.createElement(dn,{isNotFound:!0},n.params.id&&r.a.createElement(D.b,{to:"/inventories/smart_inventory/".concat(n.params.id,"/details")},t._("View Inventory Details"))))])))}}]),a}(n.Component),tm=Object(c.withI18n)()(Object(o.k)(em));var am=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(!0),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it.read({kind:"insights"});case 3:t=e.sent,a=t.data.results,b(a[0].id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[s,p]);var h=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,l,o,c,s,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.instanceGroups,n=t.organization,r=t.insights_credential,l=Object(Q.a)(t,["instanceGroups","organization","insights_credential"]),e.prev=1,e.next=4,st.create(Object(oe.a)({organization:n.id,insights_credential:r?r.id:null},l));case 4:if(o=e.sent,c=o.data.id,!a){e.next=10;break}return s=a.map(function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st.associateInstanceGroup(c,t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.all(s);case 10:u=f.location.pathname.startsWith("/inventories/smart_inventory")?"/inventories/smart_inventory/".concat(c,"/details"):"/inventories/inventory/".concat(c,"/details"),f.push("".concat(u)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),i(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return s?r.a.createElement(bn,null):r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(qu,{onCancel:function(){f.push("/inventories")},onSubmit:h,credentialTypeId:p,submitError:a}))))},nm=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,null,"Coming soon :)")}}]),a}(n.Component),rm=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a),(n=t.call(this,e)).setBreadCrumbConfig=function(e,t){var a,r=n.props.i18n;if(e){var i="smart"===e.kind?"smart_inventory":"inventory",l="/inventories/".concat(i,"/").concat(e.id),o="".concat(l,"/hosts"),c="".concat(l,"/groups"),s="".concat(l,"/sources"),u=(a={"/inventories":r._({id:"Inventories"}),"/inventories/inventory/add":r._({id:"Create New Inventory"}),"/inventories/smart_inventory/add":r._({id:"Create New Smart Inventory"})},Object(d.a)(a,l,"".concat(e.name)),Object(d.a)(a,"".concat(l,"/access"),r._({id:"Access"})),Object(d.a)(a,"".concat(l,"/completed_jobs"),r._({id:"Completed Jobs"})),Object(d.a)(a,"".concat(l,"/details"),r._({id:"Details"})),Object(d.a)(a,"".concat(l,"/edit"),r._({id:"Edit Details"})),Object(d.a)(a,o,r._({id:"Hosts"})),Object(d.a)(a,"".concat(o,"/add"),r._({id:"Create New Host"})),Object(d.a)(a,"".concat(o,"/").concat(null===t||void 0===t?void 0:t.id),"".concat(null===t||void 0===t?void 0:t.name)),Object(d.a)(a,"".concat(o,"/").concat(null===t||void 0===t?void 0:t.id,"/edit"),r._({id:"Edit Details"})),Object(d.a)(a,"".concat(o,"/").concat(null===t||void 0===t?void 0:t.id,"/details"),r._({id:"Host Details"})),Object(d.a)(a,"".concat(o,"/").concat(null===t||void 0===t?void 0:t.id,"/completed_jobs"),r._({id:"Completed Jobs"})),Object(d.a)(a,"".concat(o,"/").concat(null===t||void 0===t?void 0:t.id,"/facts"),r._({id:"Facts"})),Object(d.a)(a,"".concat(o,"/").concat(null===t||void 0===t?void 0:t.id,"/groups"),r._({id:"Groups"})),Object(d.a)(a,c,r._({id:"Groups"})),Object(d.a)(a,"".concat(c,"/add"),r._({id:"Create New Group"})),Object(d.a)(a,"".concat(c,"/").concat(null===t||void 0===t?void 0:t.id),"".concat(null===t||void 0===t?void 0:t.name)),Object(d.a)(a,"".concat(c,"/").concat(null===t||void 0===t?void 0:t.id,"/edit"),r._({id:"Edit Details"})),Object(d.a)(a,"".concat(c,"/").concat(null===t||void 0===t?void 0:t.id,"/details"),r._({id:"Group Details"})),Object(d.a)(a,"".concat(c,"/").concat(null===t||void 0===t?void 0:t.id,"/nested_hosts"),r._({id:"Hosts"})),Object(d.a)(a,"".concat(c,"/").concat(null===t||void 0===t?void 0:t.id,"/nested_hosts/add"),r._({id:"Create New Host"})),Object(d.a)(a,"".concat(s),r._({id:"Sources"})),Object(d.a)(a,"".concat(s,"/add"),r._({id:"Create New Source"})),Object(d.a)(a,"".concat(s,"/").concat(null===t||void 0===t?void 0:t.id),"".concat(null===t||void 0===t?void 0:t.name)),Object(d.a)(a,"".concat(s,"/").concat(null===t||void 0===t?void 0:t.id,"/details"),r._({id:"Details"})),a);n.setState({breadcrumbConfig:u})}};var r=n.props.i18n;return n.state={breadcrumbConfig:{"/inventories":r._({id:"Inventories"}),"/inventories/inventory/add":r._({id:"Create New Inventory"}),"/inventories/smart_inventory/add":r._({id:"Create New Smart Inventory"})}},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.history,i=t.location,l=this.state.breadcrumbConfig;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:l}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(a.path,"/inventory/add")},r.a.createElement(am,null)),r.a.createElement(o.b,{path:"".concat(a.path,"/smart_inventory/add")},r.a.createElement(nm,null)),r.a.createElement(o.b,{path:"".concat(a.path,"/inventory/:id")},r.a.createElement(C,null,(function(t){var a=t.me;return r.a.createElement(Xd,{setBreadcrumb:e.setBreadCrumbConfig,me:a||{}})}))),r.a.createElement(o.b,{path:"".concat(a.path,"/smart_inventory/:id"),render:function(t){var a=t.match;return r.a.createElement(C,null,(function(t){var l=t.me;return r.a.createElement(tm,{history:n,location:i,setBreadcrumb:e.setBreadCrumbConfig,me:l||{},match:a})}))}}),r.a.createElement(o.b,{path:"".concat(a.path)},r.a.createElement(zu,null))))}}]),a}(n.Component),im=Object(c.withI18n)()(Object(o.k)(rm)),lm=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Inventory Scripts"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),om=Object(c.withI18n)()(lm),cm=Object(N.b)(kc).withConfig({displayName:"JobDetail__VariablesInput",componentId:"sc-16ir9b4-0"})([".pf-c-form__label{--pf-c-form__label--FontWeight:var(--pf-global--FontWeight--bold);}"]),sm=Object(N.b)(cm).withConfig({displayName:"JobDetail___StyledVariablesInput2",componentId:"sc-16ir9b4-1"})(["margin:20px 0"]),um=Object(N.b)(cm).withConfig({displayName:"JobDetail___StyledVariablesInput",componentId:"sc-16ir9b4-2"})(["margin:20px 0"]),dm=N.b.div.withConfig({displayName:"JobDetail__StatusDetailValue",componentId:"sc-16ir9b4-3"})(["align-items:center;display:inline-grid;grid-gap:10px;grid-template-columns:auto auto;"]),mm={0:"0 (Normal)",1:"1 (Verbose)",2:"2 (More Verbose)",3:"3 (Debug)",4:"4 (Connection Debug)"};var pm=Object(c.withI18n)()((function(e){var t=e.job,a=e.i18n,i=t.summary_fields,l=i.credentials,c=i.instance_group,s=i.inventory,u=i.job_template,d=i.labels,m=i.project,p=Object(n.useState)(),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(o.g)(),_=function(e){var t,a,n=e.summary_fields,r=void 0===n?{}:n,i=e.related,l=void 0===i?{}:i,o=r.created_by,c=r.job_template,s=r.schedule,u=l.schedule;return o||s?(o?(t="/users/".concat(o.id),a=o.username):u&&c?(t="/templates/job_template/".concat(c.id,"/schedules/").concat(s.id),a=s.name):(t=null,a=s.name),{link:t,value:a}):null}(t)||{},y=_.value,E=_.link,g=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t.type,e.next="project_update"===e.t0?4:"system_job"===e.t0?7:"workflow_job"===e.t0?10:"ad_hoc_command"===e.t0?13:"inventory_update"===e.t0?16:19;break;case 4:return e.next=6,yt.destroy(t.id);case 6:return e.abrupt("break",21);case 7:return e.next=9,jt.destroy(t.id);case 9:return e.abrupt("break",21);case 10:return e.next=12,xt.destroy(t.id);case 12:return e.abrupt("break",21);case 13:return e.next=15,at.destroy(t.id);case 15:return e.abrupt("break",21);case 16:return e.next=18,st.destroy(t.id);case 18:return e.abrupt("break",21);case 19:return e.next=21,pt.destroy(t.id);case 21:v.push("/jobs"),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),h(e.t1);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:a._({id:"Status"}),value:r.a.createElement(dm,null,t.status&&r.a.createElement(Lo,{status:t.status}),qc(t.status))}),r.a.createElement(Lr,{label:a._({id:"Started"}),value:Mr(t.started)}),r.a.createElement(Lr,{label:a._({id:"Finished"}),value:Mr(t.finished)}),u&&r.a.createElement(Lr,{label:a._({id:"Template"}),value:r.a.createElement(D.b,{to:"/templates/job_template/".concat(u.id)},u.name)}),r.a.createElement(Lr,{label:a._({id:"Job Type"}),value:qc(t.job_type)}),r.a.createElement(Lr,{label:a._({id:"Launched By"}),value:E?r.a.createElement(D.b,{to:"".concat(E)},y):y}),s&&r.a.createElement(Lr,{label:a._({id:"Inventory"}),value:r.a.createElement(D.b,{to:"smart"===s.kind?"/inventories/smart_inventory/".concat(s.id):"/inventories/inventory/".concat(s.id)},s.name)}),m&&r.a.createElement(Lr,{label:a._({id:"Project"}),value:r.a.createElement(dm,null,m.status&&r.a.createElement(Lo,{status:m.status}),r.a.createElement(D.b,{to:"/projects/".concat(m.id)},m.name))}),r.a.createElement(Lr,{label:a._({id:"Revision"}),value:t.scm_revision}),r.a.createElement(Lr,{label:a._({id:"Playbook"}),value:t.playbook}),r.a.createElement(Lr,{label:a._({id:"Limit"}),value:t.limit}),r.a.createElement(Lr,{label:a._({id:"Verbosity"}),value:mm[t.verbosity]}),r.a.createElement(Lr,{label:a._({id:"Environment"}),value:t.custom_virtualenv}),r.a.createElement(Lr,{label:a._({id:"Execution Node"}),value:t.execution_node}),c&&r.a.createElement(Lr,{label:a._({id:"Instance Group"}),value:r.a.createElement(D.b,{to:"/instance_groups/".concat(c.id)},c.name)}),"number"===typeof t.job_slice_number&&"number"===typeof t.job_slice_count&&r.a.createElement(Lr,{label:a._({id:"Job Slice"}),value:"".concat(t.job_slice_number,"/").concat(t.job_slice_count)}),l&&l.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Credentials"}),value:r.a.createElement(rr,{numChips:5,totalChips:l.length},l.map((function(e){return r.a.createElement(Vc,{key:e.id,credential:e,isReadOnly:!0})})))}),d&&d.count>0&&r.a.createElement(Lr,{fullWidth:!0,label:a._({id:"Labels"}),value:r.a.createElement(rr,{numChips:5,totalChips:d.results.length},d.results.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))})),t.extra_vars&&r.a.createElement(um,{id:"job-variables",readOnly:!0,value:t.extra_vars,rows:4,label:a._({id:"Variables"})}),t.artifacts&&r.a.createElement(sm,{id:"job-artifacts",readOnly:!0,value:JSON.stringify(t.artifacts),rows:4,label:a._({id:"Artifacts"})}),r.a.createElement(Z,null,"system_job"!==t.type&&t.summary_fields.user_capabilities.start&&r.a.createElement(cu,{resource:t,"aria-label":a._({id:"Relaunch"})},(function(e){var t=e.handleRelaunch;return r.a.createElement($.a,{type:"submit",onClick:t},a._({id:"Relaunch"}))})),t.summary_fields.user_capabilities.delete&&r.a.createElement(si,{name:t.name,modalTitle:a._({id:"Delete Job"}),onConfirm:g},a._({id:"Delete"}))),f&&r.a.createElement(Gn,{isOpen:f,variant:"error",onClose:function(){return h()},title:a._({id:"Job Delete Error"})},r.a.createElement(cn,{error:f})))})),bm=a(156),fm=a(428),hm=a.n(fm),vm=a(429),_m=a.n(vm),ym=a(224),Em=a(984);function gm(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n\n  span.pf-c-badge {\n    margin-left: 10px;\n  }\n"]);return gm=function(){return e},e}function jm(){var e=Object(S.a)(["\n  background-color: ",";\n  flex-grow: ",";\n"]);return jm=function(){return e},e}function Om(){var e=Object(S.a)(["\n  background-color: #d7d7d7;\n  display: flex;\n  height: 5px;\n  margin: 24px 0;\n  width: 100%;\n"]);return Om=function(){return e},e}var km=N.b.div(Om()),wm=N.b.div(jm(),(function(e){return e.color||"inherit"}),(function(e){return e.count||0}));wm.displayName="BarSegment";var Cm=N.b.div(gm()),Sm=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.counts,n=void 0===a?{}:a,i=0===Object.keys(n).length,l={ok:{color:"#4CB140",label:t._({id:"OK"})},skipped:{color:"#73BCF7",label:t._({id:"Skipped"})},changed:{color:"#F0AB00",label:t._({id:"Changed"})},failures:{color:"#C9190B",label:t._({id:"Failed"})},dark:{color:"#8F4700",label:t._({id:"Unreachable"})}},o=Object.keys(l).map((function(e){var t=n[e]||0;return r.a.createElement(Ln.a,{key:e,content:r.a.createElement(Cm,null,l[e].label,r.a.createElement(Em.a,{isRead:!0},t))},r.a.createElement(wm,{key:e,color:l[e].color,count:t}))}));return i?r.a.createElement(km,null,r.a.createElement(Ln.a,{content:t._({id:"Host status information for this job is unavailable."})},r.a.createElement(wm,{count:1}))):r.a.createElement(km,null,o)}));function xm(){var e=Object(S.a)(["\n  display: flex;\n\n  &:hover {\n    background-color: white;\n    cursor: ",";\n  }\n\n  &:hover div {\n    background-color: white;\n  }\n\n  &--hidden {\n    display: none;\n  }\n  ","\n"]);return xm=function(){return e},e}var Tm=N.b.div(xm(),(function(e){return e.isClickable?"pointer":"default"}),(function(e){return e.isFirst?"padding-top: 10px;":""}));function Im(){var e=Object(S.a)(["\n  background-color: #ebebeb;\n  color: #646972;\n  display: flex;\n  flex: 0 0 30px;\n  font-size: 18px;\n  justify-content: center;\n  line-height: 12px;\n\n  & > i {\n    cursor: pointer;\n  }\n\n  user-select: none;\n"]);return Im=function(){return e},e}var Dm=N.b.div(Im());function Nm(){var e=Object(S.a)(["\n  color: #161b1f;\n  background-color: #ebebeb;\n  flex: 0 0 45px;\n  text-align: right;\n  vertical-align: top;\n  padding-right: 5px;\n  border-right: 1px solid #d7d7d7;\n  user-select: none;\n"]);return Nm=function(){return e},e}var Lm=N.b.div(Nm());Lm.displayName="JobEventLineNumber";var Rm=Lm;function Am(){var e=Object(S.a)(["\n  padding: 0 15px;\n  white-space: pre-wrap;\n  word-break: break-all;\n  word-wrap: break-word;\n\n  .time {\n    font-size: 14px;\n    font-weight: 600;\n    user-select: none;\n    background-color: #ebebeb;\n    border-radius: 12px;\n    padding: 2px 10px;\n    margin-left: 15px;\n  }\n\n  .content {\n    background: var(--pf-global--disabled-color--200);\n    background: linear-gradient(\n      to right,\n      #f5f5f5 10%,\n      #e8e8e8 18%,\n      #f5f5f5 33%\n    );\n    border-radius: 5px;\n  }\n"]);return Am=function(){return e},e}var Pm=N.b.div(Am());Pm.displayName="JobEventLineText";var zm=Pm,Um=a(985),Fm=a(986);function Mm(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  flex-flow: row wrap;\n  font-size: 14px;\n"]);return Mm=function(){return e},e}function qm(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n  ","\n"]);return qm=function(){return e},e}function Vm(){var e=Object(S.a)(["\n  margin-left: 20px;\n  height: 18px;\n  display: inline-flex;\n"]);return Vm=function(){return e},e}var Bm=N.b.div(Vm()),Wm=Object(N.b)(Em.a)(qm(),(function(e){return e.color?"\n  background-color: ".concat(e.color,"\n  color: white;\n  "):null})),Gm=N.b.div(Mm()),Hm=["ad_hoc_command","system_job","inventory_update"],Jm=Object(c.withI18n)()((function(e){var t,a,n,i,l,o,c=e.i18n,s=e.job,u=e.onDelete,d=Hm.includes(s.type),m=null===s||void 0===s||null===(t=s.playbook_counts)||void 0===t?void 0:t.play_count,p=null===s||void 0===s||null===(a=s.playbook_counts)||void 0===a?void 0:a.task_count,b=null===s||void 0===s||null===(n=s.host_status_counts)||void 0===n?void 0:n.dark,f=null===s||void 0===s||null===(i=s.host_status_counts)||void 0===i?void 0:i.failures,h=Object.keys((null===s||void 0===s?void 0:s.host_status_counts)||{}).reduce((function(e,t){return e+(null===s||void 0===s?void 0:s.host_status_counts[t])}),0);return r.a.createElement(Gm,null,!d&&r.a.createElement(r.a.Fragment,null,m>0&&r.a.createElement(Bm,{"aria-label":c._({id:"Play Count"})},r.a.createElement("div",null,c._({id:"Plays"})),r.a.createElement(Wm,{isRead:!0},m)),p>0&&r.a.createElement(Bm,{"aria-label":c._({id:"Task Count"})},r.a.createElement("div",null,c._({id:"Tasks"})),r.a.createElement(Wm,{isRead:!0},p)),h>0&&r.a.createElement(Bm,{"aria-label":c._({id:"Host Count"})},r.a.createElement("div",null,c._({id:"Hosts"})),r.a.createElement(Wm,{isRead:!0},h)),b>0&&r.a.createElement(Bm,{"aria-label":c._({id:"Unreachable Host Count"})},r.a.createElement("div",null,c._({id:"Unreachable"})),r.a.createElement(Ln.a,{content:c._({id:"Unreachable Hosts"})},r.a.createElement(Wm,{color:"#470000",isRead:!0},b))),f>0&&r.a.createElement(Bm,{"aria-label":c._({id:"Failed Host Count"})},r.a.createElement("div",null,c._({id:"Failed"})),r.a.createElement(Ln.a,{content:c._({id:"Failed Hosts"})},r.a.createElement(Wm,{color:"#C9190B",isRead:!0},f)))),r.a.createElement(Bm,{"aria-label":c._({id:"Elapsed Time"})},r.a.createElement("div",null,c._({id:"Elapsed"})),r.a.createElement(Ln.a,{content:c._({id:"Elapsed time that the job ran"})},r.a.createElement(Wm,{isRead:!0},function(e){var t=parseInt(e,10),a=Math.floor(t/3600),n=Math.floor(t/60)%60,r=t%60,i=a<10?"0".concat(a):a,l=n<10?"0".concat(n):n,o=r<10?"0".concat(r):r;return"".concat(i,":").concat(l,":").concat(o)}(s.elapsed)))),"system_job"!==s.type&&(null===(l=s.summary_fields.user_capabilities)||void 0===l?void 0:l.start)&&r.a.createElement(Ln.a,{content:c._({id:"Relaunch Job"})},r.a.createElement(cu,{resource:s,"aria-label":c._({id:"Relaunch"})},(function(e){var t=e.handleRelaunch;return r.a.createElement($.a,{variant:"plain",onClick:t,"aria-label":c._({id:"Relaunch"})},r.a.createElement(is.a,null))}))),(null===(o=s.related)||void 0===o?void 0:o.stdout)&&r.a.createElement(Ln.a,{content:c._({id:"Download Output"})},r.a.createElement("a",{href:"".concat(s.related.stdout,"?format=txt_download")},r.a.createElement($.a,{variant:"plain","aria-label":c._({id:"Download Output"})},r.a.createElement(Um.a,null)))),s.summary_fields.user_capabilities.delete&&r.a.createElement(Ln.a,{content:c._({id:"Delete Job"})},r.a.createElement(si,{name:s.name,modalTitle:c._({id:"Delete Job"}),onConfirm:u,variant:"plain"},r.a.createElement(Fm.a,null))))})),Km=["playbook_on_task_start","playbook_on_play_start","playbook_on_stats"],Ym=new hm.a({stream:!0,colors:{0:"#000",1:"#A30000",2:"#486B00",3:"#795600",4:"#00A",5:"#A0A",6:"#004368",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"}}),Xm=new ym.AllHtmlEntities;function Zm(e){var t=e.created,a=e.event,n=e.start_line,r=e.stdout;return Xm.encode(r).split("\r\n").map((function(e,r){var i;if(i=_m()(e)?Ym.toHtml(e):e,1===r&&Km.includes(a)){var l=function(e){var t=e.created,a=new Date(t),n=a.getHours(),r=a.getMinutes(),i=a.getSeconds(),l=n<10?"0".concat(n):n,o=r<10?"0".concat(r):r,c=i<10?"0".concat(i):i;return"".concat(l,":").concat(o,":").concat(c)}({created:t});i+='<span class="time">'.concat(l,"</span>")}return{lineNumber:n+r,html:i}}))}var Qm=function(e){var t=e.counter,a=e.created,n=e.event,i=e.isClickable,l=e.onJobEventClick,o=e.stdout,c=e.start_line,s=e.style,u=e.type;return o?r.a.createElement("div",{style:s,type:u},Zm({created:a,event:n,start_line:c,stdout:o}).map((function(e){var a=e.lineNumber,n=e.html;return a>=0&&r.a.createElement(Tm,{onClick:i?l:void 0,key:"".concat(t,"-").concat(a),isFirst:0===a,isClickable:i},r.a.createElement(Dm,null),r.a.createElement(Rm,null,a),r.a.createElement(zm,{type:"job_event_line_text",dangerouslySetInnerHTML:{__html:n}}))}))):null};function $m(e){var t=e.contentLength;return r.a.createElement(zm,null,r.a.createElement("span",{className:"content"}," ".repeat(t)))}var ep=function(e){var t=e.counter,a=e.contentLength,n=e.style;return t>1&&r.a.createElement("div",{style:n},r.a.createElement(Tm,{key:t},r.a.createElement(Dm,null),r.a.createElement(Rm,null),r.a.createElement($m,{contentLength:a})))},tp=a(987),ap=a(988),np=a(989),rp=a(990),ip=a(991),lp=N.b.div.withConfig({displayName:"PageControls__Wrapper",componentId:"sc-1v626x-0"})(["display:flex;height:35px;outline:1px solid #d7d7d7;width:100%;"]),op=Object(N.b)($.a).withConfig({displayName:"PageControls__Button",componentId:"sc-1v626x-1"})(["position:relative;z-index:1;"]),cp=Object(N.b)(op).withConfig({displayName:"PageControls___StyledButton",componentId:"sc-1v626x-2"})(["margin-right:auto"]),sp=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.onScrollFirst,n=e.onScrollLast,i=e.onScrollNext,l=e.onScrollPrevious;return r.a.createElement(lp,null,r.a.createElement(cp,{"aria-label":t._({id:"Toggle expand/collapse event lines"}),variant:"plain"},r.a.createElement(tp.a,null)),r.a.createElement(op,{"aria-label":t._({id:"Scroll previous"}),onClick:l,variant:"plain"},r.a.createElement(ap.a,null)),r.a.createElement(op,{"aria-label":t._({id:"Scroll next"}),onClick:i,variant:"plain"},r.a.createElement(np.a,null)),r.a.createElement(op,{"aria-label":t._({id:"Scroll first"}),onClick:a,variant:"plain"},r.a.createElement(rp.a,null)),r.a.createElement(op,{"aria-label":t._({id:"Scroll last"}),onClick:n,variant:"plain"},r.a.createElement(ip.a,null)))}));function up(){var e=Object(S.a)(["\n  --pf-c-tabs__button--PaddingLeft: 20px;\n  --pf-c-tabs__button--PaddingRight: 20px;\n\n  .pf-c-tabs__list {\n    li:first-of-type .pf-c-tabs__button {\n      &::after {\n        margin-left: 0;\n      }\n    }\n  }\n\n  &:not(.pf-c-tabs__item)::before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    content: '';\n    border-bottom: solid var(--pf-c-tabs__item--BorderColor);\n    border-width: var(--pf-c-tabs__item--BorderWidth) 0\n      var(--pf-c-tabs__item--BorderWidth) 0;\n  }\n"]);return up=function(){return e},e}function dp(){var e=Object(S.a)(["\n  align-items: center;\n  display: inline-grid;\n  grid-gap: 10px;\n  grid-template-columns: auto auto;\n"]);return dp=function(){return e},e}function mp(){var e=Object(S.a)(["\n  --pf-c-modal-box__footer--MarginTop: 0;\n  align-self: flex-start;\n  margin-top: 200px;\n  .pf-c-modal-box__body {\n    overflow-y: hidden;\n  }\n  .pf-c-tab-content {\n    padding: 24px 0;\n  }\n"]);return mp=function(){return e},e}var pp=new ym.AllHtmlEntities,bp=Object(N.b)(Rn.a)(mp()),fp=N.b.div(dp()),hp=Object(N.b)(ri.a)(up()),vp=function(e){return void 0!==e&&(""===e?" ":"string"===typeof e?pp.encode(e):e)};function _p(e){var t,a,i,l,o,c=e.onClose,s=e.hostEvent,u=void 0===s?{}:s,d=e.isOpen,m=void 0!==d&&d,p=e.i18n,b=Object(n.useState)(null),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(n.useState)(0),y=Object(O.a)(_,2),E=y[0],g=y[1];Object(n.useEffect)((function(){v(function(e){var t=null;return"runner_on_unreachable"===e.event&&(t="unreachable"),e.failed&&(t="failed"),"runner_on_ok"!==e.event&&"runner_on_async_ok"!==e.event&&"runner_item_on_ok"!==e.event||(t="ok"),e.changed&&(t="changed"),"runner_on_skipped"===e.event&&(t="skipped"),t}(u))}),[v,u]);var j=vp(null===u||void 0===u||null===(t=u.event_data)||void 0===t?void 0:t.res),k=vp(null===u||void 0===u||null===(a=u.event_data)||void 0===a||null===(i=a.res)||void 0===i?void 0:i.stderr),w=vp(function(e){var t,a,n,r=null===e||void 0===e||null===(t=e.event_data)||void 0===t?void 0:t.taskAction,i=null===e||void 0===e||null===(a=e.event_data)||void 0===a?void 0:a.res;if("debug"===r&&i.result&&i.result.stdout)n=i.result.stdout;else if("yum"===r&&i.results&&Array.isArray(i.results)){n=Object(O.a)(i.results,1)[0]}else i&&(n=i.stdout);return n}(u));return r.a.createElement(bp,{isFooterLeftAligned:!0,isLarge:!0,isOpen:m,onClose:c,title:p._({id:"Host Details"})},r.a.createElement(hp,{"aria-label":p._({id:"Tabs"}),activeKey:E,onSelect:function(e,t){g(t)}},r.a.createElement(ii.a,{"aria-label":p._({id:"Details tab"}),eventKey:0,title:p._({id:"Details"})},r.a.createElement(Cr,{style:{alignItems:"center"},gutter:"sm"},r.a.createElement(Lr,{label:p._({id:"Host Name"}),value:r.a.createElement(fp,null,h?r.a.createElement(Lo,{status:h}):null,u.host_name)}),r.a.createElement(Lr,{label:p._({id:"Play"}),value:u.play}),r.a.createElement(Lr,{label:p._({id:"Task"}),value:u.task}),r.a.createElement(Lr,{label:p._({id:"Module"}),value:u.event_data.task_action||p._({id:"No result found"})}),r.a.createElement(Lr,{label:p._({id:"Command"}),value:null===u||void 0===u||null===(l=u.event_data)||void 0===l||null===(o=l.res)||void 0===o?void 0:o.cmd}))),r.a.createElement(ii.a,{eventKey:1,title:p._({id:"JSON"}),"aria-label":p._({id:"JSON tab"})},1===E&&j?r.a.createElement(Dc,{mode:"javascript",readOnly:!0,value:JSON.stringify(j,null,2),onChange:function(){},rows:20,hasErrors:!1}):r.a.createElement(Za,{title:p._({id:"No JSON Available"})})),r.a.createElement(ii.a,{eventKey:2,title:p._({id:"Standard Out"}),"aria-label":p._({id:"Standard out tab"})},2===E&&w?r.a.createElement(Dc,{mode:"javascript",readOnly:!0,value:w,onChange:function(){},rows:20,hasErrors:!1}):r.a.createElement(Za,{title:p._({id:"No Standard Out Available"})})),r.a.createElement(ii.a,{eventKey:3,title:p._({id:"Standard Error"}),"aria-label":p._({id:"Standard error tab"})},3===E&&k?r.a.createElement(Dc,{mode:"javascript",readOnly:!0,onChange:function(){},value:k,hasErrors:!1,rows:20}):r.a.createElement(Za,{title:p._({id:"No Standard Error Available"})}))))}var yp=Object(c.withI18n)()(_p);function Ep(){var e=Object(S.a)(["\n  background-color: #ebebeb;\n  border-right: 1px solid #d7d7d7;\n  width: 75px;\n  flex: 1;\n"]);return Ep=function(){return e},e}function gp(){var e=Object(S.a)(["\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  font-family: monospace;\n  font-size: 15px;\n  height: calc(100vh - 350px);\n  outline: 1px solid #d7d7d7;\n"]);return gp=function(){return e},e}function jp(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return jp=function(){return e},e}function Op(){var e=Object(S.a)(["\n  display: inline-flex;\n  align-items: center;\n  h1 {\n    margin-left: 10px;\n    font-weight: var(--pf-global--FontWeight--bold);\n  }\n"]);return Op=function(){return e},e}_p.defaultProps={hostEvent:null,isOpen:!1};var kp=N.b.div(Op()),wp=N.b.div(jp()),Cp=N.b.div(gp()),Sp=N.b.div(Ep());function xp(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a}var Tp=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).listRef=r.a.createRef(),n.state={contentError:null,deletionError:null,hasContentLoading:!0,results:{},currentlyLoading:[],remoteRowCount:0,isHostModalOpen:!1,hostEvent:{}},n.cache=new bm.c({fixedWidth:!0,defaultHeight:25}),n._isMounted=!1,n.loadJobEvents=n.loadJobEvents.bind(Object(ne.a)(n)),n.handleDeleteJob=n.handleDeleteJob.bind(Object(ne.a)(n)),n.rowRenderer=n.rowRenderer.bind(Object(ne.a)(n)),n.handleHostEventClick=n.handleHostEventClick.bind(Object(ne.a)(n)),n.handleHostModalClose=n.handleHostModalClose.bind(Object(ne.a)(n)),n.handleScrollFirst=n.handleScrollFirst.bind(Object(ne.a)(n)),n.handleScrollLast=n.handleScrollLast.bind(Object(ne.a)(n)),n.handleScrollNext=n.handleScrollNext.bind(Object(ne.a)(n)),n.handleScrollPrevious=n.handleScrollPrevious.bind(Object(ne.a)(n)),n.handleResize=n.handleResize.bind(Object(ne.a)(n)),n.isRowLoaded=n.isRowLoaded.bind(Object(ne.a)(n)),n.loadMoreRows=n.loadMoreRows.bind(Object(ne.a)(n)),n.scrollToRow=n.scrollToRow.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadJobEvents()}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.currentlyLoading,r=!1;t.currentlyLoading.filter((function(e){return!n.includes(e)})).forEach((function(e){r=!0,a.cache.clear(e)})),r&&this.listRef.recomputeRowHeights&&this.listRef.recomputeRowHeights()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"loadJobEvents",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.job,n=t.type,r=xp(1,50),this._isMounted&&this.setState((function(e){return{hasContentLoading:!0,currentlyLoading:e.currentlyLoading.concat(r)}})),e.prev=3,e.next=6,pt.readEvents(a.id,n,{page_size:50,order_by:"start_line"});case 6:i=e.sent,l=i.data,o=l.results,c=void 0===o?[]:o,s=l.count,this._isMounted&&this.setState((function(e){var t=e.results;return c.forEach((function(e){t[e.counter]=e})),{results:t,remoteRowCount:s+1}})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),this.setState({contentError:e.t0});case 17:return e.prev=17,this._isMounted&&this.setState((function(e){return{hasContentLoading:!1,currentlyLoading:e.currentlyLoading.filter((function(e){return!r.includes(e)}))}})),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleDeleteJob",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.job,n=t.history,e.prev=1,e.t0=a.type,e.next="project_update"===e.t0?5:"system_job"===e.t0?8:"workflow_job"===e.t0?11:"ad_hoc_command"===e.t0?14:"inventory_update"===e.t0?17:20;break;case 5:return e.next=7,yt.destroy(a.id);case 7:return e.abrupt("break",22);case 8:return e.next=10,jt.destroy(a.id);case 10:return e.abrupt("break",22);case 11:return e.next=13,xt.destroy(a.id);case 13:return e.abrupt("break",22);case 14:return e.next=16,at.destroy(a.id);case 16:return e.abrupt("break",22);case 17:return e.next=19,st.destroy(a.id);case 19:return e.abrupt("break",22);case 20:return e.next=22,pt.destroy(a.id);case 22:n.push("/jobs"),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),this.setState({deletionError:e.t1});case 28:case"end":return e.stop()}}),e,this,[[1,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"isRowLoaded",value:function(e){var t=e.index,a=this.state,n=a.results,r=a.currentlyLoading;return!!n[t]||r.includes(t)}},{key:"handleHostEventClick",value:function(e){this.setState({isHostModalOpen:!0,hostEvent:e})}},{key:"handleHostModalClose",value:function(){this.setState({isHostModalOpen:!1})}},{key:"rowRenderer",value:function(e){var t=this,a=e.index,n=e.parent,i=e.key,l=e.style,o=this.state.results;return r.a.createElement(bm.b,{key:i,cache:this.cache,parent:n,rowIndex:a,columnIndex:0},o[a]?r.a.createElement(Qm,Object.assign({isClickable:function(e){var t=e.event,a=e.event_data,n=e.host,r=e.type;return!!("number"===typeof n||a&&a.res)||!("project_update_event"!==r||"runner_on_skipped"===t||!a.host)}(o[a]),onJobEventClick:function(){return t.handleHostEventClick(o[a])},className:"row",style:l},o[a])):r.a.createElement(ep,{className:"row",style:l,counter:a,contentLength:80}))}},{key:"loadMoreRows",value:function(e){var t=this,a=e.startIndex,n=e.stopIndex;if(0===a&&0===n)return Promise.resolve(null);var r=this.props,i=r.job,l=r.type,o=xp(a,n);this._isMounted&&this.setState((function(e){return{currentlyLoading:e.currentlyLoading.concat(o)}}));var c={counter__gte:a,counter__lte:n,order_by:"start_line"};return pt.readEvents(i.id,l,c).then((function(e){t._isMounted&&t.setState((function(t){var a=t.results,n=t.currentlyLoading;return e.data.results.forEach((function(e){a[e.counter]=e})),{results:a,currentlyLoading:n.filter((function(e){return!o.includes(e)}))}}))}))}},{key:"scrollToRow",value:function(e){this.listRef.scrollToRow(e)}},{key:"handleScrollPrevious",value:function(){var e=this.listRef.Grid._renderedRowStartIndex,t=this.listRef.Grid._renderedRowStopIndex-e+1;this.scrollToRow(Math.max(0,e-t))}},{key:"handleScrollNext",value:function(){var e=this.listRef.Grid._renderedRowStopIndex;this.scrollToRow(e-1)}},{key:"handleScrollFirst",value:function(){this.scrollToRow(0)}},{key:"handleScrollLast",value:function(){var e=this.state.remoteRowCount;this.scrollToRow(e-1)}},{key:"handleResize",value:function(e){var t=e.width;t!==this._previousWidth&&(this.cache.clearAll(),this.listRef.recomputeRowHeights()),this._previousWidth=t}},{key:"render",value:function(){var e=this,t=this.props,a=t.job,n=t.i18n,i=this.state,l=i.contentError,o=i.deletionError,c=i.hasContentLoading,s=i.hostEvent,u=i.isHostModalOpen,d=i.remoteRowCount;return c?r.a.createElement(bn,null):l?r.a.createElement(dn,{error:l}):r.a.createElement(K,null,u&&r.a.createElement(yp,{onClose:this.handleHostModalClose,isOpen:u,hostEvent:s}),r.a.createElement(wp,null,r.a.createElement(kp,null,r.a.createElement(Lo,{status:a.status}),r.a.createElement("h1",null,a.name)),r.a.createElement(Jm,{job:a,onDelete:this.handleDeleteJob})),r.a.createElement(Sm,{counts:a.host_status_counts}),r.a.createElement(sp,{onScrollFirst:this.handleScrollFirst,onScrollLast:this.handleScrollLast,onScrollNext:this.handleScrollNext,onScrollPrevious:this.handleScrollPrevious}),r.a.createElement(Cp,null,r.a.createElement(bm.d,{isRowLoaded:this.isRowLoaded,loadMoreRows:this.loadMoreRows,rowCount:d},(function(t){var a=t.onRowsRendered,n=t.registerChild;return r.a.createElement(bm.a,{onResize:e.handleResize},(function(t){var i=t.width,l=t.height;return r.a.createElement(bm.e,{ref:function(t){e.listRef=t,n(t)},deferredMeasurementCache:e.cache,height:l||1,onRowsRendered:a,rowCount:d,rowHeight:e.cache.rowHeight,rowRenderer:e.rowRenderer,scrollToAlignment:"start",width:i||1,overscanRowCount:20})}))})),r.a.createElement(Sp,null)),o&&r.a.createElement(Gn,{isOpen:o,variant:"danger",onClose:function(){return e.setState({deletionError:null})},title:n._({id:"Job Delete Error"})},r.a.createElement(cn,{error:o})))}}]),a}(n.Component),Ip=Object(c.withI18n)()(Object(o.k)(Tp));var Dp=function(){return r.a.createElement("div",null,"Workflow Detail!")},Np=r.a.createContext(null),Lp=r.a.createContext(null),Rp=a(27),Ap=a(298),Pp=function(e,t){return t-e[1].y},zp=180,Up=60,Fp=72,Mp=40;function qp(e,t,a,n){e.height/=n,e.width/=n,e.width+=Fp;var r,i,l=t.height/e.height,o=t.width/e.width,c=Math.min(l,o);return c<.1||c>2?(r=c<.1?.1:2,i=t.height/2-Up*r/2):(r=Math.floor(1e3*c)/1e3,i=(t.height-e.height*r)/2-a.y/n*r),[r,i]}function Vp(e){return Rp.b().x((function(e){return e.x})).y((function(e){return e.y}))(e)}function Bp(e,t){var a=t[e.source.id].x+t[e.source.id].width+1,n=Pp(t,t[e.source.id].y)+t[e.source.id].height/2,r=t[e.target.id].x-1,i=Pp(t,t[e.target.id].y)+t[e.target.id].height/2;return 1===e.source.id&&(n+=10),[{x:a,y:n},{x:r,y:i}]}function Wp(e,t){var a=t[e.source.id].x+t[e.source.id].width+1,n=Pp(t,t[e.source.id].y)+t[e.source.id].height/2,r=t[e.target.id].x-1,i=Pp(t,t[e.target.id].y)+t[e.target.id].height/2;1===e.source.id&&(n+=10);var l=(i-n)/(r-a),o=i-l*r;return[[r,l*r+o+8*Math.sqrt(1+l*l)].join(","),[a,l*a+o+8*Math.sqrt(1+l*l)].join(","),[a,l*a+o-8*Math.sqrt(1+l*l)].join(","),[r,l*r+o-8*Math.sqrt(1+l*l)].join(",")].join(" ")}function Gp(e,t){var a=new Ap.graphlib.Graph;return a.setGraph({rankdir:"LR",nodesep:30,ranksep:120}),a.setDefaultEdgeLabel((function(){return{}})),e.forEach((function(e){1===e.id?a.setNode(e.id,{label:"",width:Fp,height:Mp}):a.setNode(e.id,{label:"",width:zp,height:Up})})),t.forEach((function(e){a.setEdge(e.source.id,e.target.id)})),Ap.layout(a),a}function Hp(e,t,a){var n=t.k,r=(t.x+(e.width*n-e.width)/2)/n,i=(t.y+(e.height*n-e.height)/2)/n;return[r*a-(a*e.width-e.width)/2,i*a-(a*e.height-e.height)/2]}function Jp(){return{addLinkSourceNode:null,addLinkTargetNode:null,addNodeSource:null,addNodeTarget:null,addingLink:!1,contentError:null,isLoading:!0,linkToDelete:null,linkToEdit:null,links:[],nextNodeId:0,nodePositions:null,nodes:[],nodeToDelete:null,nodeToEdit:null,nodeToView:null,showDeleteAllNodesModal:!1,showLegend:!1,showTools:!1,showUnsavedChangesModal:!1,unsavedChanges:!1}}function Kp(e,t){switch(t.type){case"CREATE_LINK":return function(e,t){var a=e.addLinkSourceNode,n=e.addLinkTargetNode,r=e.links,i=e.nodes,l=Object(le.a)(r),o=Object(le.a)(i);return o.forEach((function(e){e.isInvalidLinkTarget=!1})),l.push({source:{id:a.id},target:{id:n.id},linkType:t}),l.forEach((function(e,t){1===e.source.id&&e.target.id===n.id&&l.splice(t,1)})),Object(oe.a)(Object(oe.a)({},e),{},{addLinkSourceNode:null,addLinkTargetNode:null,addingLink:!1,linkToEdit:null,links:l,nodes:o,unsavedChanges:!0})}(e,t.linkType);case"CREATE_NODE":return function(e,t){var a=e.addNodeSource,n=e.addNodeTarget,r=e.links,i=e.nodes,l=e.nextNodeId,o=Object(le.a)(i),c=Object(le.a)(r);o.push({id:l,unifiedJobTemplate:t.nodeResource,isInvalidLinkTarget:!1}),1===a&&(t.linkType="always");c.push({source:{id:a},target:{id:l},linkType:t.linkType}),n&&c.forEach((function(e){e.source.id===a&&e.target.id===n&&(e.source={id:l})}));return Object(oe.a)(Object(oe.a)({},e),{},{addNodeSource:null,addNodeTarget:null,links:c,nextNodeId:l+1,nodes:o,unsavedChanges:!0})}(e,t.node);case"CANCEL_LINK":case"CANCEL_LINK_MODAL":return function(e){var t=e.nodes,a=Object(le.a)(t);return a.forEach((function(e){e.isInvalidLinkTarget=!1})),Object(oe.a)(Object(oe.a)({},e),{},{addLinkSourceNode:null,addLinkTargetNode:null,addingLink:!1,linkToEdit:null,nodes:a})}(e);case"CANCEL_NODE_MODAL":return Object(oe.a)(Object(oe.a)({},e),{},{addNodeSource:null,addNodeTarget:null,nodeToEdit:null});case"DELETE_ALL_NODES":return function(e){var t=e.nodes;return Object(oe.a)(Object(oe.a)({},e),{},{addLinkSourceNode:null,addLinkTargetNode:null,addingLink:!1,links:[],nodes:t.map((function(e){return 1!==e.id&&(e.isDeleted=!0),e})),showDeleteAllNodesModal:!1,unsavedChanges:!0})}(e);case"DELETE_LINK":return function(e){for(var t=e.links,a=e.linkToDelete,n=Object(le.a)(t),r=n.length;r--;){var i=n[r];i.source.id===a.source.id&&i.target.id===a.target.id&&n.splice(r,1)}a.isConvergenceLink||n.push({source:{id:1},target:{id:a.target.id},linkType:"always"});return Object(oe.a)(Object(oe.a)({},e),{},{links:n,linkToDelete:null,unsavedChanges:!0})}(e);case"DELETE_NODE":return function(e){var t=e.links,a=e.nodes,n=e.nodeToDelete,r=n.id,i=Object(le.a)(a),l=Object(le.a)(t);i.find((function(e){return e.id===n.id})).isDeleted=!0;var o=[],c=[],s={};return function(e,t,a,n,r){for(var i=t.length;i--;){var l=t[i];a[l.target.id]||(a[l.target.id]=[]),a[l.target.id].push(l.source.id),l.source.id!==e&&l.target.id!==e||(l.source.id===e?n.push({id:l.target.id,linkType:l.linkType}):l.target.id===e&&r.push(l.source.id),t.splice(i,1))}}(r,l,s,c,o),function(e,t,a,n){e.forEach((function(e){t.forEach((function(t){1===e?1===n[t.id].length&&a.push({source:{id:e},target:{id:t.id},linkType:"always"}):n[t.id].includes(e)||a.push({source:{id:e},target:{id:t.id},linkType:t.linkType})}))}))}(o,c,l,s),Object(oe.a)(Object(oe.a)({},e),{},{links:l,nodeToDelete:null,nodes:i,unsavedChanges:!0})}(e);case"GENERATE_NODES_AND_LINKS":return function(e,t,a){var n=function(e,t){var a=[],n={},r={},i=2,l=[{id:1,unifiedJobTemplate:{name:t._({id:"START"})}}];return e.forEach((function(e){e.workflowMakerNodeId=i;var t={id:i,originalNodeObject:e};e.summary_fields.job&&(t.job=e.summary_fields.job),e.summary_fields.unified_job_template&&(t.unifiedJobTemplate=e.summary_fields.unified_job_template),l.push(t),a.push(e.id),r[e.id]=e.workflowMakerNodeId,n[i]=i-1,i++})),[l,a,r,n,i]}(t,a),r=Object(O.a)(n,5),i=r[0],l=r[1],o=r[2],c=r[3],s=r[4],u=function(e,t,a,n){var r=[],i=[];return e.forEach((function(e){var l=t[e.workflowMakerNodeId];e.success_nodes.forEach((function(e){var o=t[a[e]];r.push({source:n[l],target:n[o],linkType:"success"}),i.push(e)})),e.failure_nodes.forEach((function(e){var o=t[a[e]];r.push({source:n[l],target:n[o],linkType:"failure"}),i.push(e)})),e.always_nodes.forEach((function(e){var o=t[a[e]];r.push({source:n[l],target:n[o],linkType:"always"}),i.push(e)}))})),[r,i]}(t,c,o,i),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Array.from(new Set(p));return l.filter((function(e){return!b.includes(e)})).forEach((function(e){var t=c[o[e]];m.push({source:i[0],target:i[t],linkType:"always"})})),Object(oe.a)(Object(oe.a)({},e),{},{links:m,nodes:i,nextNodeId:s})}(e,t.nodes,t.i18n);case"RESET":return{addLinkSourceNode:null,addLinkTargetNode:null,addNodeSource:null,addNodeTarget:null,addingLink:!1,contentError:null,isLoading:!0,linkToDelete:null,linkToEdit:null,links:[],nextNodeId:0,nodePositions:null,nodes:[],nodeToDelete:null,nodeToEdit:null,nodeToView:null,showDeleteAllNodesModal:!1,showLegend:!1,showTools:!1,showUnsavedChangesModal:!1,unsavedChanges:!1};case"SELECT_SOURCE_FOR_LINKING":return function(e,t){var a=e.links,n=e.nodes,r=Object(le.a)(n),i={},l=[];a.forEach((function(e){1!==e.source.id&&(e.source.id===t.id&&l.push(e.target.id),i[e.target.id]||(i[e.target.id]=[]),i[e.target.id].push(e.source.id))}));return function e(t){i[t]&&i[t].forEach((function(t){l.push(t),e(t)}))}(t.id),l.filter((function(e,t,a){return t===a.indexOf(e)})).forEach((function(e){r.forEach((function(t){t.id===e&&(t.isInvalidLinkTarget=!0)}))})),Object(oe.a)(Object(oe.a)({},e),{},{addLinkSourceNode:t,addingLink:!0,nodes:r})}(e,t.node);case"SET_ADD_LINK_TARGET_NODE":return Object(oe.a)(Object(oe.a)({},e),{},{addLinkTargetNode:t.value});case"SET_CONTENT_ERROR":return Object(oe.a)(Object(oe.a)({},e),{},{contentError:t.value});case"SET_IS_LOADING":return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:t.value});case"SET_LINK_TO_DELETE":return Object(oe.a)(Object(oe.a)({},e),{},{linkToDelete:t.value});case"SET_LINK_TO_EDIT":return Object(oe.a)(Object(oe.a)({},e),{},{linkToEdit:t.value});case"SET_NODE_POSITIONS":return Object(oe.a)(Object(oe.a)({},e),{},{nodePositions:t.value});case"SET_NODE_TO_DELETE":return Object(oe.a)(Object(oe.a)({},e),{},{nodeToDelete:t.value});case"SET_NODE_TO_EDIT":return Object(oe.a)(Object(oe.a)({},e),{},{nodeToEdit:t.value});case"SET_NODE_TO_VIEW":return Object(oe.a)(Object(oe.a)({},e),{},{nodeToView:t.value});case"SET_SHOW_DELETE_ALL_NODES_MODAL":return Object(oe.a)(Object(oe.a)({},e),{},{showDeleteAllNodesModal:t.value});case"START_ADD_NODE":return Object(oe.a)(Object(oe.a)({},e),{},{addNodeSource:t.sourceNodeId,addNodeTarget:t.targetNodeId||null});case"START_DELETE_LINK":return function(e,t){var a=e.links,n={};return a.forEach((function(e){n[e.target.id]||(n[e.target.id]=[]),n[e.target.id].push(e.source.id)})),t.isConvergenceLink=n[t.target.id].length>1,Object(oe.a)(Object(oe.a)({},e),{},{linkToDelete:t})}(e,t.link);case"TOGGLE_DELETE_ALL_NODES_MODAL":return function(e){var t=e.showDeleteAllNodesModal;return Object(oe.a)(Object(oe.a)({},e),{},{showDeleteAllNodesModal:!t})}(e);case"TOGGLE_LEGEND":return function(e){var t=e.showLegend;return Object(oe.a)(Object(oe.a)({},e),{},{showLegend:!t})}(e);case"TOGGLE_TOOLS":return function(e){var t=e.showTools;return Object(oe.a)(Object(oe.a)({},e),{},{showTools:!t})}(e);case"TOGGLE_UNSAVED_CHANGES_MODAL":return function(e){var t=e.showUnsavedChangesModal;return Object(oe.a)(Object(oe.a)({},e),{},{showUnsavedChangesModal:!t})}(e);case"UPDATE_LINK":return function(e,t){var a=e.linkToEdit,n=e.links,r=Object(le.a)(n);return r.forEach((function(e){e.source.id===a.source.id&&e.target.id===a.target.id&&(e.linkType=t)})),Object(oe.a)(Object(oe.a)({},e),{},{linkToEdit:null,links:r,unsavedChanges:!0})}(e,t.linkType);case"UPDATE_NODE":return function(e,t){var a=e.nodeToEdit,n=e.nodes,r=Object(le.a)(n),i=r.find((function(e){return e.id===a.id}));return i.unifiedJobTemplate=t.nodeResource,i.isEdited=!0,Object(oe.a)(Object(oe.a)({},e),{},{nodeToEdit:null,nodes:r,unsavedChanges:!0})}(e,t.node);case"REFRESH_NODE":return function(e,t){var a=e.nodeToView,n=e.nodes,r=Object(le.a)(n),i=r.find((function(e){return e.id===a.id}));return i.unifiedJobTemplate=t.nodeResource,Object(oe.a)(Object(oe.a)({},e),{},{nodes:r,nodeToView:i})}(e,t.node);default:throw new Error("Unrecognized action type: ".concat(t.type))}}var Yp=function(e){var t=e.link,a=e.mouseEnter,i=e.mouseLeave,l=Object(n.useRef)(null),o=Object(n.useState)(!1),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)("#CCCCCC"),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useContext)(Lp).nodePositions;return Object(n.useEffect)((function(){"failure"===t.linkType&&_("#d9534f"),"success"===t.linkType&&_("#5cb85c"),"always"===t.linkType&&_("#337ab7")}),[t.linkType]),Object(n.useEffect)((function(){var e=Bp(t,y);b(Vp(e))}),[t,y]),r.a.createElement("g",{ref:l,id:"link-".concat(t.source.id,"-").concat(t.target.id),onMouseEnter:function(){l.current.parentNode.appendChild(l.current),u(!0),a()},onMouseLeave:function(){l.current.parentNode.prepend(l.current),u(null),i()}},r.a.createElement("polygon",{fill:"#E1E1E1",id:"link-".concat(t.source.id,"-").concat(t.target.id,"-overlay"),opacity:s?"1":"0",points:Wp(t,y)}),r.a.createElement("path",{d:p,stroke:v,strokeWidth:"2px"}),r.a.createElement("polygon",{onMouseEnter:function(){return a()},onMouseLeave:function(){return i()},opacity:"0",points:Wp(t,y)}))};function Xp(){var e=Object(S.a)(["\n  background-color: white;\n  border-radius: 2px;\n  border: 1px solid #c4c4c4;\n  padding: 5px;\n"]);return Xp=function(){return e},e}function Zp(){var e=Object(S.a)(["\n  border-bottom: 10px solid transparent;\n  border-right: 10px solid white;\n  border-top: 10px solid transparent;\n  height: 0;\n  left: 2px;\n  margin: auto;\n  position: absolute;\n  top: calc(50% - 10px);\n  width: 0;\n"]);return Zp=function(){return e},e}function Qp(){var e=Object(S.a)(["\n  border-bottom: 10px solid transparent;\n  border-right: 10px solid #c4c4c4;\n  border-top: 10px solid transparent;\n  height: 0;\n  margin: auto;\n  position: absolute;\n  top: calc(50% - 10px);\n  width: 0;\n"]);return Qp=function(){return e},e}function $p(){var e=Object(S.a)(["\n  width: 10px;\n"]);return $p=function(){return e},e}function eb(){var e=Object(S.a)(["\n  display: flex;\n"]);return eb=function(){return e},e}var tb=N.b.div(eb()),ab=N.b.div($p()),nb=N.b.div(Qp()),rb=N.b.div(Zp()),ib=N.b.div(Xp());var lb=function(e){var t=e.actions,a=e.pointX,n=e.pointY,i=25*t.length+5*t.length-1+10;return r.a.createElement("foreignObject",{x:a,y:Number(n)-i/2,width:"52",height:i},r.a.createElement(tb,null,r.a.createElement(ab,null,r.a.createElement(nb,null),r.a.createElement(rb,null)),r.a.createElement(ib,null,t)))};function ob(){var e=Object(S.a)(["\n  align-items: center;\n  border-radius: 2px;\n  cursor: pointer;\n  display: flex;\n  font-size: 12px;\n  height: 25px;\n  justify-content: center;\n  width: 25px;\n\n  &:hover {\n    color: white;\n    background-color: #c4c4c4;\n  }\n\n  &:not(:last-of-type) {\n    margin-bottom: 5px;\n  }\n"]);return ob=function(){return e},e}var cb=N.b.div(ob());function sb(e){var t=e.children,a=e.id,n=e.onClick,i=e.onMouseEnter,l=e.onMouseLeave;return r.a.createElement(cb,{id:a,onClick:n,onMouseEnter:i,onMouseLeave:l},t)}sb.defaultProps={onClick:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};var ub=sb;function db(){var e=Object(S.a)(["\n  background-color: #383f44;\n  border-radius: 2px;\n  color: white;\n  left: 10px;\n  max-width: 300px;\n  padding: 5px 10px;\n  position: absolute;\n  top: 10px;\n"]);return db=function(){return e},e}function mb(){var e=Object(S.a)(["\n  height: 0;\n  pointer-events: none;\n  position: relative;\n"]);return mb=function(){return e},e}var pb=N.b.div(mb()),bb=N.b.div(db());var fb=function(e){var t=e.children;return r.a.createElement(pb,null,r.a.createElement(bb,null,t))},hb=a(992);function vb(){var e=Object(S.a)(["\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 15px;\n"]);return vb=function(){return e},e}function _b(){var e=Object(S.a)(["\n  background-color: #337ab7;\n"]);return _b=function(){return e},e}function yb(){var e=Object(S.a)(["\n  background-color: #d9534f;\n"]);return yb=function(){return e},e}function Eb(){var e=Object(S.a)(["\n  background-color: #5cb85c;\n"]);return Eb=function(){return e},e}function gb(){var e=Object(S.a)(["\n  height: 5px;\n  margin-right: 10px;\n  width: 20px;\n"]);return gb=function(){return e},e}function jb(){var e=Object(S.a)(["\n  color: #f0ad4d;\n  height: 20px;\n  margin-right: 10px;\n  width: 20px;\n"]);return jb=function(){return e},e}function Ob(){var e=Object(S.a)(["\n  background-color: #393f43;\n  border-radius: 50%;\n  color: white;\n  font-size: 10px;\n  height: 20px;\n  line-height: 20px;\n  margin-right: 10px;\n  text-align: center;\n  width: 20px;\n"]);return Ob=function(){return e},e}function kb(){var e=Object(S.a)(["\n  padding: 5px 10px;\n\n  li {\n    align-items: center;\n    display: flex;\n    padding: 5px 0px;\n  }\n"]);return kb=function(){return e},e}function wb(){var e=Object(S.a)(["\n  border-bottom: 1px solid #c7c7c7;\n  padding: 10px;\n  position: relative;\n"]);return wb=function(){return e},e}function Cb(){var e=Object(S.a)(["\n  background-color: white;\n  border: 1px solid #c7c7c7;\n  margin-left: 20px;\n  min-width: 100px;\n  position: relative;\n"]);return Cb=function(){return e},e}var Sb=N.b.div(Cb()),xb=N.b.div(wb()),Tb=N.b.ul(kb()),Ib=N.b.div(Ob()),Db=Object(N.b)(Qa.a)(jb()),Nb=N.b.div(gb()),Lb=Object(N.b)(Nb)(Eb()),Rb=Object(N.b)(Nb)(yb()),Ab=Object(N.b)(Nb)(_b()),Pb=Object(N.b)(ee.a)(vb());var zb=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np);return r.a.createElement(Sb,null,r.a.createElement(xb,null,r.a.createElement("b",null,t._({id:"Legend"})),r.a.createElement(Pb,{onClick:function(){return a({type:"TOGGLE_LEGEND"})}})),r.a.createElement(Tb,null,r.a.createElement("li",null,r.a.createElement(Ib,null,"JT"),r.a.createElement("span",null,t._({id:"Job Template"}))),r.a.createElement("li",null,r.a.createElement(Ib,null,"W"),r.a.createElement("span",null,t._({id:"Workflow"}))),r.a.createElement("li",null,r.a.createElement(Ib,null,"I"),r.a.createElement("span",null,t._({id:"Inventory Sync"}))),r.a.createElement("li",null,r.a.createElement(Ib,null,"P"),r.a.createElement("span",null,t._({id:"Project Sync"}))),r.a.createElement("li",null,r.a.createElement(Ib,null,r.a.createElement(hb.a,null)),r.a.createElement("span",null,t._({id:"Approval"}))),r.a.createElement("li",null,r.a.createElement(Db,null),r.a.createElement("span",null,t._({id:"Warning"}))),r.a.createElement("li",null,r.a.createElement(Lb,null),r.a.createElement("span",null,t._({id:"On Success"}))),r.a.createElement("li",null,r.a.createElement(Rb,null),r.a.createElement("span",null,t._({id:"On Failure"}))),r.a.createElement("li",null,r.a.createElement(Ab,null),r.a.createElement("span",null,t._({id:"Always"})))))}));function Ub(){var e=Object(S.a)(["\n  column-gap: 15px;\n  display: grid;\n  grid-template-columns: max-content;\n  row-gap: 0px;\n  dt {\n    grid-column-start: 1;\n  }\n  dd {\n    grid-column-start: 2;\n  }\n"]);return Ub=function(){return e},e}var Fb=N.b.dl(Ub());var Mb=Object(c.withI18n)()((function(e){var t,a=e.link,n=e.i18n;switch(a.linkType){case"always":t=n._({id:"Always"});break;case"success":t=n._({id:"On Success"});break;case"failure":t=n._({id:"On Failure"});break;default:t=""}return r.a.createElement(Fb,null,r.a.createElement("dt",null,r.a.createElement("b",null,n._({id:"Run"}))),r.a.createElement("dd",{id:"workflow-link-help-type"},t))})),qb=N.b.dl.withConfig({displayName:"WorkflowNodeHelp__GridDL",componentId:"sc-1wnectr-0"})(["column-gap:15px;display:grid;grid-template-columns:max-content;row-gap:0px;dt{grid-column-start:1;}dd{grid-column-start:2;}"]),Vb=N.b.p.withConfig({displayName:"WorkflowNodeHelp__ResourceDeleted",componentId:"sc-1wnectr-1"})(["margin-bottom:",";"],(function(e){return e.job?"10px":"0px"})),Bb=Object(N.b)(Qa.a).withConfig({displayName:"WorkflowNodeHelp__StyledExclamationTriangleIcon",componentId:"sc-1wnectr-2"})(["color:#f0ad4d;height:20px;margin-right:10px;width:20px;"]),Wb=Object(N.b)("p").withConfig({displayName:"WorkflowNodeHelp___StyledP",componentId:"sc-1wnectr-3"})(["margin-top:10px"]);var Gb=Object(c.withI18n)()((function(e){var t,a,n=e.node,i=e.i18n;if(n.unifiedJobTemplate||n.job)switch(n.unifiedJobTemplate?n.unifiedJobTemplate.unified_job_type||n.unifiedJobTemplate.type:n.job.type){case"job_template":case"job":t=i._({id:"Job Template"});break;case"workflow_job_template":case"workflow_job":t=i._({id:"Workflow Job Template"});break;case"project":case"project_update":t=i._({id:"Project Update"});break;case"inventory_source":case"inventory_update":t=i._({id:"Inventory Update"});break;case"workflow_approval_template":case"workflow_approval":t=i._({id:"Workflow Approval"});break;default:t=""}if(n.job)switch(n.job.status){case"new":a=i._({id:"New"});break;case"pending":a=i._({id:"Pending"});break;case"waiting":a=i._({id:"Waiting"});break;case"running":a=i._({id:"Running"});break;case"successful":a=i._({id:"Successful"});break;case"failed":a=i._({id:"Failed"});break;case"error":a=i._({id:"Error"});break;case"canceled":a=i._({id:"Canceled"});break;case"never updated":a=i._({id:"Never Updated"});break;case"ok":a=i._({id:"OK"});break;case"missing":a=i._({id:"Missing"});break;case"none":a=i._({id:"None"});break;case"updating":a=i._({id:"Updating"});break;default:a=""}return r.a.createElement(r.a.Fragment,null,!n.unifiedJobTemplate&&(!n.job||"workflow_approval"!==n.job.type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Vb,{job:n.job},r.a.createElement(Bb,null),r.a.createElement(c.Trans,{id:"The resource associated with this node has been deleted."}))),n.job&&r.a.createElement(qb,null,r.a.createElement("dt",null,r.a.createElement("b",null,i._({id:"Name"}))),r.a.createElement("dd",{id:"workflow-node-help-name"},n.job.name),r.a.createElement("dt",null,r.a.createElement("b",null,i._({id:"Type"}))),r.a.createElement("dd",{id:"workflow-node-help-type"},t),r.a.createElement("dt",null,r.a.createElement("b",null,i._({id:"Job Status"}))),r.a.createElement("dd",{id:"workflow-node-help-status"},a),"number"===typeof n.job.elapsed&&r.a.createElement(r.a.Fragment,null,r.a.createElement("dt",null,r.a.createElement("b",null,i._({id:"Elapsed"}))),r.a.createElement("dd",{id:"workflow-node-help-elapsed"},Vr(n.job.elapsed)))),n.unifiedJobTemplate&&!n.job&&r.a.createElement(qb,null,r.a.createElement("dt",null,r.a.createElement("b",null,i._({id:"Name"}))),r.a.createElement("dd",{id:"workflow-node-help-name"},n.unifiedJobTemplate.name),r.a.createElement("dt",null,r.a.createElement("b",null,i._({id:"Type"}))),r.a.createElement("dd",{id:"workflow-node-help-type"},t)),n.job&&"workflow_approval"!==n.job.type&&r.a.createElement(Wb,null,i._({id:"Click to view job details"})))}));function Hb(){var e=Object(S.a)(["\n  vertical-align: middle !important;\n"]);return Hb=function(){return e},e}function Jb(){var e=Object(S.a)(["\n  background-color: #393f43;\n  border-radius: 50%;\n  color: white;\n  font-size: 10px;\n  line-height: 20px;\n  text-align: center;\n  height: 20px;\n  width: 20px;\n"]);return Jb=function(){return e},e}var Kb=N.b.div(Jb()),Yb=Object(N.b)(hb.a)(Hb());var Xb=function(e){var t,a=e.node;if(a.unifiedJobTemplate&&(a.unifiedJobTemplate.type||a.unifiedJobTemplate.unified_job_type)||a.job&&a.job.type)switch(a.unifiedJobTemplate?a.unifiedJobTemplate.type||a.unifiedJobTemplate.unified_job_type:a.job.type){case"job_template":case"job":t="JT";break;case"project":case"project_update":t="P";break;case"inventory_source":case"inventory_update":t="I";break;case"workflow_job_template":case"workflow_job":t="W";break;case"workflow_approval_template":case"workflow_approval":t=r.a.createElement(Yb,null);break;default:t=""}return r.a.createElement("foreignObject",{y:"50",x:"-10",height:"20",width:"20"},r.a.createElement(Kb,{id:"node-".concat(a.id,"-type-letter")},t))};function Zb(){var e=Object(S.a)(["\n  pointer-events: ",";\n"]);return Zb=function(){return e},e}var Qb=N.b.g(Zb(),(function(e){return e.ignorePointerEvents?"none":"auto"}));function $b(e){var t=e.i18n,a=e.onUpdateHelpText,i=e.showActionTooltip,l=Object(n.useRef)(null),o=Object(n.useState)(!1),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(n.useContext)(Np),m=Object(n.useContext)(Lp),p=m.addingLink,b=m.nodePositions;return r.a.createElement(Qb,{id:"node-1",ignorePointerEvents:p,onMouseEnter:function(){l.current.parentNode.appendChild(l.current),u(!0)},onMouseLeave:function(){return u(!1)},ref:l,transform:"translate(".concat(b[1].x,",0)")},r.a.createElement("rect",{fill:"#0279BC",height:Mp,rx:"2",ry:"2",width:Fp,y:"10"}),r.a.createElement("text",{x:"13",y:"30",dy:".35em",fill:"white"},"START"),i&&s&&r.a.createElement(lb,{actions:[r.a.createElement(ub,{id:"node-add",key:"add",onMouseEnter:function(){return a(t._({id:"Add a new node"}))},onMouseLeave:function(){return a(null)},onClick:function(){a(null),u(!1),d({type:"START_ADD_NODE",sourceNodeId:1})}},r.a.createElement(tp.a,null))],pointX:Fp,pointY:Mp/2+10}))}$b.defaultProps={onUpdateHelpText:function(){}};var ef=Object(c.withI18n)()($b),tf=a(993),af=a(994),nf=a(995),rf=a(996),lf=a(997),of=a(998),cf=N.b.div.withConfig({displayName:"WorkflowTools__Wrapper",componentId:"e6lsx2-0"})(["background-color:white;border:1px solid #c7c7c7;height:215px;position:relative;"]),sf=N.b.div.withConfig({displayName:"WorkflowTools__Header",componentId:"e6lsx2-1"})(["border-bottom:1px solid #c7c7c7;padding:10px;"]),uf=N.b.div.withConfig({displayName:"WorkflowTools__Pan",componentId:"e6lsx2-2"})(["align-items:center;display:flex;"]),df=N.b.div.withConfig({displayName:"WorkflowTools__PanCenter",componentId:"e6lsx2-3"})(["display:flex;flex-direction:column;"]),mf=N.b.div.withConfig({displayName:"WorkflowTools__Tools",componentId:"e6lsx2-4"})(["align-items:center;display:flex;padding:20px;"]),pf=Object(N.b)(ee.a).withConfig({displayName:"WorkflowTools__Close",componentId:"e6lsx2-5"})(["cursor:pointer;position:absolute;right:10px;top:15px;"]),bf=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton",componentId:"e6lsx2-6"})(["margin-right:30px;"]),ff=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton2",componentId:"e6lsx2-7"})(["margin-right:10px;"]),hf=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton3",componentId:"e6lsx2-8"})(["margin:0px 25px 0px 10px;"]),vf=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton4",componentId:"e6lsx2-9"})(["margin-right:10px;"]),_f=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton5",componentId:"e6lsx2-10"})(["margin-bottom:10px;"]),yf=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton6",componentId:"e6lsx2-11"})(["margin-top:10px;"]),Ef=Object(N.b)($.a).withConfig({displayName:"WorkflowTools___StyledButton7",componentId:"e6lsx2-12"})(["margin-left:10px;"]);var gf=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.onFitGraph,i=e.onPan,l=e.onPanToMiddle,o=e.onZoomChange,c=e.zoomPercentage,s=Object(n.useContext)(Np);return r.a.createElement(cf,null,r.a.createElement(sf,null,r.a.createElement("b",null,t._({id:"Tools"})),r.a.createElement(pf,{onClick:function(){return s({type:"TOGGLE_TOOLS"})}})),r.a.createElement(mf,null,r.a.createElement(Ln.a,{content:t._({id:"Fit the graph to the available screen size"}),position:"bottom"},r.a.createElement(bf,{variant:"tertiary",onClick:function(){return a()}},r.a.createElement(tf.a,null))),r.a.createElement(Ln.a,{content:t._({id:"Zoom Out"}),position:"bottom"},r.a.createElement(ff,{variant:"tertiary",onClick:function(){return function(){var e=10*Math.floor((c-10)/10)>10?10*Math.floor((c-10)/10):10;o(e/100)}()}},r.a.createElement(af.a,null))),r.a.createElement("input",{id:"zoom-slider",max:"200",min:"10",onChange:function(e){return o(parseInt(e.target.value,10)/100)},step:"10",type:"range",value:c}),r.a.createElement(Ln.a,{content:t._({id:"Zoom In"}),position:"bottom"},r.a.createElement(hf,{variant:"tertiary",onClick:function(){return function(){var e=10*Math.ceil((c+10)/10)<200?10*Math.ceil((c+10)/10):200;o(e/100)}()}},r.a.createElement(tp.a,null))),r.a.createElement(uf,null,r.a.createElement(Ln.a,{content:t._({id:"Pan Left"}),position:"left"},r.a.createElement(vf,{variant:"tertiary",onClick:function(){return i("left")}},r.a.createElement(Ju.a,null))),r.a.createElement(df,null,r.a.createElement(Ln.a,{content:t._({id:"Pan Up"}),position:"top"},r.a.createElement(_f,{variant:"tertiary",onClick:function(){return i("up")}},r.a.createElement(nf.a,null))),r.a.createElement(Ln.a,{content:t._({id:"Set zoom to 100% and center graph"}),position:"top"},r.a.createElement($.a,{variant:"tertiary",onClick:function(){return l()}},r.a.createElement(rf.a,null))),r.a.createElement(Ln.a,{content:t._({id:"Pan Down"}),position:"bottom"},r.a.createElement(yf,{variant:"tertiary",onClick:function(){return i("down")}},r.a.createElement(lf.a,null)))),r.a.createElement(Ln.a,{content:t._({id:"Pan Right"}),position:"right"},r.a.createElement(Ef,{variant:"tertiary",onClick:function(){return i("right")}},r.a.createElement(of.a,null))))))}));function jf(){var e=Object(S.a)(["\n  margin-top: 20px;\n  overflow: hidden;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return jf=function(){return e},e}function Of(){var e=Object(S.a)(["\n  font-size: 13px;\n  padding: 0px 10px;\n"]);return Of=function(){return e},e}function kf(){var e=Object(S.a)(["\n  margin-top: 5px;\n  text-align: center;\n\n  span {\n    font-size: 12px;\n    font-weight: bold;\n    background-color: #ededed;\n    padding: 3px 12px;\n    border-radius: 14px;\n  }\n"]);return kf=function(){return e},e}function wf(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  margin-top: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  p {\n    margin-left: 10px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]);return wf=function(){return e},e}function Cf(){var e=Object(S.a)(["\n  cursor: ",";\n"]);return Cf=function(){return e},e}var Sf=N.b.g(Cf(),(function(e){return e.job&&"workflow_approval"!==e.job.type?"pointer":"default"})),xf=N.b.div(wf()),Tf=N.b.div(kf()),If=N.b.div(Of()),Df=N.b.p(jf());Tf.displayName="Elapsed";var Nf=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.mouseEnter,i=e.mouseLeave,l=e.node,c=Object(o.g)(),s=Object(n.useContext)(Lp).nodePositions,u="#93969A";return l.job&&("failed"!==l.job.status&&"error"!==l.job.status&&"canceled"!==l.job.status||(u="#d9534f"),"successful"!==l.job.status&&"ok"!==l.job.status||(u="#5cb85c")),r.a.createElement(Sf,{id:"node-".concat(l.id),transform:"translate(".concat(s[l.id].x,",").concat(s[l.id].y-s[1].y,")"),job:l.job,onClick:function(){l.job&&"workflow_aproval"!==l.job.type&&c.push("/jobs/".concat(l.job.id,"/details"))},onMouseEnter:a,onMouseLeave:i},r.a.createElement("rect",{fill:"#FFFFFF",height:Up,rx:"2",ry:"2",stroke:u,strokeWidth:"2px",width:zp}),r.a.createElement("foreignObject",{height:"58",width:"178",x:"1",y:"1"},r.a.createElement(If,null,l.job?r.a.createElement(r.a.Fragment,null,r.a.createElement(xf,null,l.job.status&&r.a.createElement(Lo,{status:l.job.status}),r.a.createElement("p",null,l.job.name)),r.a.createElement(Tf,null,Vr(l.job.elapsed))):r.a.createElement(Df,null,l.unifiedJobTemplate?l.unifiedJobTemplate.name:t._({id:"DELETED"})))),(l.unifiedJobTemplate||l.job)&&r.a.createElement(Xb,{node:l}))})),Lf=Object(N.b)("svg").withConfig({displayName:"WorkflowOutputGraph___StyledSvg",componentId:"sc-1vqdj5h-0"})(["display:flex;height:100%;background-color:#f6f6f6;"]),Rf=Object(N.b)("div").withConfig({displayName:"WorkflowOutputGraph___StyledDiv",componentId:"sc-1vqdj5h-1"})(["position:absolute;top:75px;right:20px;display:flex;"]);var Af=function(){var e=Object(n.useState)(),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(),o=Object(O.a)(l,2),c=o[0],s=o[1],u=Object(n.useState)(100),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useRef)(null),f=Object(n.useRef)(null),h=Object(n.useContext)(Lp),v=h.links,_=h.nodePositions,y=h.nodes,E=h.showLegend,g=h.showTools,j=function(){var e=Rp.f(Rp.c(b.current).node()).k,t=Rp.c(f.current).node().getBoundingClientRect(),a=Rp.c(f.current).node().getBBox(),n=qp(t,b.current.getBoundingClientRect(),a,e),r=Object(O.a)(n,2),i=r[0],l=r[1];Rp.c(b.current).call(k.transform,Rp.e.translate(0,l).scale(i)),p(100*i)},k=Rp.d().scaleExtent([.1,2]).on("zoom",(function(){var e=[Rp.a.transform.x,Rp.a.transform.y];Rp.c(f.current).attr("transform","translate(".concat(e,") scale(").concat(Rp.a.transform.k,")")),p(100*Rp.a.transform.k)}));return Object(n.useEffect)((function(){Rp.c(b.current).call(k)}),[k]),Object(n.useEffect)((function(){j()}),[]),r.a.createElement(r.a.Fragment,null,(c||a)&&r.a.createElement(fb,null,c&&r.a.createElement(Gb,{node:c}),a&&r.a.createElement(Mb,{link:a})),r.a.createElement(Lf,{id:"workflow-svg",ref:b},r.a.createElement("g",{id:"workflow-g",ref:f},_&&[r.a.createElement(ef,{key:"start",showActionTooltip:!1}),v.map((function(e){return r.a.createElement(Yp,{key:"link-".concat(e.source.id,"-").concat(e.target.id),link:e,mouseEnter:function(){return i(e)},mouseLeave:function(){return i(null)}})})),y.map((function(e){return e.id>1?r.a.createElement(Nf,{key:"node-".concat(e.id),mouseEnter:function(){return s(e)},mouseLeave:function(){return s(null)},node:e}):null}))])),r.a.createElement(Rf,null,g&&r.a.createElement(gf,{onFitGraph:j,onPan:function(e){var t=Rp.f(Rp.c(b.current).node()),a=t.x,n=t.y,r=t.k;switch(e){case"up":n-=50;break;case"down":n+=50;break;case"left":a-=50;break;case"right":a+=50}Rp.c(b.current).call(k.transform,Rp.e.translate(a,n).scale(r))},onPanToMiddle:function(){var e=b.current.getBoundingClientRect();Rp.c(b.current).call(k.transform,Rp.e.translate(0,e.height/2-30).scale(1)),p(100)},onZoomChange:function(e){var t=Hp(b.current.getBoundingClientRect(),Rp.f(Rp.c(b.current).node()),e),a=Object(O.a)(t,2),n=a[0],r=a[1];Rp.c(b.current).call(k.transform,Rp.e.translate(n,r).scale(e)),p(100*e)},zoomPercentage:m}),E&&r.a.createElement(zb,null)))},Pf=a(999),zf=a(1e3);function Uf(){var e=Object(S.a)(["\n  margin-right: 20px;\n"]);return Uf=function(){return e},e}function Ff(){var e=Object(S.a)(["\n  border: none;\n  margin: 0px 6px;\n  padding: 6px 10px;\n  &:hover {\n    background-color: #0066cc;\n    color: white;\n  }\n\n  &.pf-m-active {\n    background-color: #0066cc;\n    color: white;\n  }\n"]);return Ff=function(){return e},e}function Mf(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n"]);return Mf=function(){return e},e}function qf(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]);return qf=function(){return e},e}function Vf(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n"]);return Vf=function(){return e},e}function Bf(){var e=Object(S.a)(["\n  align-items: center;\n  border-bottom: 1px solid grey;\n  display: flex;\n  height: 56px;\n"]);return Bf=function(){return e},e}var Wf=N.b.div(Bf()),Gf=N.b.div(Vf()),Hf=N.b.div(qf()),Jf=Object(N.b)(Em.a)(Mf()),Kf=Object(N.b)($.a)(Ff()),Yf=Object(N.b)(Lo)(Uf());var Xf=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.job,i=Object(n.useContext)(Np),l=Object(n.useContext)(Lp),o=l.nodes,c=l.showLegend,s=l.showTools,u=o.reduce((function(e,t){return e+!t.isDeleted}),0)-1;return r.a.createElement(Wf,{id:"workflow-output-toolbar"},r.a.createElement(Gf,null,r.a.createElement(Yf,{status:a.status}),r.a.createElement("b",null,a.name)),r.a.createElement(Hf,null,r.a.createElement("div",null,t._({id:"Total Nodes"})),r.a.createElement(Jf,{isRead:!0},u),r.a.createElement(Ln.a,{content:t._({id:"Toggle Legend"}),position:"bottom"},r.a.createElement(Kf,{id:"workflow-output-toggle-legend",isActive:c,onClick:function(){return i({type:"TOGGLE_LEGEND"})},variant:"plain"},r.a.createElement(Pf.a,null))),r.a.createElement(Ln.a,{content:t._({id:"Toggle Tools"}),position:"bottom"},r.a.createElement(Kf,{id:"workflow-output-toggle-tools",isActive:s,onClick:function(){return i({type:"TOGGLE_TOOLS"})},variant:"plain"},r.a.createElement(zf.a,null)))))}));function Zf(){var e=Object(S.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n  position: relative;\n"]);return Zf=function(){return e},e}function Qf(){var e=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 240px);\n"]);return Qf=function(){return e},e}var $f=Object(N.b)(G.a)(Qf()),eh=N.b.div(Zf()),th=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:1,n=l.length>2&&void 0!==l[2]?l[2]:[],e.next=4,xt.readNodes(t,{page_size:200,page:a});case 4:if(r=e.sent,!(i=r.data).next){e.next=8;break}return e.abrupt("return",th(t,a+1,n.concat(i.results)));case 8:return e.abrupt("return",n.concat(i.results));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ah=Object(c.withI18n)()((function(e){var t=e.job,a=e.i18n,i=Object(n.useReducer)(Kp,{},Jp),l=Object(O.a)(i,2),o=l[0],c=l[1],s=o.contentError,u=o.isLoading,d=o.links,m=o.nodePositions,p=o.nodes;return Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,th(t.id);case 3:n=e.sent,c({type:"GENERATE_NODES_AND_LINKS",nodes:n,i18n:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:"SET_CONTENT_ERROR",value:e.t0});case 10:return e.prev=10,c({type:"SET_IS_LOADING",value:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}c({type:"RESET"}),function(){e.apply(this,arguments)}()}),[t.id,a]),Object(n.useEffect)((function(){if(p){var e={},t=Gp(p,d);t.nodes().forEach((function(a){e[a]=t.node(a)})),c({type:"SET_NODE_POSITIONS",value:e})}}),[t.id,d,p]),u?r.a.createElement($f,null,r.a.createElement(bn,null)):s?r.a.createElement($f,null,r.a.createElement(dn,{error:s})):r.a.createElement(Lp.Provider,{value:o},r.a.createElement(Np.Provider,{value:c},r.a.createElement($f,null,r.a.createElement(eh,null,r.a.createElement(Xf,{job:t}),m&&r.a.createElement(Af,null)))))})),nh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={job:null,contentError:null,hasContentLoading:!0,isInitialized:!1},n.loadJob=n.loadJob.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadJob();case 2:this.setState({isInitialized:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.location===t.location){e.next=4;break}return e.next=4,this.loadJob();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadJob",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,n=t.setBreadcrumb,r=parseInt(a.params.id,10),this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,pt.readDetail(r,a.params.type);case 6:i=e.sent,l=i.data,n(l),this.setState({job:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({contentError:e.t0});case 15:return e.prev=15,this.setState({hasContentLoading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props,a=t.match,n=t.i18n,i=t.lookup,l=this.state,c=l.job,s=l.contentError,u=l.hasContentLoading,d=l.isInitialized;c&&(e=Ro[c.type]);var m=[{name:n._({id:"Details"}),link:"".concat(a.url,"/details"),id:0},{name:n._({id:"Output"}),link:"".concat(a.url,"/output"),id:1}],p=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:m}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/jobs"})));return d||(p=null),!u&&s?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:s},404===s.response.status&&r.a.createElement("span",null,n._("The page you requested could not be found.")," ",r.a.createElement(D.b,{to:"/jobs"},n._("View all Jobs.")))))):i&&c?r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"jobs/:id",to:"/jobs/".concat(e,"/:id/output")}),r.a.createElement(o.a,{from:"jobs/:id/details",to:"/jobs/".concat(e,"/:id/details")}),r.a.createElement(o.a,{from:"jobs/:id/output",to:"/jobs/".concat(e,"/:id/output")})):r.a.createElement(y.a,null,r.a.createElement(q.a,null,p,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/jobs/:type/:id",to:"/jobs/:type/:id/output",exact:!0}),c&&"workflow_job"===c.type&&[r.a.createElement(o.b,{key:"workflow-details",path:"/jobs/workflow/:id/details"},r.a.createElement(Dp,{job:c})),r.a.createElement(o.b,{key:"workflow-output",path:"/jobs/workflow/:id/output"},r.a.createElement(ah,{job:c}))],c&&"workflow_job"!==c.type&&[r.a.createElement(o.b,{key:"details",path:"/jobs/:type/:id/details"},r.a.createElement(pm,{type:a.params.type,job:c})),r.a.createElement(o.b,{key:"output",path:"/jobs/:type/:id/output"},r.a.createElement(Ip,{type:a.params.type,job:c})),r.a.createElement(o.b,{key:"not-found",path:"*"},!u&&r.a.createElement(dn,{isNotFound:!0},r.a.createElement(D.b,{to:"/jobs/".concat(a.params.type,"/").concat(a.params.id,"/details")},n._("View Job Details"))))])))}}]),a}(n.Component),rh=Object(c.withI18n)()(Object(o.k)(nh)),ih=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={error:null,job:null,isLoading:!0},n.loadJob=n.loadJob.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadJob()}},{key:"loadJob",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,this.setState({isLoading:!0}),e.prev=2,e.next=5,wt.read({id:t});case 5:a=e.sent,n=a.data,r=n.results[0],this.setState({job:r,isLoading:!1,error:r?null:"not found"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({error:e.t0,isLoading:!1});case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.path,a=e.view,n=e.i18n,i=this.state,l=i.error,c=i.job,s=i.isLoading;if(l)return r.a.createElement(y.a,null,r.a.createElement(q.a,null,"not found"===l?r.a.createElement(dn,{isNotFound:!0},r.a.createElement(D.b,{to:"/jobs"},n._("View all Jobs"))):r.a.createElement(dn,{error:l})));if(s)return r.a.createElement("div",null,"Loading...");var u=Ro[c.type];return r.a.createElement(o.a,{from:t,to:"/jobs/".concat(u,"/").concat(c.id,"/").concat(a)})}}]),a}(n.Component);ih.defaultProps={view:"output"};var lh=Object(c.withI18n)()(ih);var oh=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.g)(),i=Object(o.h)(),l=Object(o.j)(),c=Object(n.useState)({"/jobs":t._({id:"Jobs"})}),s=Object(O.a)(c,2),u=s[0],m=s[1],p=Object(n.useCallback)((function(e){var a;if(e){var n=Ro[e.type];m((a={"/jobs":t._({id:"Jobs"})},Object(d.a)(a,"/jobs/".concat(n,"/").concat(e.id),"".concat(e.name)),Object(d.a)(a,"/jobs/".concat(n,"/").concat(e.id,"/output"),t._({id:"Output"})),Object(d.a)(a,"/jobs/".concat(n,"/").concat(e.id,"/details"),t._({id:"Details"})),a))}}),[t]);function b(e){var t=e.view,a=Object(o.i)().id,n=Object(o.j)().path;return r.a.createElement(lh,{id:a,path:n,view:t})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:u}),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:l.path},r.a.createElement(y.a,null,r.a.createElement(mu,{showTypeColumn:!0}))),r.a.createElement(o.b,{path:"".concat(l.path,"/:id/details")},r.a.createElement(b,{view:"details"})),r.a.createElement(o.b,{path:"".concat(l.path,"/:id/output")},r.a.createElement(b,{view:"output"})),r.a.createElement(o.b,{path:"".concat(l.path,"/:type/:id")},r.a.createElement(rh,{history:a,location:i,setBreadcrumb:p})),r.a.createElement(o.b,{path:"".concat(l.path,"/:id")},r.a.createElement(b,null))))})),ch=a(1020),sh=a(1030),uh=a(299),dh=a.n(uh);function mh(){var e=Object(S.a)(["\n  & .pf-c-brand {\n    max-height: 285px;\n  }\n"]);return mh=function(){return e},e}var ph=Object(N.b)(ch.a)(mh()),bh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",hasAuthError:!1,hasValidationError:!1,isAuthenticating:!1,isLoading:!0,logo:null,loginInfo:null},n.handleChangeUsername=n.handleChangeUsername.bind(Object(ne.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(ne.a)(n)),n.handleLoginButtonClick=n.handleLoginButtonClick.bind(Object(ne.a)(n)),n.loadCustomLoginInfo=n.loadCustomLoginInfo.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCustomLoginInfo();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCustomLoginInfo",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,Et.read();case 4:t=e.sent,a=t.data,n=a.custom_logo,r=a.custom_login_info,i=n?"data:image/jpeg;".concat(n):dh.a,this.setState({logo:i,loginInfo:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({logo:dh.a});case 15:return e.prev=15,this.setState({isLoading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleLoginButtonClick",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.username,r=a.password,i=a.isAuthenticating,t.preventDefault(),!i){e.next=4;break}return e.abrupt("return");case 4:return this.setState({hasAuthError:!1,isAuthenticating:!0}),e.prev=5,e.next=8,Et.login(n,r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),e.t0&&e.t0.response&&401===e.t0.response.status?this.setState({hasValidationError:!0}):this.setState({hasAuthError:!0});case 13:return e.prev=13,this.setState({isAuthenticating:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[5,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeUsername",value:function(e){this.setState({username:e,hasValidationError:!1})}},{key:"handleChangePassword",value:function(e){this.setState({password:e,hasValidationError:!1})}},{key:"render",value:function(){var e,t=this.state,a=t.hasAuthError,n=t.hasValidationError,i=t.username,l=t.password,c=t.isLoading,s=t.logo,u=t.loginInfo,d=this.props,m=d.alt,p=d.i18n,b=d.isAuthenticated;return c?null:b(document.cookie)?r.a.createElement(o.a,{to:"/"}):(e=n?p._({id:"Invalid username or password. Please try again."}):p._({id:"There was a problem signing in. Please try again."}),r.a.createElement(ph,{brandImgSrc:s,brandImgAlt:m||"AWX",loginTitle:p._({id:"Welcome to Ansible {brandName}! Please Sign In.",values:{brandName:"AWX"}}),textContent:u},r.a.createElement(sh.a,{className:a||n?"pf-m-error":"",helperText:e,isValidPassword:!n,isValidUsername:!n,loginButtonLabel:p._({id:"Log In"}),onChangePassword:this.handleChangePassword,onChangeUsername:this.handleChangeUsername,onLoginButtonClick:this.handleLoginButtonClick,passwordLabel:p._({id:"Password"}),passwordValue:l,showHelperText:a||n,usernameLabel:p._({id:"Username"}),usernameValue:i})))}}]),a}(n.Component),fh=Object(c.withI18n)()(Object(o.k)(bh)),hh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Management Jobs"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),vh=Object(c.withI18n)()(hh),_h=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Notification Templates"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),yh=Object(c.withI18n)()(_h);function Eh(){var e=Object(S.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n"]);return Eh=function(){return e},e}function gh(){var e=Object(S.a)(["\n  margin-left: 24px;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n"]);return gh=function(){return e},e}function jh(){var e=Object(S.a)(["\n  margin-left: 8px;\n"]);return jh=function(){return e},e}var Oh=Object(N.b)(Em.a)(jh()),kh=N.b.span(gh()),wh=Object(N.b)(Ul.a)(Eh());var Ch=Object(c.withI18n)()((function(e){var t=e.organization,a=e.isSelected,n=e.onSelect,i=e.detailUrl,l=e.i18n,o="check-action-".concat(t.id);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":o,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-organization-".concat(t.id),checked:a,onChange:n,"aria-labelledby":o}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"divider"},r.a.createElement("span",{id:o},r.a.createElement(D.b,{to:"".concat(i)},r.a.createElement("b",null,t.name)))),r.a.createElement(Sn,{key:"related-field-counts"},r.a.createElement(kh,null,l._({id:"Members"}),r.a.createElement(Oh,{isRead:!0},t.summary_fields.related_field_counts.users)),r.a.createElement(kh,null,l._({id:"Teams"}),r.a.createElement(Oh,{isRead:!0},t.summary_fields.related_field_counts.teams)))]}),r.a.createElement(wh,{"aria-label":"actions","aria-labelledby":o,id:o},t.summary_fields.user_capabilities.edit?r.a.createElement(Ln.a,{content:l._({id:"Edit Organization"}),position:"top"},r.a.createElement($.a,{"aria-label":l._({id:"Edit Organization"}),variant:"plain",component:D.b,to:"/organizations/".concat(t.id,"/edit")},r.a.createElement(Fl.a,null))):"")))})),Sh=ce("organization",{page:1,page_size:20,order_by:"name"});var xh=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(o.j)(),l=Object(n.useState)([]),c=Object(O.a)(l,2),s=c[0],u=c[1],d="".concat(i.url,"/add"),m=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Sh,a.search),e.next=3,Promise.all([vt.read(t),vt.readOptions()]);case 3:return n=e.sent,r=Object(O.a)(n,2),i=r[0],l=r[1],e.abrupt("return",{organizations:i.data.results,organizationCount:i.data.count,actions:l.data.actions});case 8:case"end":return e.stop()}}),e)}))),[a]),{organizations:[],organizationCount:0,actions:{}}),p=m.result,b=p.organizations,f=p.organizationCount,h=p.actions,v=m.error,_=m.isLoading,E=m.request;Object(n.useEffect)((function(){E()}),[E]);var g=s.length===b.length&&s.length>0,j=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(s.map((function(e){var t=e.id;return vt.destroy(t)}))));case 1:case"end":return e.stop()}}),e)}))),[s]),{qsConfig:Sh,allItemsSelected:g,fetchItems:E}),k=j.isLoading,w=j.deleteItems,C=j.deletionError,S=j.clearDeletionError,x=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:u([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=k||_,I=h&&h.POST,D=function(e){u(e?Object(le.a)(b):[])},N=function(e){s.some((function(t){return t.id===e.id}))?u(s.filter((function(t){return t.id!==e.id}))):u(s.concat(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:v,hasContentLoading:T,items:b,itemCount:f,pluralizedItemName:"Organizations",qsConfig:Sh,onRowClick:N,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:g,onSelectAll:D,qsConfig:Sh,additionalControls:[].concat(Object(le.a)(I?[r.a.createElement(Xn,{key:"add",linkTo:d})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:x,itemsToDelete:s,pluralizedItemName:"Organizations"})])}))},renderItem:function(e){return r.a.createElement(Ch,{key:e.id,organization:e,detailUrl:"".concat(i.url,"/").concat(e.id),isSelected:s.some((function(t){return t.id===e.id})),onSelect:function(){return N(e)}})},emptyStateControls:I?r.a.createElement(Xn,{key:"add",linkTo:d}):null}))),r.a.createElement(Gn,{isOpen:C,variant:"error",title:t._({id:"Error!"}),onClose:S},t._({id:"Failed to delete one or more organizations."}),r.a.createElement(cn,{error:C})))}));function Th(e){var t=e.i18n,a=e.me,i=e.instanceGroups,l=e.setInstanceGroups,o=Object(di.c)("custom_virtualenv"),c=Object(O.a)(o,1)[0],s={label:t._({id:"Use Default Ansible Environment"}),value:"/venv/ansible/",key:"default"},u=Object(n.useContext)(k).custom_virtualenvs;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"org-name",name:"name",type:"text",label:t._({id:"Name"}),validate:Ji(null,t),isRequired:!0}),r.a.createElement(gi,{id:"org-description",name:"description",type:"text",label:t._({id:"Description"})}),r.a.createElement(gi,{id:"org-max_hosts",name:"max_hosts",type:"number",label:t._({id:"Max Hosts"}),tooltip:t._({id:"The maximum number of hosts allowed to be managed by this organization. Value defaults to 0 which means no limit. Refer to the Ansible documentation for more details."}),validate:Xi(0,Number.MAX_SAFE_INTEGER,t),me:a||{},isDisabled:!a.is_superuser}),u&&u.length>1&&r.a.createElement(mi.a,{fieldId:"org-custom-virtualenv",label:t._({id:"Ansible Environment"})},r.a.createElement(Hi,Object.assign({id:"org-custom-virtualenv",data:[s].concat(Object(le.a)(u.filter((function(e){return e!==s.value})).map((function(e){return{value:e,label:e,key:e}}))))},c))),r.a.createElement(Rc,{value:i,onChange:l,tooltip:t._({id:"Select the Instance Groups for this Organization to run on."})}))}function Ih(e){var t=e.organization,a=e.onCancel,i=e.onSubmit,l=e.submitError,o=Object(Q.a)(e,["organization","onCancel","onSubmit","submitError"]),c=Object(n.useState)(null),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(!0),p=Object(O.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)([]),v=Object(O.a)(h,2),_=v[0],y=v[1],E=Object(n.useState)([]),g=Object(O.a)(E,2),j=g[0],k=g[1],w=function(){a()};return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id){e.next=4;break}return f(!1),e.abrupt("return");case 4:return d(null),f(!0),e.prev=6,e.next=9,vt.readInstanceGroups(a);case 9:n=e.sent,r=n.data.results,y(i=void 0===r?[]:r),k(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),d(e.t0);case 19:return e.prev=19,f(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,16,19,22]])})))()}),[t]),u?r.a.createElement(dn,{error:u}):b?r.a.createElement(bn,null):r.a.createElement(di.b,{initialValues:{name:t.name,description:t.description,custom_virtualenv:t.custom_virtualenv||"",max_hosts:t.max_hosts||"0"},onSubmit:function(e){var t=Vu(_,j),a=t.added,n=t.removed,r=a.map((function(e){return e.id})),l=n.map((function(e){return e.id}));"number"===typeof e.max_hosts&&"undefined"!==e.max_hosts||(e.max_hosts=0),i(e,r,l)}},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(Th,Object.assign({instanceGroups:j,setInstanceGroups:k},o)),r.a.createElement(Di,{error:l}),r.a.createElement(Vi,{onCancel:w,onSubmit:e.handleSubmit})))}))}Ih.defaultProps={organization:{name:"",description:"",max_hosts:"0",custom_virtualenv:""},submitError:null},Ih.contextTypes={custom_virtualenvs:Gt.a.arrayOf(Gt.a.string)};var Dh=Object(c.withI18n)()(Ih);function Nh(){var e=Object(o.g)(),t=Object(n.useState)(null),a=Object(O.a)(t,2),i=a[0],l=a[1],c=function(){var t=Object(F.a)(U.a.mark((function t(a,n){var r,i;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.create(a);case 3:return r=t.sent,i=r.data,t.next=7,Promise.all(n.map((function(e){return vt.associateInstanceGroup(i.id,e)})));case 7:e.push("/organizations/".concat(i.id)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),l(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),s=function(){e.push("/organizations")};return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(C,null,(function(e){var t=e.me;return r.a.createElement(Dh,{onSubmit:c,onCancel:s,me:t||{},submitError:i})})))))}Nh.contextTypes={custom_virtualenvs:Gt.a.arrayOf(Gt.a.string)};var Lh=Nh;function Rh(){var e=Object(S.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(3, max-content);\n"]);return Rh=function(){return e},e}var Ah=Object(N.b)(Ul.a)(Rh());function Ph(e){var t=e.canToggleNotifications,a=e.notification,n=e.detailUrl,i=e.startedTurnedOn,l=e.successTurnedOn,o=e.errorTurnedOn,c=e.toggleNotification,s=e.i18n,u=e.typeLabels;return r.a.createElement(gn.a,{"aria-labelledby":"items-list-item-".concat(a.id),key:a.id,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:{pathname:n}},r.a.createElement("b",{id:"items-list-item-".concat(a.id)},a.name))),r.a.createElement(Sn,{key:"type"},u[a.notification_type])]}),r.a.createElement(Ah,{"aria-label":"actions","aria-labelledby":"items-list-item-".concat(a.id),id:"items-list-item-".concat(a.id)},r.a.createElement(qo.a,{id:"notification-".concat(a.id,"-started-toggle"),label:s._({id:"Start"}),labelOff:s._({id:"Start"}),isChecked:i,isDisabled:!t,onChange:function(){return c(a.id,i,"started")},"aria-label":s._({id:"Toggle notification start"})}),r.a.createElement(qo.a,{id:"notification-".concat(a.id,"-success-toggle"),label:s._({id:"Success"}),labelOff:s._({id:"Success"}),isChecked:l,isDisabled:!t,onChange:function(){return c(a.id,l,"success")},"aria-label":s._({id:"Toggle notification success"})}),r.a.createElement(qo.a,{id:"notification-".concat(a.id,"-error-toggle"),label:s._({id:"Failure"}),labelOff:s._({id:"Failure"}),isChecked:o,isDisabled:!t,onChange:function(){return c(a.id,o,"error")},"aria-label":s._({id:"Toggle notification failure"})}))))}Ph.defaultProps={errorTurnedOn:!1,startedTurnedOn:!1,successTurnedOn:!1};var zh=Object(c.withI18n)()(Ph),Uh=ce("notification",{page:1,page_size:5,order_by:"name"}),Fh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={contentError:null,hasContentLoading:!0,toggleError:!1,loadingToggleIds:[],itemCount:0,notifications:[],startedTemplateIds:[],successTemplateIds:[],errorTemplateIds:[],typeLabels:null},n.handleNotificationToggle=n.handleNotificationToggle.bind(Object(ne.a)(n)),n.handleNotificationErrorClose=n.handleNotificationErrorClose.bind(Object(ne.a)(n)),n.loadNotifications=n.loadNotifications.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadNotifications()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.loadNotifications()}},{key:"loadNotifications",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u,m,p,b,f,h,v,_,y,E,g,j,k;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.location,r=t.apiModel,i=this.state.typeLabels,l=se(Uh,n.search),o=[ht.read(l)],i||o.push(ht.readOptions()),this.setState({contentError:null,hasContentLoading:!0}),e.prev=6,e.next=9,ht.read(l);case 9:return c=e.sent,s=c.data,u=s.count,m=void 0===u?0:u,p=s.results,b=void 0===p?[]:p,e.next=17,ht.readOptions();case 17:return f=e.sent,h=b.length>0?{id__in:b.map((function(e){return e.id})).join(",")}:{},e.next=21,Promise.all([r.readNotificationTemplatesStarted(a,h),r.readNotificationTemplatesSuccess(a,h),r.readNotificationTemplatesError(a,h)]);case 21:v=e.sent,_=Object(O.a)(v,3),y=_[0].data,E=_[1].data,g=_[2].data,j={itemCount:m,notifications:b,startedTemplateIds:y.results.map((function(e){return e.id})),successTemplateIds:E.results.map((function(e){return e.id})),errorTemplateIds:g.results.map((function(e){return e.id}))},i||(k=f.data.actions.GET.notification_type.choices,j.typeLabels=k.reduce((function(e,t){return Object(oe.a)(Object(oe.a)({},e),{},Object(d.a)({},t[0],t[1]))}),{})),this.setState(j),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(6),this.setState({contentError:e.t0});case 34:return e.prev=34,this.setState({hasContentLoading:!1}),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[6,31,34,37]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleNotificationToggle",value:function(){var e=Object(F.a)(U.a.mark((function e(t,a,n){var r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,i=r.id,l=r.apiModel,"success"===n?o="successTemplateIds":"error"===n?o="errorTemplateIds":"started"===n&&(o="startedTemplateIds"),c=a?function(e){return Object(d.a)({},o,e[o].filter((function(e){return e!==t})))}:function(e){return Object(d.a)({},o,e[o].concat(t))},this.setState((function(e){return{loadingToggleIds:e.loadingToggleIds.concat([t])}})),e.prev=4,!a){e.next=10;break}return e.next=8,l.disassociateNotificationTemplate(i,t,n);case 8:e.next=12;break;case 10:return e.next=12,l.associateNotificationTemplate(i,t,n);case 12:this.setState(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),this.setState({toggleError:e.t0});case 18:return e.prev=18,this.setState((function(e){return{loadingToggleIds:e.loadingToggleIds.filter((function(e){return e!==t}))}})),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,15,18,21]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"handleNotificationErrorClose",value:function(){this.setState({toggleError:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.canToggleNotifications,i=t.i18n,l=this.state,o=l.contentError,c=l.hasContentLoading,s=l.toggleError,u=l.loadingToggleIds,d=l.itemCount,m=l.notifications,p=l.startedTemplateIds,b=l.successTemplateIds,f=l.errorTemplateIds,h=l.typeLabels;return r.a.createElement(n.Fragment,null,r.a.createElement(Nn,{contentError:o,hasContentLoading:c,items:m,itemCount:d,pluralizedItemName:i._({id:"Notifications"}),qsConfig:Uh,toolbarSearchColumns:[{name:i._({id:"Name"}),key:"name",isDefault:!0},{name:i._({id:"Type"}),key:"type",options:[["email",i._({id:"Email"})],["grafana",i._({id:"Grafana"})],["hipchat",i._({id:"Hipchat"})],["irc",i._({id:"IRC"})],["mattermost",i._({id:"Mattermost"})],["pagerduty",i._({id:"Pagerduty"})],["rocketchat",i._({id:"Rocket.Chat"})],["slack",i._({id:"Slack"})],["twilio",i._({id:"Twilio"})],["webhook",i._({id:"Webhook"})]]},{name:i._({id:"Created By (Username)"}),key:"created_by__username"},{name:i._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:i._({id:"Name"}),key:"name"}],renderItem:function(t){return r.a.createElement(zh,{key:t.id,notification:t,detailUrl:"/notifications/".concat(t.id),canToggleNotifications:a&&!u.includes(t.id),toggleNotification:e.handleNotificationToggle,errorTurnedOn:f.includes(t.id),startedTurnedOn:p.includes(t.id),successTurnedOn:b.includes(t.id),typeLabels:h})}}),r.a.createElement(Gn,{variant:"error",title:i._({id:"Error!"}),isOpen:s&&0===u.length,onClose:this.handleNotificationErrorClose},i._({id:"Failed to toggle notification."}),r.a.createElement(cn,{error:s})))}}]),a}(n.Component),Mh=Object(c.withI18n)()(Object(o.k)(Fh));var qh=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.organization,i=Object(o.j)().params.id,l=a.name,c=a.description,s=a.custom_virtualenv,u=a.max_hosts,d=a.created,m=a.modified,p=a.summary_fields,b=Object(n.useState)(null),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(n.useState)(null),y=Object(O.a)(_,2),E=y[0],g=y[1],j=Object(n.useState)(!0),k=Object(O.a)(j,2),w=k[0],C=k[1],S=Object(n.useState)([]),x=Object(O.a)(S,2),T=x[0],I=x[1],N=Object(o.g)();Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(null),C(!0),e.prev=2,e.next=5,vt.readInstanceGroups(i);case 5:t=e.sent,a=t.data.results,I(void 0===a?[]:a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0);case 14:return e.prev=14,C(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()}),[i]);var L=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,vt.destroy(i);case 4:N.push("/organizations"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),g(e.t0);case 10:C(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return w?r.a.createElement(bn,null):h?r.a.createElement(dn,{error:h}):r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:t._({id:"Name"}),value:l,dataCy:"organization-detail-name"}),r.a.createElement(Lr,{label:t._({id:"Description"}),value:c}),r.a.createElement(Lr,{label:t._({id:"Max Hosts"}),value:"".concat(u)}),r.a.createElement(Lr,{label:t._({id:"Ansible Environment"}),value:s}),r.a.createElement(Yr,{label:t._({id:"Created"}),date:d,user:p.created_by}),r.a.createElement(Yr,{label:t._({id:"Last Modified"}),date:m,user:p.modified_by}),T&&T.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:t._({id:"Instance Groups"}),value:r.a.createElement(rr,{numChips:5,totalChips:T.length},T.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))})),r.a.createElement(Z,null,p.user_capabilities.edit&&r.a.createElement($.a,{"aria-label":t._({id:"Edit"}),component:D.b,to:"/organizations/".concat(i,"/edit")},t._({id:"Edit"})),p.user_capabilities&&p.user_capabilities.delete&&r.a.createElement(si,{name:l,modalTitle:t._({id:"Delete Organization"}),onConfirm:L},t._({id:"Delete"}))),E&&r.a.createElement(Gn,{isOpen:E,variant:"error",title:t._({id:"Error!"}),onClose:function(){return g(null)}},t._({id:"Failed to delete organization."}),r.a.createElement(cn,{error:E})))}));function Vh(e){var t=e.organization,a="/organizations/".concat(t.id,"/details"),i=Object(o.g)(),l=Object(n.useState)(null),c=Object(O.a)(l,2),s=c[0],u=c[1],d=function(){var e=Object(F.a)(U.a.mark((function e(n,r,l){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.update(t.id,n);case 3:return e.next=5,Promise.all(r.map((function(e){return vt.associateInstanceGroup(t.id,e)})));case 5:return e.next=7,Promise.all(l.map((function(e){return vt.disassociateInstanceGroup(t.id,e)})));case 7:i.push(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(){i.push(a)};return r.a.createElement(K,null,r.a.createElement(C,null,(function(e){var a=e.me;return r.a.createElement(Dh,{organization:t,onSubmit:d,onCancel:m,me:a||{},submitError:s})})))}Vh.contextTypes={custom_virtualenvs:Gt.a.arrayOf(Gt.a.string)};var Bh=Vh,Wh=ce("team",{page:1,page_size:5,order_by:"name"});var Gh=Object(c.withI18n)()((function(e){var t=e.id,a=e.i18n,i=Object(o.h)(),l=Object(n.useState)(null),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(0),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)([]),E=Object(O.a)(y,2),g=E[0],j=E[1];return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var a,n,r,l,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=se(Wh,i.search),u(null),b(!0),e.prev=3,e.next=6,vt.readTeams(t,a);case 6:n=e.sent,r=n.data,l=r.count,o=void 0===l?0:l,c=r.results,s=void 0===c?[]:c,_(o),j(s.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{url:"/teams/".concat(e.id,"/details")})}))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),u(e.t0);case 19:return e.prev=19,b(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))()}),[t,i]),r.a.createElement(Nn,{contentError:s,hasContentLoading:p,items:g,itemCount:v,pluralizedItemName:"Teams",qsConfig:Wh,toolbarSearchColumns:[{name:a._({id:"Name"}),key:"name",isDefault:!0},{name:a._({id:"Created by (username)"}),key:"created_by__username"},{name:a._({id:"Modified by (username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:a._({id:"Name"}),key:"name"}]})})),Hh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={organization:null,hasContentLoading:!0,contentError:null,isInitialized:!1,isNotifAdmin:!1,isAuditorOfThisOrg:!1,isAdminOfThisOrg:!1},n.loadOrganization=n.loadOrganization.bind(Object(ne.a)(n)),n.loadOrganizationAndRoles=n.loadOrganizationAndRoles.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadOrganizationAndRoles();case 2:this.setState({isInitialized:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.location,r=a.match,i="/organizations/".concat(r.params.id,"/"),!t.location.pathname.startsWith(i)||t.location===n||n.pathname!=="".concat(i,"details")){e.next=5;break}return e.next=5,this.loadOrganization();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadOrganizationAndRoles",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,n=t.setBreadcrumb,r=parseInt(a.params.id,10),this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,Promise.all([vt.readDetail(r),vt.read({page_size:1,role_level:"notification_admin_role"}),vt.read({id:r,role_level:"auditor_role"}),vt.read({id:r,role_level:"admin_role"})]);case 6:i=e.sent,l=Object(O.a)(i,4),o=l[0].data,c=l[1],s=l[2],u=l[3],n(o),this.setState({organization:o,isNotifAdmin:c.data.results.length>0,isAuditorOfThisOrg:s.data.results.length>0,isAdminOfThisOrg:u.data.results.length>0}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),this.setState({contentError:e.t0});case 19:return e.prev=19,this.setState({hasContentLoading:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrganization",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,n=t.setBreadcrumb,r=parseInt(a.params.id,10),this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,vt.readDetail(r);case 6:i=e.sent,l=i.data,n(l),this.setState({organization:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({contentError:e.t0});case 15:return e.prev=15,this.setState({hasContentLoading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.location,a=e.match,n=e.me,i=e.i18n,l=this.state,c=l.organization,s=l.contentError,u=l.hasContentLoading,d=l.isInitialized,m=l.isNotifAdmin,p=l.isAuditorOfThisOrg,b=l.isAdminOfThisOrg,f=n.is_system_auditor||m||p,h=m&&(n.is_system_auditor||p||b),v=[{name:i._({id:"Details"}),link:"".concat(a.url,"/details"),id:0},{name:i._({id:"Access"}),link:"".concat(a.url,"/access"),id:1},{name:i._({id:"Teams"}),link:"".concat(a.url,"/teams"),id:2}];f&&v.push({name:i._({id:"Notifications"}),link:"".concat(a.url,"/notifications"),id:3});var _=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:v}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/organizations"})));return d||(_=null),t.pathname.endsWith("edit")&&(_=null),!u&&s?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:s},404===s.response.status&&r.a.createElement("span",null,i._("Organization not found.")," ",r.a.createElement(D.b,{to:"/organizations"},i._("View all Organizations.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,_,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/organizations/:id",to:"/organizations/:id/details",exact:!0}),c&&r.a.createElement(o.b,{path:"/organizations/:id/edit"},r.a.createElement(Bh,{organization:c})),c&&r.a.createElement(o.b,{path:"/organizations/:id/details"},r.a.createElement(qh,{organization:c})),c&&r.a.createElement(o.b,{path:"/organizations/:id/access"},r.a.createElement(ni,{resource:c,apiModel:vt})),r.a.createElement(o.b,{path:"/organizations/:id/teams"},r.a.createElement(Gh,{id:Number(a.params.id)})),f&&r.a.createElement(o.b,{path:"/organizations/:id/notifications"},r.a.createElement(Mh,{id:Number(a.params.id),canToggleNotifications:h,apiModel:vt})),r.a.createElement(o.b,{key:"not-found",path:"*"},!u&&r.a.createElement(dn,{isNotFound:!0},a.params.id&&r.a.createElement(D.b,{to:"/organizations/".concat(a.params.id,"/details")},i._("View Organization Details")))),",")))}}]),a}(n.Component),Jh=Object(c.withI18n)()(Object(o.k)(Hh)),Kh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a),(n=t.call(this,e)).setBreadcrumbConfig=function(e){var t,a=n.props.i18n;if(e){var r=(t={"/organizations":a._({id:"Organizations"}),"/organizations/add":a._({id:"Create New Organization"})},Object(d.a)(t,"/organizations/".concat(e.id),"".concat(e.name)),Object(d.a)(t,"/organizations/".concat(e.id,"/edit"),a._({id:"Edit Details"})),Object(d.a)(t,"/organizations/".concat(e.id,"/details"),a._({id:"Details"})),Object(d.a)(t,"/organizations/".concat(e.id,"/access"),a._({id:"Access"})),Object(d.a)(t,"/organizations/".concat(e.id,"/teams"),a._({id:"Teams"})),Object(d.a)(t,"/organizations/".concat(e.id,"/notifications"),a._({id:"Notifications"})),t);n.setState({breadcrumbConfig:r})}};var r=e.i18n;return n.state={breadcrumbConfig:{"/organizations":r._({id:"Organizations"}),"/organizations/add":r._({id:"Create New Organization"})}},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,i=t.history,l=t.location,c=this.state.breadcrumbConfig;return r.a.createElement(n.Fragment,null,r.a.createElement(P,{breadcrumbConfig:c}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(a.path,"/add")},r.a.createElement(Lh,null)),r.a.createElement(o.b,{path:"".concat(a.path,"/:id")},r.a.createElement(C,null,(function(t){var a=t.me;return r.a.createElement(Jh,{history:i,location:l,setBreadcrumb:e.setBreadcrumbConfig,me:a||{}})}))),r.a.createElement(o.b,{path:"".concat(a.path)},r.a.createElement(xh,null))))}}]),a}(n.Component),Yh=Object(c.withI18n)()(Object(o.k)(Kh)),Xh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"My View"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),Zh=Object(c.withI18n)()(Xh),Qh=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleCopyClick=function(e){var t=n.props,a=t.stringToCopy,r=t.switchDelay;n.timer&&(window.clearTimeout(n.timer),n.setState({copied:!1})),function(e,t){var a=e.currentTarget.parentElement,n=document.createElement("input");n.value=t,a.appendChild(n),n.select(),document.execCommand("copy"),a.removeChild(n)}(e,a),n.setState({copied:!0},(function(){n.timer=window.setTimeout((function(){n.setState({copied:!1}),n.timer=null}),r)}))},n.state={copied:!1},n.handleCopyClick=n.handleCopyClick.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.clickTip,a=e.entryDelay,n=e.exitDelay,i=e.hoverTip,l=this.state.copied;return r.a.createElement(Ln.a,{entryDelay:a,exitDelay:n,trigger:"mouseenter focus click",content:l?t:i},r.a.createElement($.a,{variant:"plain",onClick:this.handleCopyClick,"aria-label":i},r.a.createElement(Ml.a,null)))}}]),a}(r.a.Component);Qh.defaultProps={entryDelay:100,exitDelay:1600,switchDelay:2e3};var $h=Qh,ev=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={syncError:null},n.handleSync=n.handleSync.bind(Object(ne.a)(n)),n.handleSyncErrorClose=n.handleSyncErrorClose.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleSyncErrorClose",value:function(){this.setState({syncError:null})}},{key:"handleSync",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.i18n,n=t.projectId,e.prev=1,e.next=4,_t.readSync(n);case 4:if(r=e.sent,!r.data.can_update){e.next=11;break}return e.next=9,_t.sync(n);case 9:e.next=12;break;case 11:this.setState({syncError:a._({id:"You don't have the necessary permissions to sync this project."})});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({syncError:e.t0});case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.syncError,t=this.props,a=t.i18n,i=t.children;return r.a.createElement(n.Fragment,null,i(this.handleSync),e&&r.a.createElement(Gn,{isOpen:e,variant:"error",title:a._({id:"Error!"}),onClose:this.handleSyncErrorClose},a._({id:"Failed to sync job."}),r.a.createElement(cn,{error:e})))}}]),a}(r.a.Component),tv=Object(c.withI18n)()(ev),av=Object(N.b)(Ul.a).withConfig({displayName:"ProjectListItem__DataListAction",componentId:"k4ofl4-0"})(["align-items:center;display:grid;grid-gap:16px;grid-template-columns:repeat(3,40px);"]);var nv=Object(c.withI18n)()((function(e){var t,a=e.project,i=e.isSelected,l=e.onSelect,o=e.detailUrl,c=e.i18n,s=e.fetchProjects,u=Object(n.useState)(!1),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.copy(a.id,{name:"".concat(a.name," @ ").concat(Br())});case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)}))),[a.id,a.name,s]),f="check-action-".concat(a.id);return r.a.createElement(gn.a,{key:a.id,"aria-labelledby":f,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-project-".concat(a.id),checked:i,onChange:l,"aria-labelledby":f}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"status",isFilled:!1},a.summary_fields.last_job&&r.a.createElement(Ln.a,{position:"top",content:(t=a.summary_fields.last_job,r.a.createElement(n.Fragment,null,r.a.createElement("div",null,c._({id:"MOST RECENT SYNC"})),r.a.createElement("div",null,c._({id:"JOB ID:"})," ",t.id),r.a.createElement("div",null,c._({id:"STATUS:"})," ",t.status.toUpperCase()),t.finished&&r.a.createElement("div",null,c._({id:"FINISHED:"})," ",t.finished))),key:a.summary_fields.last_job.id},r.a.createElement(D.b,{to:"/jobs/project/".concat(a.summary_fields.last_job.id)},r.a.createElement(Lo,{status:a.summary_fields.last_job.status})))),r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{id:f,to:"".concat(o)},r.a.createElement("b",null,a.name))),r.a.createElement(Sn,{key:"type"},""===a.scm_type?c._({id:"Manual"}):qc(a.scm_type)),r.a.createElement(Sn,{key:"revision"},a.scm_revision.substring(0,7),a.scm_revision?r.a.createElement($h,{stringToCopy:a.scm_revision,hoverTip:c._({id:"Copy full revision to clipboard."}),clickTip:c._({id:"Successfully copied to clipboard!"})}):null)]}),r.a.createElement(av,{"aria-label":"actions","aria-labelledby":f,id:f},a.summary_fields.user_capabilities.start?r.a.createElement(Ln.a,{content:c._({id:"Sync Project"}),position:"top"},r.a.createElement(tv,{projectId:a.id},(function(e){return r.a.createElement($.a,{isDisabled:m,"aria-label":c._({id:"Sync Project"}),variant:"plain",onClick:e},r.a.createElement(Bd.a,null))}))):"",a.summary_fields.user_capabilities.edit?r.a.createElement(Ln.a,{content:c._({id:"Edit Project"}),position:"top"},r.a.createElement($.a,{isDisabled:m,"aria-label":c._({id:"Edit Project"}),variant:"plain",component:D.b,to:"/projects/".concat(a.id,"/edit")},r.a.createElement(Fl.a,null))):"",a.summary_fields.user_capabilities.copy&&r.a.createElement(ql,{copyItem:b,isDisabled:m,onLoading:function(){return p(!0)},onDoneLoading:function(){return p(!1)},helperText:{tooltip:c._({id:"Copy Project"}),errorMessage:c._({id:"Failed to copy project."})}}))))})),rv=ce("project",{page:1,page_size:20,order_by:"name"});var iv=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(o.j)(),l=Object(n.useState)([]),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(rv,a.search),e.next=3,Promise.all([_t.read(t),_t.readOptions()]);case 3:return n=e.sent,r=Object(O.a)(n,2),i=r[0],l=r[1],e.abrupt("return",{projects:i.data.results,itemCount:i.data.count,actions:l.data.actions});case 8:case"end":return e.stop()}}),e)}))),[a]),{projects:[],itemCount:0,actions:{}}),m=d.result,p=m.projects,b=m.itemCount,f=m.actions,h=d.error,v=d.isLoading,_=d.request;Object(n.useEffect)((function(){_()}),[_]);var E=s.length===p.length&&s.length>0,g=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(s.map((function(e){var t=e.id;return _t.destroy(t)}))));case 1:case"end":return e.stop()}}),e)}))),[s]),{qsConfig:rv,allItemsSelected:E,fetchItems:_}),j=g.isLoading,k=g.deleteItems,w=g.deletionError,C=g.clearDeletionError,S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:u([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=j||v,T=f&&f.POST,I=function(e){u(e?Object(le.a)(p):[])},D=function(e){s.some((function(t){return t.id===e.id}))?u(s.filter((function(t){return t.id!==e.id}))):u(s.concat(e))};return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:h,hasContentLoading:x,items:p,itemCount:b,pluralizedItemName:t._({id:"Projects"}),qsConfig:rv,onRowClick:D,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Type"}),key:"scm_type",options:[["",t._({id:"Manual"})],["git",t._({id:"Git"})],["hg",t._({id:"Mercurial"})],["svn",t._({id:"Subversion"})],["insights",t._({id:"Red Hat Insights"})]]},{name:t._({id:"Source Control URL"}),key:"scm_url"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:E,onSelectAll:I,qsConfig:rv,additionalControls:[].concat(Object(le.a)(T?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:S,itemsToDelete:s,pluralizedItemName:t._({id:"Projects"})})])}))},renderItem:function(e){return r.a.createElement(nv,{fetchProjects:_,key:e.id,project:e,detailUrl:"".concat(i.url,"/").concat(e.id),isSelected:s.some((function(t){return t.id===e.id})),onSelect:function(){return D(e)}})},emptyStateControls:T?r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")}):null}))),r.a.createElement(Gn,{isOpen:w,variant:"error","aria-label":t._({id:"Deletion Error"}),title:t._({id:"Error!"}),onClose:C},t._({id:"Failed to delete one or more projects."}),r.a.createElement(cn,{error:w})))})),lv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.tooltip;return r.a.createElement(gi,{id:"project-scm-url",isRequired:!0,label:t._({id:"Source Control URL"}),name:"scm_url",tooltip:a,tooltipMaxWidth:"350px",type:"text",validate:Ji(null,t)})})),ov=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.label;return r.a.createElement(gi,{id:"project-scm-branch",name:"scm_branch",type:"text",label:a,tooltip:t._({id:"Branch to checkout. In addition to branches, you can input tags, commit hashes, and arbitrary refs. Some commit hashes and refs may not be available unless you also provide a custom refspec."})})})),cv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.credential,n=e.onCredentialSelection,i=Object(di.c)("credential")[2];return r.a.createElement(es,{credentialTypeId:a.typeId,label:t._({id:"Source Control Credential"}),value:a.value,onChange:function(e){n("scm",e),i.setValue(e?e.id:"")}})})),sv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.scmUpdateOnLaunch,n=e.hideAllowOverride;return r.a.createElement(Ui,null,r.a.createElement(mi.a,{fieldId:"project-option-checkboxes",label:t._({id:"Options"})},r.a.createElement(Fi,null,r.a.createElement(wi,{id:"option-scm-clean",name:"scm_clean",label:t._({id:"Clean"}),tooltip:t._({id:"Remove any local modifications prior to performing an update."})}),r.a.createElement(wi,{id:"option-scm-delete-on-update",name:"scm_delete_on_update",label:t._({id:"Delete"}),tooltip:t._({id:"Delete the local repository in its entirety prior to performing an update. Depending on the size of the repository this may significantly increase the amount of time required to complete an update."})}),r.a.createElement(wi,{id:"option-scm-update-on-launch",name:"scm_update_on_launch",label:t._({id:"Update Revision on Launch"}),tooltip:t._({id:"Each time a job runs using this project, update the revision of the project prior to starting the job."})}),!n&&r.a.createElement(wi,{id:"option-allow-override",name:"allow_override",label:t._({id:"Allow Branch Override"}),tooltip:t._({id:"Allow changing the Source Control branch or revision in a job template that uses this project."})}))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{size:"md"},t._({id:"Option Details"})),r.a.createElement(gi,{id:"project-cache-timeout",name:"scm_update_cache_timeout",type:"number",min:"0",label:t._({id:"Cache Timeout"}),tooltip:t._({id:"Time in seconds to consider a project to be current. During job runs and callbacks the task system will evaluate the timestamp of the latest project update. If it is older than Cache Timeout, it is not considered current, and a new project update will be performed."})})))})),uv=Object(N.b)("ul").withConfig({displayName:"GitSubForm___StyledUl",componentId:"sc-1jaigv0-0"})(["margin:10px 0 10px 20px"]),dv=Object(N.b)("ul").withConfig({displayName:"GitSubForm___StyledUl2",componentId:"sc-1jaigv0-1"})({margin:"10px 0 10px 20px"}),mv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.credential,n=e.onCredentialSelection,i=e.scmUpdateOnLaunch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lv,{i18n:t,tooltip:r.a.createElement("span",null,t._({id:"Example URLs for GIT Source Control include:"}),r.a.createElement(uv,null,r.a.createElement("li",null,"https://github.com/ansible/ansible.git"),r.a.createElement("li",null,"git@github.com:ansible/ansible.git"),r.a.createElement("li",null,"git://servername.example.com/ansible.git")),t._({id:"Note: When using SSH protocol for GitHub or Bitbucket, enter an SSH key only, do not enter a username (other than git). Additionally, GitHub and Bitbucket do not support password authentication when using SSH. GIT read only protocol (git://) does not use username or password information."}))}),r.a.createElement(ov,{i18n:t,label:t._({id:"Source Control Branch/Tag/Commit"})}),r.a.createElement(gi,{id:"project-scm-refspec",label:t._({id:"Source Control Refspec"}),name:"scm_refspec",type:"text",tooltipMaxWidth:"400px",tooltip:r.a.createElement("span",null,t._({id:"A refspec to fetch (passed to the Ansible git module). This parameter allows access to references via the branch field not otherwise available."}),r.a.createElement("br",null),r.a.createElement("br",null),t._({id:'Note: This field assumes the remote name is "origin".'}),r.a.createElement("br",null),r.a.createElement("br",null),t._({id:"Examples include:"}),r.a.createElement(dv,null,r.a.createElement("li",null,"refs/*:refs/remotes/origin/*"),r.a.createElement("li",null,"refs/pull/62/head:refs/remotes/origin/pull/62/head")),t._({id:'The first fetches all references. The second fetches the Github pull request number 62, in this example the branch needs to be "pull/62/head".'}),r.a.createElement("br",null),r.a.createElement("br",null),t._({id:"For more information, refer to the"})," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.ansible.com/ansible-tower/latest/html/userguide/projects.html#manage-playbooks-using-source-control"},t._({id:"Ansible Tower Documentation."})))}),r.a.createElement(cv,{credential:a,onCredentialSelection:n}),r.a.createElement(sv,{scmUpdateOnLaunch:i}))})),pv=Object(N.b)("ul").withConfig({displayName:"HgSubForm___StyledUl",componentId:"sc-1hwyfsp-0"})({margin:"10px 0 10px 20px"}),bv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.credential,n=e.onCredentialSelection,i=e.scmUpdateOnLaunch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lv,{i18n:t,tooltip:r.a.createElement("span",null,t._({id:"Example URLs for Mercurial Source Control include:"}),r.a.createElement(pv,null,r.a.createElement("li",null,"https://bitbucket.org/username/project"),r.a.createElement("li",null,"ssh://hg@bitbucket.org/username/project"),r.a.createElement("li",null,"ssh://server.example.com/path")),t._({id:"Note: Mercurial does not support password authentication for SSH. Do not put the username and key in the URL. If using Bitbucket and SSH, do not supply your Bitbucket username."}))}),r.a.createElement(ov,{i18n:t,label:t._({id:"Source Control Branch/Tag/Revision"})}),r.a.createElement(cv,{credential:a,onCredentialSelection:n}),r.a.createElement(sv,{scmUpdateOnLaunch:i}))})),fv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.credential,n=e.onCredentialSelection,i=e.scmUpdateOnLaunch,l=Object(di.c)({name:"credential",validate:Ji(t._({id:"Select a value for this field"}),t)}),o=l[1],c=l[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(es,{credentialTypeId:a.typeId,label:t._({id:"Insights Credential"}),helperTextInvalid:o.error,isValid:!o.touched||!o.error,onBlur:function(){return c.setTouched()},onChange:function(e){n("insights",e),c.setValue(e.id)},value:a.value,required:!0}),r.a.createElement(sv,{hideAllowOverride:!0,scmUpdateOnLaunch:i}))})),hv=Object(N.b)(Ii.a).withConfig({displayName:"ManualSubForm___StyledAlert",componentId:"sc-1r1e30l-0"})(["grid-column:1/-1"]),vv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.localPath,n=e.project_base_dir,i=e.project_local_paths,l=Object(le.a)(new Set([].concat(Object(le.a)(i),[a]))),o=[{value:"",key:"",label:t._({id:"Choose a Playbook Directory"})}].concat(Object(le.a)(l.filter((function(e){return e})).map((function(e){return{value:e,key:e,label:e}})))),c=Object(di.c)({name:"local_path",validate:Ji(t._({id:"Select a value for this field"}),t)}),s=Object(O.a)(c,3),u=s[0],d=s[1],m=s[2];return r.a.createElement(r.a.Fragment,null,1===o.length&&r.a.createElement(hv,{title:t._({id:"WARNING:"}),variant:"warning",isInline:!0},t._({id:'There are no available playbook directories in {project_base_dir}. Either that directory is empty, or all of the contents are already assigned to other projects. Create a new directory there and make sure the playbook files can be read by the "awx" system user, or have {brandName} directly retrieve your playbooks from source control using the Source Control Type option above.',values:{project_base_dir:n,brandName:"AWX"}})),r.a.createElement(gi,{id:"project-base-dir",label:t._({id:"Project Base Path"}),name:"base_dir",type:"text",isReadOnly:!0,tooltip:r.a.createElement("span",null,t._({id:"Base path used for locating playbooks. Directories found inside this path will be listed in the playbook directory drop-down. Together the base path and selected playbook directory provide the full path used to locate playbooks."}),r.a.createElement("br",null),r.a.createElement("br",null),t._({id:"Change PROJECTS_ROOT when deploying {brandName} to change this location.",values:{brandName:"AWX"}}))}),r.a.createElement(mi.a,{fieldId:"project-local-path",helperTextInvalid:d.error,isRequired:!0,isValid:!d.touched||!d.error,label:t._({id:"Playbook Directory"})},r.a.createElement(yi,{content:t._({id:"Select from the list of directories found in the Project Base Path. Together the base path and the playbook directory provide the full path used to locate playbooks."})}),r.a.createElement(Hi,Object.assign({},u,{id:"local_path",data:o,onChange:function(e,t){m.setValue(t)}}))))})),_v=Object(N.b)("ul").withConfig({displayName:"SvnSubForm___StyledUl",componentId:"sc-1rlknmz-0"})({margin:"10px 0 10px 20px"}),yv=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.credential,n=e.onCredentialSelection,i=e.scmUpdateOnLaunch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lv,{i18n:t,tooltip:r.a.createElement("span",null,t._({id:"Example URLs for Subversion Source Control include:"}),r.a.createElement(_v,null,r.a.createElement("li",null,"https://github.com/ansible/ansible"),r.a.createElement("li",null,"svn://servername.example.com/path"),r.a.createElement("li",null,"svn+ssh://servername.example.com/path")))}),r.a.createElement(ov,{i18n:t,label:t._({id:"Revision #"})}),r.a.createElement(cv,{credential:a,onCredentialSelection:n}),r.a.createElement(sv,{scmUpdateOnLaunch:i}))})),Ev=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([it.read({kind:"scm"}),it.read({name:"Insights"})]);case 2:if(a=e.sent,n=Object(O.a)(a,2),r=Object(O.a)(n[0].data.results,1),i=r[0],l=Object(O.a)(n[1].data.results,1),o=l[0],t){e.next=10;break}return e.abrupt("return",{scm:{typeId:i.id},insights:{typeId:o.id}});case 10:return c=t.credential_type_id,e.abrupt("return",{scm:{typeId:i.id,value:c===i.id?t:null},insights:{typeId:o.id,value:c===o.id?t:null}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function gv(e){var t=e.project_base_dir,a=e.project_local_paths,n=e.formik,i=e.i18n,l=e.setCredentials,o=e.credentials,c=e.scmTypeOptions,s=e.setScmSubFormState,u=e.scmSubFormState,m={scm_url:"",scm_branch:"",scm_refspec:"",credential:"",scm_clean:!1,scm_delete_on_update:!1,scm_update_on_launch:!1,allow_override:!1,scm_update_cache_timeout:0},p=Object(di.c)({name:"scm_type",validate:Ji(i._({id:"Set a value for this field"}),i)}),b=Object(O.a)(p,3),f=b[0],h=b[1],v=b[2],_=Object(di.c)("custom_virtualenv"),y=Object(O.a)(_,1)[0],g=Object(di.c)({name:"organization",validate:Ji(i._({id:"Select a value for this field"}),i)}),j=Object(O.a)(g,3),k=j[0],w=j[1],S=j[2],x=function(e,t){t.values.scm_type===t.initialValues.scm_type&&function(e){var t=Object(oe.a)({},m);Object.keys(t).forEach((function(a){t[a]=e.values[a]})),s(t)}(n),Object.keys(m).forEach((function(a){e===t.initialValues.scm_type?t.setFieldValue(a,u[a]):t.setFieldValue(a,m[a]),t.setFieldTouched(a,!1)}))},T=function(e,t){l(Object(oe.a)(Object(oe.a)({},o),{},Object(d.a)({},e,Object(oe.a)(Object(oe.a)({},o[e]),{},{value:t}))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"project-name",label:i._({id:"Name"}),name:"name",type:"text",validate:Ji(null,i),isRequired:!0}),r.a.createElement(gi,{id:"project-description",label:i._({id:"Description"}),name:"description",type:"text"}),r.a.createElement(yl,{helperTextInvalid:w.error,isValid:!w.touched||!w.error,onBlur:function(){return S.setTouched()},onChange:function(e){S.setValue(e)},value:k.value,required:!0}),r.a.createElement(mi.a,{fieldId:"project-scm-type",helperTextInvalid:h.error,isRequired:!0,isValid:!h.touched||!h.error,label:i._({id:"Source Control Credential Type"})},r.a.createElement(Hi,Object.assign({},f,{id:"scm_type",data:[{value:"",key:"",label:i._({id:"Choose a Source Control Type"}),isDisabled:!0}].concat(Object(le.a)(c.map((function(e){var t=Object(O.a)(e,2),a=t[0],n=t[1];return"Manual"===n&&(a="manual"),{label:n,value:a,key:a}})))),onChange:function(e,t){v.setValue(t),x(t,n)}}))),""!==n.values.scm_type&&r.a.createElement(Mi,null,r.a.createElement(E.a,{size:"md"},i._({id:"Type Details"})),r.a.createElement(zi,null,{manual:r.a.createElement(vv,{localPath:n.initialValues.local_path,project_base_dir:t,project_local_paths:a}),git:r.a.createElement(mv,{credential:o.scm,onCredentialSelection:T,scmUpdateOnLaunch:n.values.scm_update_on_launch}),hg:r.a.createElement(bv,{credential:o.scm,onCredentialSelection:T,scmUpdateOnLaunch:n.values.scm_update_on_launch}),svn:r.a.createElement(yv,{credential:o.scm,onCredentialSelection:T,scmUpdateOnLaunch:n.values.scm_update_on_launch}),insights:r.a.createElement(fv,{credential:o.insights,onCredentialSelection:T,scmUpdateOnLaunch:n.values.scm_update_on_launch})}[n.values.scm_type])),r.a.createElement(C,null,(function(e){var t=e.custom_virtualenvs;return t&&t.length>1&&r.a.createElement(mi.a,{fieldId:"project-custom-virtualenv",label:i._({id:"Ansible Environment"})},r.a.createElement(yi,{content:i._({id:"Select the playbook to be executed by this job."})}),r.a.createElement(Hi,Object.assign({id:"project-custom-virtualenv",data:[{label:i._({id:"Use Default Ansible Environment"}),value:"/venv/ansible/",key:"default"}].concat(Object(le.a)(t.filter((function(e){return"/venv/ansible/"!==e})).map((function(e){return{label:e,value:e,key:e}}))))},y)))})))}function jv(e){var t=e.i18n,a=e.project,i=e.submitError,l=Object(Q.a)(e,["i18n","project","submitError"]),o=l.handleCancel,c=l.handleSubmit,s=a.summary_fields,u=void 0===s?{}:s,d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!0),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)(null),E=Object(O.a)(y,2),g=E[0],j=E[1],k=Object(n.useState)(null),w=Object(O.a)(k,2),S=w[0],x=w[1],T=Object(n.useState)({scm:{typeId:null,value:null},insights:{typeId:null,value:null}}),I=Object(O.a)(T,2),D=I[0],N=I[1];return Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Ev(u.credential),e.next=4,_t.readOptions();case 4:return a=e.sent,n=a.data.actions.GET.scm_type.choices,e.t0=N,e.next=9,t;case 9:e.t1=e.sent,(0,e.t0)(e.t1),x(n),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(0),b(e.t2);case 17:return e.prev=17,_(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u.credential]),v?r.a.createElement(bn,null):p?r.a.createElement(dn,{error:p}):r.a.createElement(C,null,(function(e){var n,l=e.project_base_dir,s=e.project_local_paths;return r.a.createElement(di.b,{initialValues:{allow_override:a.allow_override||!1,base_dir:l||"",credential:a.credential||"",custom_virtualenv:a.custom_virtualenv||"",description:a.description||"",local_path:a.local_path||"",name:a.name||"",organization:(null===(n=a.summary_fields)||void 0===n?void 0:n.organization)||null,scm_branch:a.scm_branch||"",scm_clean:a.scm_clean||!1,scm_delete_on_update:a.scm_delete_on_update||!1,scm_refspec:a.scm_refspec||"",scm_type:""===a.scm_type?"manual":void 0===a.scm_type?"":a.scm_type,scm_update_cache_timeout:a.scm_update_cache_timeout||0,scm_update_on_launch:a.scm_update_on_launch||!1,scm_url:a.scm_url||""},onSubmit:c},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(gv,{project_base_dir:l,project_local_paths:s,formik:e,i18n:t,setCredentials:N,credentials:D,scmTypeOptions:S,setScmSubFormState:j,scmSubFormState:g}),r.a.createElement(Di,{error:i}),r.a.createElement(Vi,{onCancel:o,onSubmit:e.handleSubmit})))}))}))}jv.defaultProps={project:{},submitError:null};var Ov=Object(c.withI18n)()(jv);var kv=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(o.g)(),c=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"manual"===t.scm_type&&(t.scm_type=""),t.credential||delete t.credential,i(null),e.prev=3,e.next=6,_t.create(Object(oe.a)(Object(oe.a)({},t),{},{organization:t.organization.id}));case 6:a=e.sent,n=a.data.id,l.push("/projects/".concat(n,"/details")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(Ov,{handleCancel:function(){l.push("/projects")},handleSubmit:c,submitError:a}))))},wv=N.b.div.withConfig({displayName:"ScheduleOccurrences__OccurrencesLabel",componentId:"sc-1eb0n73-0"})(["display:inline-block;font-size:var(--pf-c-form__label--FontSize);font-weight:var(--pf-c-form__label--FontWeight);line-height:var(--pf-c-form__label--LineHeight);color:var(--pf-c-form__label--Color);span:first-of-type{font-weight:var(--pf-global--FontWeight--bold);margin-right:10px;}"]),Cv=Object(N.b)(Ir).withConfig({displayName:"ScheduleOccurrences___StyledDetailName",componentId:"sc-1eb0n73-1"})(["grid-column:1 / -1"]),Sv=Object(N.b)(Dr).withConfig({displayName:"ScheduleOccurrences___StyledDetailValue",componentId:"sc-1eb0n73-2"})(["grid-column:1 / -1;margin-top:-10px"]);function xv(e){var t=e.preview,a=void 0===t?{local:[],utc:[]}:t,i=e.i18n,l=Object(n.useState)("local"),o=Object(O.a)(l,2),c=o[0],s=o[1];return a.local.length<2?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Cv,{component:Sr.b.dt,fullWidth:!0},r.a.createElement(er.a,{gutter:"sm"},r.a.createElement(tr.a,null,r.a.createElement(wv,null,r.a.createElement("span",null,i._({id:"Occurrences"})),r.a.createElement("span",null,i._({id:"(Limited to first 10)"})))),r.a.createElement(tr.a,null,r.a.createElement(ic,{buttons:[["local","Local"],["utc","UTC"]],value:c,onChange:function(e){return s(e)}})))),r.a.createElement(Sv,{component:Sr.b.dd,fullWidth:!0},a[c].map((function(e){return r.a.createElement("div",{key:e},"local"===c?Mr(e):qr(e))}))))}xv.defaultProps={preview:{local:[],utc:[]}};var Tv=Object(c.withI18n)()(xv),Iv=Object(N.b)(qo.a).withConfig({displayName:"ScheduleToggle___StyledSwitch",componentId:"sc-6oweiu-0"})(["display:inline-flex;"]);var Dv=Object(c.withI18n)()((function(e){var t=e.schedule,a=e.onToggle,i=e.className,l=e.i18n,o=Object(n.useState)(t.enabled),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.update(t.id,{enabled:!s});case 2:return e.abrupt("return",!s);case 3:case"end":return e.stop()}}),e)}))),[t,s]),t.enabled),h=f.result,v=f.isLoading,_=f.error,y=f.request;return Object(n.useEffect)((function(){h!==s&&(u(h),a&&a(h))}),[h,s,a]),Object(n.useEffect)((function(){_&&b(!0)}),[_]),r.a.createElement(n.Fragment,null,r.a.createElement(Ln.a,{content:t.enabled?l._({id:"Schedule is active"}):l._({id:"Schedule is inactive"}),position:"top"},r.a.createElement(Iv,{className:i,id:"schedule-".concat(t.id,"-toggle"),label:l._({id:"On"}),labelOff:l._({id:"Off"}),isChecked:s,isDisabled:v||!t.summary_fields.user_capabilities.edit,onChange:y,"aria-label":l._({id:"Toggle schedule"})})),p&&_&&!v&&r.a.createElement(Gn,{variant:"error",title:l._({id:"Error!"}),isOpen:_&&!v,onClose:function(){return b(!1)}},l._({id:"Failed to toggle schedule."}),r.a.createElement(cn,{error:_})))})),Nv=Object(N.b)(E.a).withConfig({displayName:"ScheduleDetail__PromptTitle",componentId:"vyy7m-0"})(["--pf-c-title--m-md--FontWeight:700;"]),Lv=Object(N.b)(Nv).withConfig({displayName:"ScheduleDetail___StyledPromptTitle",componentId:"vyy7m-1"})(["grid-column:1 / -1;"]),Rv=Object(N.b)(Dv).withConfig({displayName:"ScheduleDetail___StyledScheduleToggle",componentId:"vyy7m-2"})(["padding-bottom:40px"]);var Av=Object(c.withI18n)()((function(e){var t,a,i=e.schedule,l=e.i18n,c=i.id,s=i.created,u=i.description,d=i.diff_mode,m=i.dtend,p=i.dtstart,b=i.job_tags,f=i.job_type,h=i.inventory,v=i.limit,_=i.modified,y=i.name,E=i.next_run,g=i.rrule,j=i.scm_branch,k=i.skip_tags,w=i.summary_fields,C=i.timezone,S=Object(n.useState)(null),x=Object(O.a)(S,2),T=x[0],I=x[1],N=Object(n.useState)(!1),L=Object(O.a)(N,2),R=L[0],A=L[1],P=Object(o.g)(),z=Object(o.h)().pathname,M=z.substr(0,z.indexOf("schedules")),q=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,gt.destroy(c);case 4:P.push("".concat(M,"schedules")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),I(e.t0);case 10:A(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),V=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([gt.readCredentials(c),gt.createPreview({rrule:g})]);case 2:return t=e.sent,a=Object(O.a)(t,2),n=a[0].data,r=a[1].data,e.abrupt("return",[n.results,r]);case 7:case"end":return e.stop()}}),e)}))),[c,g]),[]),B=Object(O.a)(V.result,2),W=B[0],G=B[1],H=V.isLoading,J=V.error,Y=V.request;Object(n.useEffect)((function(){Y()}),[Y]);var X=Object(zr.c)(g),Q=X.options.freq===zr.a.MINUTELY&&p===m?l._({id:"None (Run Once)"}):X.toText().replace(/^\w/,(function(e){return e.toUpperCase()})),ee=W&&W.length>0||f||h&&w.inventory||j||v||"boolean"===typeof d||b&&b.length>0||k&&k.length>0;return H||R?r.a.createElement(bn,null):J?r.a.createElement(dn,{error:J}):r.a.createElement(K,null,r.a.createElement(Rv,{schedule:i}),r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:l._({id:"Name"}),value:y}),r.a.createElement(Lr,{label:l._({id:"Description"}),value:u}),r.a.createElement(Lr,{label:l._({id:"First Run"}),value:Mr(p)}),r.a.createElement(Lr,{label:l._({id:"Next Run"}),value:Mr(E)}),r.a.createElement(Lr,{label:l._({id:"Last Run"}),value:Mr(m)}),r.a.createElement(Lr,{label:l._({id:"Local Time Zone"}),value:C}),r.a.createElement(Lr,{label:l._({id:"Repeat Frequency"}),value:Q}),r.a.createElement(Tv,{preview:G}),r.a.createElement(Yr,{label:l._({id:"Created"}),date:s,user:w.created_by}),r.a.createElement(Yr,{label:l._({id:"Last Modified"}),date:_,user:w.modified_by}),ee&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Lv,{size:"md"},l._({id:"Prompted Fields"})),r.a.createElement(Lr,{label:l._({id:"Job Type"}),value:f}),h&&w.inventory&&r.a.createElement(Lr,{label:l._({id:"Inventory"}),value:r.a.createElement(D.b,{to:"/inventories/".concat("smart"===w.inventory.kind?"smart_inventory":"inventory","/").concat(w.inventory.id,"/details")},w.inventory.name)}),r.a.createElement(Lr,{label:l._({id:"Source Control Branch"}),value:j}),r.a.createElement(Lr,{label:l._({id:"Limit"}),value:v}),"boolean"===typeof d&&r.a.createElement(Lr,{label:l._({id:"Show Changes"}),value:d?"On":"Off"}),W&&W.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:l._({id:"Credentials"}),value:r.a.createElement(rr,{numChips:5,totalChips:W.length},W.map((function(e){return r.a.createElement(Vc,{key:e.id,credential:e,isReadOnly:!0})})))}),b&&b.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:l._({id:"Job Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:b.split(",").length},b.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),k&&k.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:l._({id:"Skip Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:k.split(",").length},k.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}))),r.a.createElement(Z,null,(null===w||void 0===w||null===(t=w.user_capabilities)||void 0===t?void 0:t.edit)&&r.a.createElement($.a,{"aria-label":l._({id:"Edit"}),component:D.b,to:z.replace("details","edit")},l._({id:"Edit"})),(null===w||void 0===w||null===(a=w.user_capabilities)||void 0===a?void 0:a.delete)&&r.a.createElement(si,{name:y,modalTitle:l._({id:"Delete Schedule"}),onConfirm:q},l._({id:"Delete"}))),T&&r.a.createElement(Gn,{isOpen:T,variant:"danger",title:l._({id:"Error!"}),onClose:function(){return I(null)}},l._({id:"Failed to delete schedule."}),r.a.createElement(cn,{error:T})))}));function Pv(e,t){var a=e.startDateTime.split("T"),n=Object(O.a)(a,2),r=n[0],i=n[1],l=r.split("-"),o=Object(O.a)(l,3),c=o[0],s=o[1],u=o[2],d=i.split(":"),m=Object(O.a)(d,3),p=m[0],b=void 0===p?0:p,f=m[1],h=void 0===f?0:f,v=m[2],_=void 0===v?0:v,y={interval:e.interval,dtstart:new Date(Date.UTC(c,parseInt(s,10)-1,u,b,h,_)),tzid:e.timezone};switch(e.frequency){case"none":y.count=1,y.freq=zr.a.MINUTELY;break;case"minute":y.freq=zr.a.MINUTELY;break;case"hour":y.freq=zr.a.HOURLY;break;case"day":y.freq=zr.a.DAILY;break;case"week":y.freq=zr.a.WEEKLY,y.byweekday=e.daysOfWeek;break;case"month":y.freq=zr.a.MONTHLY,"day"===e.runOn?y.bymonthday=e.runOnDayNumber:"the"===e.runOn&&(y.bysetpos=parseInt(e.runOnTheOccurrence,10),y.byweekday=Gr(e.runOnTheDay,t));break;case"year":y.freq=zr.a.YEARLY,"day"===e.runOn?(y.bymonth=parseInt(e.runOnDayMonth,10),y.bymonthday=e.runOnDayNumber):"the"===e.runOn&&(y.bysetpos=parseInt(e.runOnTheOccurrence,10),y.byweekday=Gr(e.runOnTheDay,t),y.bymonth=parseInt(e.runOnTheMonth,10));break;default:throw new Error(t._({id:"Frequency did not match an expected value"}))}if("none"!==e.frequency)switch(e.end){case"never":break;case"after":y.count=e.occurrences;break;case"onDate":var E=e.endDateTime.split("T"),g=Object(O.a)(E,2),j=g[0],k=g[1],w=j.split("-"),C=Object(O.a)(w,3),S=C[0],x=C[1],T=C[2],I=k.split(":"),D=Object(O.a)(I,3),N=D[0],L=void 0===N?0:N,R=D[1],A=void 0===R?0:R,P=D[2],z=void 0===P?0:P;y.until=new Date(Date.UTC(S,parseInt(x,10)-1,T,L,A,z));break;default:throw new Error(t._({id:"End did not match an expected value"}))}return y}var zv=Object(N.b)(Zn.a).withConfig({displayName:"FrequencyDetailSubform__RunOnRadio",componentId:"sc-1hkj5jz-0"})(["label{display:block;width:100%;}:not(:last-of-type){margin-bottom:10px;}select:not(:first-of-type){margin-left:10px;}"]),Uv=N.b.p.withConfig({displayName:"FrequencyDetailSubform__RunEveryLabel",componentId:"sc-1hkj5jz-1"})(["display:flex;align-items:center;"]),Fv=Object(N.b)(ra.a).withConfig({displayName:"FrequencyDetailSubform__Checkbox",componentId:"sc-1hkj5jz-2"})([":not(:last-of-type){margin-right:10px;}"]);function Mv(e){return function(t){if("number"===typeof t){if(!Number.isInteger(t))return e._({id:"This field must an integer"});if(t<1)return e._({id:"This field must be greater than 0"})}if(!t)return e._({id:"Select a value for this field"})}}var qv=Object(N.b)("div").withConfig({displayName:"FrequencyDetailSubform___StyledDiv",componentId:"sc-1hkj5jz-3"})(["display:flex"]),Vv=Object(N.b)(ka.a).withConfig({displayName:"FrequencyDetailSubform___StyledTextInput",componentId:"sc-1hkj5jz-4"})(["margin-right:10px;"]),Bv=Object(N.b)("div").withConfig({displayName:"FrequencyDetailSubform___StyledDiv2",componentId:"sc-1hkj5jz-5"})(["display:flex"]),Wv=Object(N.b)("div").withConfig({displayName:"FrequencyDetailSubform___StyledDiv3",componentId:"sc-1hkj5jz-6"})(["display:flex;align-items:center;"]),Gv=Object(N.b)("span").withConfig({displayName:"FrequencyDetailSubform___StyledSpan",componentId:"sc-1hkj5jz-7"})(["margin-right:10px;"]),Hv=Object(N.b)(Hi).withConfig({displayName:"FrequencyDetailSubform___StyledAnsibleSelect",componentId:"sc-1hkj5jz-8"})(["margin-right:10px"]),Jv=Object(N.b)("div").withConfig({displayName:"FrequencyDetailSubform___StyledDiv4",componentId:"sc-1hkj5jz-9"})(["display:flex;align-items:center;"]),Kv=Object(N.b)("span").withConfig({displayName:"FrequencyDetailSubform___StyledSpan2",componentId:"sc-1hkj5jz-10"})(["margin-right:10px;"]),Yv=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(di.c)({name:"runOnDayMonth"}),n=Object(O.a)(a,1)[0],i=Object(di.c)({name:"runOnDayNumber"}),l=Object(O.a)(i,1)[0],o=Object(di.c)({name:"runOnTheOccurrence"}),c=Object(O.a)(o,1)[0],s=Object(di.c)({name:"runOnTheDay"}),u=Object(O.a)(s,1)[0],d=Object(di.c)({name:"runOnTheMonth"}),m=Object(O.a)(d,1)[0],p=Object(di.c)({name:"startDateTime"}),b=Object(O.a)(p,1)[0],f=Object(di.c)({name:"daysOfWeek",validate:Ji(t._({id:"Select a value for this field"}),t)}),h=Object(O.a)(f,3),v=h[0],_=h[1],y=h[2],E=Object(di.c)({name:"end",validate:Ji(t._({id:"Select a value for this field"}),t)}),g=Object(O.a)(E,2),j=g[0],k=g[1],w=Object(di.c)({name:"interval",validate:Mv(t)}),C=Object(O.a)(w,2),S=C[0],x=C[1],T=Object(di.c)({name:"runOn",validate:Ji(t._({id:"Select a value for this field"}),t)}),I=Object(O.a)(T,2),D=I[0],N=I[1],L=Object(di.c)({name:"endDateTime",validate:Ji(t._({id:"Select a value for this field"}),t)}),R=Object(O.a)(L,2),A=R[0],P=R[1],z=Object(di.c)({name:"frequency"}),U=Object(O.a)(z,1)[0];Object(di.c)({name:"occurrences",validate:Mv(t)});var F=[{key:"january",value:1,label:t._({id:"January"})},{key:"february",value:2,label:t._({id:"February"})},{key:"march",value:3,label:t._({id:"March"})},{key:"april",value:4,label:t._({id:"April"})},{key:"may",value:5,label:t._({id:"May"})},{key:"june",value:6,label:t._({id:"June"})},{key:"july",value:7,label:t._({id:"July"})},{key:"august",value:8,label:t._({id:"August"})},{key:"september",value:9,label:t._({id:"September"})},{key:"october",value:10,label:t._({id:"October"})},{key:"november",value:11,label:t._({id:"November"})},{key:"december",value:12,label:t._({id:"December"})}],M=function(e,t){var a=Object(le.a)(v.value);t?(a.push(e),y.setValue(a)):y.setValue(a.filter((function(t){return t!==e})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mi.a,{name:"interval",fieldId:"schedule-run-every",helperTextInvalid:x.error,isRequired:!0,isValid:!x.touched||!x.error,label:t._({id:"Run every"})},r.a.createElement(qv,null,r.a.createElement(Vv,Object.assign({id:"schedule-run-every",type:"number",min:"1",step:"1"},S,{onChange:function(e,t){S.onChange(t)}})),r.a.createElement(Uv,null,function(){switch(U.value){case"minute":return t.plural({value:S.value,one:"minute",other:"minutes"});case"hour":return t.plural({value:S.value,one:"hour",other:"hours"});case"day":return t.plural({value:S.value,one:"day",other:"days"});case"week":return t.plural({value:S.value,one:"week",other:"weeks"});case"month":return t.plural({value:S.value,one:"month",other:"months"});case"year":return t.plural({value:S.value,one:"year",other:"years"});default:throw new Error(t._({id:"Frequency did not match an expected value"}))}}()))),"week"===(null===U||void 0===U?void 0:U.value)&&r.a.createElement(mi.a,{name:"daysOfWeek",fieldId:"schedule-days-of-week",helperTextInvalid:_.error,isRequired:!0,isValid:!_.touched||!_.error,label:t._({id:"On days"})},r.a.createElement(Bv,null,r.a.createElement(Fv,{label:t._({id:"Sun"}),isChecked:v.value.includes(zr.a.SU),onChange:function(e){M(zr.a.SU,e)},"aria-label":t._({id:"Sunday"}),id:"schedule-days-of-week-sun",name:"daysOfWeek"}),r.a.createElement(Fv,{label:t._({id:"Mon"}),isChecked:v.value.includes(zr.a.MO),onChange:function(e){M(zr.a.MO,e)},"aria-label":t._({id:"Monday"}),id:"schedule-days-of-week-mon",name:"daysOfWeek"}),r.a.createElement(Fv,{label:t._({id:"Tue"}),isChecked:v.value.includes(zr.a.TU),onChange:function(e){M(zr.a.TU,e)},"aria-label":t._({id:"Tuesday"}),id:"schedule-days-of-week-tue",name:"daysOfWeek"}),r.a.createElement(Fv,{label:t._({id:"Wed"}),isChecked:v.value.includes(zr.a.WE),onChange:function(e){M(zr.a.WE,e)},"aria-label":t._({id:"Wednesday"}),id:"schedule-days-of-week-wed",name:"daysOfWeek"}),r.a.createElement(Fv,{label:t._({id:"Thu"}),isChecked:v.value.includes(zr.a.TH),onChange:function(e){M(zr.a.TH,e)},"aria-label":t._({id:"Thursday"}),id:"schedule-days-of-week-thu",name:"daysOfWeek"}),r.a.createElement(Fv,{label:t._({id:"Fri"}),isChecked:v.value.includes(zr.a.FR),onChange:function(e){M(zr.a.FR,e)},"aria-label":t._({id:"Friday"}),id:"schedule-days-of-week-fri",name:"daysOfWeek"}),r.a.createElement(Fv,{label:t._({id:"Sat"}),isChecked:v.value.includes(zr.a.SA),onChange:function(e){M(zr.a.SA,e)},"aria-label":t._({id:"Saturday"}),id:"schedule-days-of-week-sat",name:"daysOfWeek"}))),("month"===(null===U||void 0===U?void 0:U.value)||"year"===(null===U||void 0===U?void 0:U.value))&&!isNaN(new Date(b.value))&&r.a.createElement(mi.a,{name:"runOn",fieldId:"schedule-run-on",helperTextInvalid:N.error,isRequired:!0,isValid:!N.touched||!N.error,label:t._({id:"Run on"})},r.a.createElement(zv,{id:"schedule-run-on-day",name:"runOn",label:r.a.createElement(Wv,null,"month"===(null===U||void 0===U?void 0:U.value)&&r.a.createElement(Gv,{id:"foobar"},"Day"),"year"===(null===U||void 0===U?void 0:U.value)&&r.a.createElement(Hv,Object.assign({id:"schedule-run-on-day-month",isDisabled:"day"!==D.value,data:F},n)),r.a.createElement(ka.a,Object.assign({id:"schedule-run-on-day-number",type:"number",min:"1",max:"31",step:"1",isDisabled:"day"!==D.value},l,{onChange:function(e,t){l.onChange(t)}}))),value:"day",isChecked:"day"===D.value,onChange:function(e,t){t.target.value="day",D.onChange(t)}}),r.a.createElement(zv,{id:"schedule-run-on-the",name:"runOn",label:r.a.createElement(Jv,null,r.a.createElement(Kv,{id:"foobar"},"The"),r.a.createElement(Hi,Object.assign({id:"schedule-run-on-the-occurrence",isDisabled:"the"!==D.value,data:[{value:1,key:"first",label:t._({id:"First"})},{value:2,key:"second",label:t._({id:"Second"})},{value:3,key:"third",label:t._({id:"Third"})},{value:4,key:"fourth",label:t._({id:"Fourth"})},{value:5,key:"fifth",label:t._({id:"Fifth"})},{value:-1,key:"last",label:t._({id:"Last"})}]},c)),r.a.createElement(Hi,Object.assign({id:"schedule-run-on-the-day",isDisabled:"the"!==D.value,data:[{value:"sunday",key:"sunday",label:t._({id:"Sunday"})},{value:"monday",key:"monday",label:t._({id:"Monday"})},{value:"tuesday",key:"tuesday",label:t._({id:"Tuesday"})},{value:"wednesday",key:"wednesday",label:t._({id:"Wednesday"})},{value:"thursday",key:"thursday",label:t._({id:"Thursday"})},{value:"friday",key:"friday",label:t._({id:"Friday"})},{value:"saturday",key:"saturday",label:t._({id:"Saturday"})},{value:"day",key:"day",label:t._({id:"Day"})},{value:"weekday",key:"weekday",label:t._({id:"Weekday"})},{value:"weekendDay",key:"weekendDay",label:t._({id:"Weekend day"})}]},u)),"year"===(null===U||void 0===U?void 0:U.value)&&r.a.createElement(Hi,Object.assign({id:"schedule-run-on-the-month",isDisabled:"the"!==D.value,data:F},m))),value:"the",isChecked:"the"===D.value,onChange:function(e,t){t.target.value="the",D.onChange(t)}})),r.a.createElement(mi.a,{name:"end",fieldId:"schedule-end",helperTextInvalid:k.error,isRequired:!0,isValid:!k.touched||!k.error,label:t._({id:"End"})},r.a.createElement(Zn.a,{id:"end-never",name:"end",label:t._({id:"Never"}),value:"never",isChecked:"never"===j.value,onChange:function(e,t){t.target.value="never",j.onChange(t)}}),r.a.createElement(Zn.a,{id:"end-after",name:"end",label:t._({id:"After number of occurrences"}),value:"after",isChecked:"after"===j.value,onChange:function(e,t){t.target.value="after",j.onChange(t)}}),r.a.createElement(Zn.a,{id:"end-on-date",name:"end",label:t._({id:"On date"}),value:"onDate",isChecked:"onDate"===j.value,onChange:function(e,t){t.target.value="onDate",j.onChange(t)}})),"after"===(null===j||void 0===j?void 0:j.value)&&r.a.createElement(gi,{id:"schedule-occurrences",label:t._({id:"Occurrences"}),name:"occurrences",type:"number",min:"1",step:"1",validate:Ji(null,t),isRequired:!0}),"onDate"===(null===j||void 0===j?void 0:j.value)&&r.a.createElement(mi.a,{fieldId:"schedule-end-datetime",helperTextInvalid:P.error,isRequired:!0,isValid:!P.touched||!P.error,label:t._({id:"End date/time"})},r.a.createElement("input",Object.assign({className:"pf-c-form-control",type:"datetime-local",id:"schedule-end-datetime",step:"1"},A))))})),Xv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[zr.a.MO,zr.a.TU,zr.a.WE,zr.a.TH,zr.a.FR,zr.a.SA,zr.a.SU].every((function(t){return e.indexOf(t)>-1}))?"day":[zr.a.MO,zr.a.TU,zr.a.WE,zr.a.TH,zr.a.FR].every((function(t){return e.indexOf(t)>-1}))?"weekday":[zr.a.SA,zr.a.SU].every((function(t){return e.indexOf(t)>-1}))?"weekendDay":e.indexOf(zr.a.MO)>-1?"monday":e.indexOf(zr.a.TU)>-1?"tuesday":e.indexOf(zr.a.WE)>-1?"wednesday":e.indexOf(zr.a.TH)>-1?"thursday":e.indexOf(zr.a.FR)>-1?"friday":e.indexOf(zr.a.SA)>-1?"saturday":e.indexOf(zr.a.SU)>-1?"sunday":null};function Zv(e){var t=e.i18n,a=e.zoneOptions,n=Object(di.c)({name:"startDateTime",validate:Ji(t._({id:"Select a valid date and time for this field"}),t)}),i=Object(O.a)(n,2),l=i[0],o=i[1],c=Object(di.c)({name:"timezone",validate:Ji(t._({id:"Select a value for this field"}),t)}),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Object(di.c)({name:"frequency",validate:Ji(t._({id:"Select a value for this field"}),t)}),p=Object(O.a)(m,2),b=p[0],f=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"schedule-name",label:t._({id:"Name"}),name:"name",type:"text",validate:Ji(null,t),isRequired:!0}),r.a.createElement(gi,{id:"schedule-description",label:t._({id:"Description"}),name:"description",type:"text"}),r.a.createElement(mi.a,{fieldId:"schedule-start-datetime",helperTextInvalid:o.error,isRequired:!0,isValid:!o.touched||!o.error,label:t._({id:"Start date/time"})},r.a.createElement("input",Object.assign({className:"pf-c-form-control",type:"datetime-local",id:"schedule-start-datetime",step:"1"},l))),r.a.createElement(mi.a,{name:"timezone",fieldId:"schedule-timezone",helperTextInvalid:d.error,isRequired:!0,isValid:!d.touched||!d.error,label:t._({id:"Local time zone"})},r.a.createElement(Hi,Object.assign({id:"schedule-timezone",data:a},u))),r.a.createElement(mi.a,{name:"frequency",fieldId:"schedule-requency",helperTextInvalid:f.error,isRequired:!0,isValid:!f.touched||!f.error,label:t._({id:"Run frequency"})},r.a.createElement(Hi,Object.assign({id:"schedule-frequency",data:[{value:"none",key:"none",label:t._({id:"None (run once)"})},{value:"minute",key:"minute",label:t._({id:"Minute"})},{value:"hour",key:"hour",label:t._({id:"Hour"})},{value:"day",key:"day",label:t._({id:"Day"})},{value:"week",key:"week",label:t._({id:"Week"})},{value:"month",key:"month",label:t._({id:"Month"})},{value:"year",key:"year",label:t._({id:"Year"})}]},b))),"none"!==b.value&&r.a.createElement(Mi,null,r.a.createElement(E.a,{size:"md"},t._({id:"Frequency Details"})),r.a.createElement(zi,null,r.a.createElement(Yv,null))))}function Qv(e){var t,a=e.handleCancel,i=e.handleSubmit,l=e.i18n,o=e.schedule,c=e.submitError,s=Object(Q.a)(e,["handleCancel","handleSubmit","i18n","schedule","submitError"]),u=new Date,d=new Date(9e5*Math.ceil(u.getTime()/9e5)),m=new Date(d);m.setDate(m.getDate()+1);var p={daysOfWeek:[],description:o.description||"",end:"never",endDateTime:Wr(m),frequency:"none",interval:1,name:o.name||"",occurrences:1,runOn:"day",runOnDayMonth:1,runOnDayNumber:1,runOnTheDay:"sunday",runOnTheMonth:1,runOnTheOccurrence:1,startDateTime:Wr(d),timezone:o.timezone||"America/New_York"},b={};if(Object.keys(o).length>0)if(o.rrule)try{var f=zr.a.fromString(o.rrule.replace(" ","\n")).origOptions,h=f.bymonth,v=f.bymonthday,_=f.bysetpos,y=f.byweekday,E=f.count,g=f.dtstart,j=f.freq,O=f.interval;if(g&&(b.startDateTime=Wr(new Date(qr(g)))),o.until?(b.end="onDate",b.endDateTime=o.until):E&&(b.end="after",b.occurrences=E),O&&(b.interval=O),"number"===typeof j)switch(j){case zr.a.MINUTELY:o.dtstart!==o.dtend&&(b.frequency="minute");break;case zr.a.HOURLY:b.frequency="hour";break;case zr.a.DAILY:b.frequency="day";break;case zr.a.WEEKLY:b.frequency="week",y&&(b.daysOfWeek=y);break;case zr.a.MONTHLY:b.frequency="month",v?b.runOnDayNumber=v:_&&(b.runOn="the",b.runOnTheOccurrence=_,b.runOnTheDay=Xv(y));break;case zr.a.YEARLY:b.frequency="year",v?(b.runOnDayNumber=v,b.runOnDayMonth=h):_&&(b.runOn="the",b.runOnTheOccurrence=_,b.runOnTheDay=Xv(y),b.runOnTheMonth=h)}}catch(I){t=I}else t=new Error(l._({id:"Schedule is missing rrule"}));var k=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.readZoneInfo();case 2:return t=e.sent,a=t.data,e.abrupt("return",a.map((function(e){return{value:e.name,key:e.name,label:e.name}})));case 5:case"end":return e.stop()}}),e)}))),[])),w=k.request,S=k.error,x=k.contentLoading,T=k.result;return Object(n.useEffect)((function(){w()}),[w]),S||t?r.a.createElement(dn,{error:S||t}):x?r.a.createElement(bn,null):r.a.createElement(C,null,(function(){return r.a.createElement(di.b,{initialValues:Object.assign(p,b),onSubmit:i,validate:function(e){var t={},a=e.end,n=e.endDateTime,r=e.frequency,i=e.runOn,o=e.runOnDayNumber,c=e.startDateTime;return"onDate"===a&&new Date(c)>new Date(n)&&(t.endDateTime=l._({id:"Please select an end date/time that comes after the start date/time."})),"month"!==r&&"year"!==r||"day"!==i||!(o<1||o>31)||(t.runOn=l._({id:"Please select a day number between 1 and 31."})),t}},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(Zv,Object.assign({i18n:l,zoneOptions:T},s)),r.a.createElement(Di,{error:c}),r.a.createElement(Vi,{onCancel:a,onSubmit:e.handleSubmit})))}))}))}Qv.defaultProps={schedule:{},submitError:null};var $v=Object(c.withI18n)()(Qv);function e_(e){var t=e.i18n,a=e.schedule,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(o.g)(),d=Object(o.h)().pathname,m=d.substr(0,d.indexOf("schedules")),p=function(){var e=Object(F.a)(U.a.mark((function e(n){var r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new zr.a(Pv(n,t)),e.next=4,gt.update(a.id,{name:n.name,description:n.description,rrule:r.toString().replace(/\n/g," ")});case 4:i=e.sent,l=i.data.id,u.push("".concat(m,"schedules/").concat(l,"/details")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement($v,{schedule:a,handleCancel:function(){return u.push("".concat(m,"schedules/").concat(a.id,"/details"))},handleSubmit:p,submitError:c})))}e_.defaultProps={};var t_=Object(c.withI18n)()(e_);var a_=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=e.unifiedJobTemplate,l=Object(n.useState)(null),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!0),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(null),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(o.i)().scheduleId,E=Object(o.h)(),g=E.pathname,j=g.substr(0,g.indexOf("schedules"));Object(n.useEffect)((function(){(function(){var e=Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.readDetail(y);case 3:t=e.sent,n=t.data,u(n),a(i,n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_(e.t0);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[E.pathname,y,i,a]);var k=[{name:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ju.a,null),t._({id:"Back to Schedules"})),link:"".concat(j,"schedules"),id:99},{name:t._({id:"Details"}),link:"".concat(j,"schedules/").concat(s&&s.id,"/details"),id:0}];if(p)return r.a.createElement(bn,null);if(s.summary_fields.unified_job_template.id!==parseInt(i.id,10))return r.a.createElement(dn,null,s&&r.a.createElement(D.b,{to:"".concat(j,"schedules")},t._({id:"View Schedules"})));if(v)return r.a.createElement(dn,{error:v});var w=null;return E.pathname.includes("schedules/")&&!E.pathname.endsWith("edit")&&(w=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:k}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"".concat(j,"schedules")})))),r.a.createElement(r.a.Fragment,null,w,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"".concat(j,"schedules/:scheduleId"),to:"".concat(j,"schedules/:scheduleId/details"),exact:!0}),s&&[r.a.createElement(o.b,{key:"edit",path:"".concat(j,"schedules/:id/edit")},r.a.createElement(t_,{schedule:s})),r.a.createElement(o.b,{key:"details",path:"".concat(j,"schedules/:scheduleId/details")},r.a.createElement(Av,{schedule:s}))],r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,null,i&&r.a.createElement(D.b,{to:"".concat(j,"details")},t._({id:"View Details"}))))))}));function n_(e){var t=e.i18n,a=e.createSchedule,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(o.g)(),d=Object(o.h)().pathname,m=d.substr(0,d.indexOf("schedules")),p=function(){var e=Object(F.a)(U.a.mark((function e(n){var r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new zr.a(Pv(n,t)),e.next=4,a({name:n.name,description:n.description,rrule:r.toString().replace(/\n/g," ")});case 4:i=e.sent,l=i.data.id,u.push("".concat(m,"schedules/").concat(l)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement($v,{handleCancel:function(){return u.push("".concat(m,"schedules"))},handleSubmit:p,submitError:c})))}n_.defaultProps={};var r_=Object(c.withI18n)()(n_),i_=Object(N.b)(Ul.a).withConfig({displayName:"ScheduleListItem__DataListAction",componentId:"sc-1srdnz4-0"})(["align-items:center;display:grid;grid-gap:16px;grid-template-columns:92px 40px;"]),l_=Object(N.b)($.a).withConfig({displayName:"ScheduleListItem___StyledButton",componentId:"sc-1srdnz4-1"})(["grid-column:2"]);var o_=Object(c.withI18n)()((function(e){var t,a=e.i18n,n=e.isSelected,i=e.onSelect,l=e.schedule,o="check-action-".concat(l.id),c={inventory_update:a._({id:"Inventory Sync"}),job:a._({id:"Playbook Run"}),project_update:a._({id:"Source Control Update"}),system_job:a._({id:"Management Job"}),workflow_job:a._({id:"Workflow Job"})};switch(l.summary_fields.unified_job_template.unified_job_type){case"inventory_update":t="/inventories/".concat(l.summary_fields.inventory.id,"/sources/").concat(l.summary_fields.unified_job_template.id,"/schedules/").concat(l.id);break;case"job":t="/templates/job_template/".concat(l.summary_fields.unified_job_template.id,"/schedules/").concat(l.id);break;case"project_update":t="/projects/".concat(l.summary_fields.unified_job_template.id,"/schedules/").concat(l.id);break;case"system_job":t="/management_jobs/".concat(l.summary_fields.unified_job_template.id,"/schedules/").concat(l.id);break;case"workflow_job":t="/templates/workflow_job_template/".concat(l.summary_fields.unified_job_template.id,"/schedules/").concat(l.id)}return r.a.createElement(gn.a,{key:l.id,"aria-labelledby":o,id:"".concat(l.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-schedule-".concat(l.id),checked:n,onChange:i,"aria-labelledby":o}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{to:"".concat(t,"/details")},r.a.createElement("b",null,l.name))),r.a.createElement(Sn,{key:"type"},c[l.summary_fields.unified_job_template.unified_job_type]),r.a.createElement(Sn,{key:"next_run"},l.next_run&&r.a.createElement(Cr,{stacked:!0},r.a.createElement(Lr,{label:a._({id:"Next Run"}),value:Mr(l.next_run)}))),r.a.createElement(i_,{"aria-label":"actions","aria-labelledby":o,id:o,key:"actions"},r.a.createElement(Dv,{schedule:l}),l.summary_fields.user_capabilities.edit?r.a.createElement(Ln.a,{content:a._({id:"Edit Schedule"}),position:"top"},r.a.createElement(l_,{"aria-label":a._({id:"Edit Schedule"}),variant:"plain",component:D.b,to:"".concat(t,"/edit")},r.a.createElement(Fl.a,null))):"")]})))})),c_=ce("schedule",{page:1,page_size:20,order_by:"unified_job_template__polymorphic_ctype__model"});function s_(e){var t=e.i18n,a=e.loadSchedules,i=e.loadScheduleOptions,l=e.hideAddButton,c=Object(n.useState)([]),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Object(o.h)(),p=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,l,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(c_,m.search),e.next=3,Promise.all([a(t),i()]);case 3:return n=e.sent,r=Object(O.a)(n,2),l=r[0].data,o=l.count,c=l.results,s=r[1],e.abrupt("return",{schedules:c,itemCount:o,actions:s.data.actions});case 10:case"end":return e.stop()}}),e)}))),[m,a,i]),{schedules:[],itemCount:0,actions:{}}),b=p.result,f=b.schedules,h=b.itemCount,v=b.actions,_=p.error,y=p.isLoading,E=p.request;Object(n.useEffect)((function(){E()}),[E]);var g=u.length===f.length&&u.length>0,j=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(u.map((function(e){var t=e.id;return gt.destroy(t)}))));case 1:case"end":return e.stop()}}),e)}))),[u]),{qsConfig:c_,allItemsSelected:g,fetchItems:E}),k=j.isLoading,w=j.deleteItems,C=j.deletionError,S=j.clearDeletionError,x=function(e){d(e?Object(le.a)(f):[])},T=function(e){u.some((function(t){return t.id===e.id}))?d(u.filter((function(t){return t.id!==e.id}))):d(u.concat(e))},I=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:d([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=v&&Object.prototype.hasOwnProperty.call(v,"POST")&&!l;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{contentError:_,hasContentLoading:y||k,items:f,itemCount:h,qsConfig:c_,onRowClick:T,renderItem:function(e){return r.a.createElement(o_,{isSelected:u.some((function(t){return t.id===e.id})),key:e.id,onSelect:function(){return T(e)},schedule:e})},toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"},{name:t._({id:"Next Run"}),key:"next_run"},{name:t._({id:"Type"}),key:"unified_job_template__polymorphic_ctype__model"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:g,onSelectAll:x,qsConfig:c_,additionalControls:[].concat(Object(le.a)(D?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(m.pathname,"/add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:I,itemsToDelete:u,pluralizedItemName:t._({id:"Schedules"})})])}))}}),C&&r.a.createElement(Gn,{isOpen:C,variant:"danger",title:t._({id:"Error!"}),onClose:S},t._({id:"Failed to delete one or more schedules."}),r.a.createElement(cn,{error:C})))}s_.defaultProps={hideAddButton:!1};var u_=Object(c.withI18n)()(s_);var d_=Object(c.withI18n)()((function(e){var t=e.createSchedule,a=e.loadScheduleOptions,n=e.loadSchedules,i=e.setBreadcrumb,l=e.unifiedJobTemplate,c=Object(o.j)();return r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(c.path,"/add")},r.a.createElement(r_,{createSchedule:t})),r.a.createElement(o.b,{key:"details",path:"".concat(c.path,"/:scheduleId")},r.a.createElement(a_,{unifiedJobTemplate:l,setBreadcrumb:i})),r.a.createElement(o.b,{key:"list",path:"".concat(c.path)},r.a.createElement(u_,{loadSchedules:n,loadScheduleOptions:a})))}));var m_=Object(c.withI18n)()((function(e){var t=e.project,a=e.i18n,i=t.allow_override,l=t.created,c=t.custom_virtualenv,s=t.description,u=t.id,d=t.local_path,m=t.modified,p=t.name,b=t.scm_branch,f=t.scm_clean,h=t.scm_delete_on_update,v=t.scm_refspec,_=t.scm_type,y=t.scm_update_on_launch,E=t.scm_update_cache_timeout,g=t.scm_url,j=t.summary_fields,k=Object(n.useState)(null),w=Object(O.a)(k,2),S=w[0],x=w[1],T=Object(n.useState)(!1),I=Object(O.a)(T,2),N=I[0],L=I[1],R=Object(o.g)(),A=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,_t.destroy(u);case 4:R.push("/projects"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),x(e.t0);case 10:L(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),P="";return(f||h||y||i)&&(P=r.a.createElement(oi.a,null,f&&r.a.createElement(ci.a,null,a._({id:"Clean"})),h&&r.a.createElement(ci.a,null,a._({id:"Delete on Update"})),y&&r.a.createElement(ci.a,null,a._({id:"Update Revision on Launch"})),i&&r.a.createElement(ci.a,null,a._({id:"Allow Branch Override"})))),N?r.a.createElement(bn,null):r.a.createElement(K,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:a._({id:"Name"}),value:p,dataCy:"project-detail-name"}),r.a.createElement(Lr,{label:a._({id:"Description"}),value:s}),j.organization&&r.a.createElement(Lr,{label:a._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(j.organization.id,"/details")},j.organization.name)}),r.a.createElement(Lr,{label:a._({id:"Source Control Type"}),value:""===_?a._({id:"Manual"}):qc(t.scm_type)}),r.a.createElement(Lr,{label:a._({id:"Source Control URL"}),value:g}),r.a.createElement(Lr,{label:a._({id:"Source Control Branch"}),value:b}),r.a.createElement(Lr,{label:a._({id:"Source Control Refspec"}),value:v}),j.credential&&r.a.createElement(Lr,{label:a._({id:"Source Control Credential"}),value:r.a.createElement(Vc,{key:j.credential.id,credential:j.credential,isReadOnly:!0})}),P&&r.a.createElement(Lr,{label:a._({id:"Options"}),value:P}),r.a.createElement(Lr,{label:a._({id:"Cache Timeout"}),value:"".concat(E," ").concat(a._({id:"Seconds"}))}),r.a.createElement(Lr,{label:a._({id:"Ansible Environment"}),value:c}),r.a.createElement(C,null,(function(e){var t=e.project_base_dir;return r.a.createElement(Lr,{label:a._({id:"Project Base Path"}),value:t})})),r.a.createElement(Lr,{label:a._({id:"Playbook Directory"}),value:d}),r.a.createElement(Yr,{label:a._({id:"Created"}),date:l,user:j.created_by}),r.a.createElement(Yr,{label:a._({id:"Last Modified"}),date:m,user:j.modified_by})),r.a.createElement(Z,null,j.user_capabilities&&j.user_capabilities.edit&&r.a.createElement($.a,{"aria-label":a._({id:"edit"}),component:D.b,to:"/projects/".concat(u,"/edit")},a._({id:"Edit"})),j.user_capabilities&&j.user_capabilities.delete&&r.a.createElement(si,{name:p,modalTitle:a._({id:"Delete Project"}),onConfirm:A},a._({id:"Delete"}))),S&&r.a.createElement(Gn,{isOpen:S,variant:"error",title:a._({id:"Error!"}),onClose:function(){return x(null)}},a._({id:"Failed to delete project."}),r.a.createElement(cn,{error:S})))}));var p_=function(e){var t=e.project,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.g)(),u=function(){var e=Object(F.a)(U.a.mark((function e(a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"manual"===a.scm_type&&(a.scm_type=""),a.credential||delete a.credential,e.prev=2,e.next=5,_t.update(t.id,Object(oe.a)(Object(oe.a)({},a),{},{organization:a.organization.id}));case 5:n=e.sent,r=n.data.id,s.push("/projects/".concat(r,"/details")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(Ov,{project:t,handleCancel:function(){s.push("/projects/".concat(t.id,"/details"))},handleSubmit:u,submitError:l})))},b_=Object(N.b)(Ul.a).withConfig({displayName:"ProjectJobTemplatesListItem__DataListAction",componentId:"u4o2ha-0"})(["align-items:center;display:grid;grid-gap:16px;grid-template-columns:repeat(2,40px);"]),f_=Object(N.b)(Qa.a).withConfig({displayName:"ProjectJobTemplatesListItem___StyledExclamationTriangleIcon",componentId:"u4o2ha-1"})(["color:#c9190b;margin-left:20px;"]),h_=Object(N.b)($.a).withConfig({displayName:"ProjectJobTemplatesListItem___StyledButton",componentId:"u4o2ha-2"})(["grid-column:1"]),v_=Object(N.b)($.a).withConfig({displayName:"ProjectJobTemplatesListItem___StyledButton2",componentId:"u4o2ha-3"})(["grid-column:2"]);var __=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.template,n=e.isSelected,i=e.onSelect,l=e.detailUrl,o="check-action-".concat(a.id),c=a.summary_fields.user_capabilities.start,s="job_template"===a.type&&(!a.summary_fields.project||!a.summary_fields.inventory&&!a.ask_inventory_on_launch);return r.a.createElement(gn.a,{"aria-labelledby":o,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-jobTemplate-".concat(a.id),checked:n,onChange:i,"aria-labelledby":o}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"divider"},r.a.createElement("span",null,r.a.createElement(D.b,{to:"".concat(l)},r.a.createElement("b",null,a.name))),s&&r.a.createElement("span",null,r.a.createElement(Ln.a,{content:t._({id:"Resources are missing from this template."}),position:"right"},r.a.createElement(f_,null)))),r.a.createElement(Sn,{key:"type"},qc(a.type)),r.a.createElement(Sn,{key:"sparkline"},r.a.createElement(Mo,{jobs:a.summary_fields.recent_jobs}))]}),r.a.createElement(b_,{"aria-label":"actions","aria-labelledby":o,id:o},c&&"job_template"===a.type&&r.a.createElement(Ln.a,{content:t._({id:"Launch Template"}),position:"top"},r.a.createElement(cu,{resource:a},(function(e){var t=e.handleLaunch;return r.a.createElement(h_,{variant:"plain",onClick:t},r.a.createElement(is.a,null))}))),a.summary_fields.user_capabilities.edit&&r.a.createElement(Ln.a,{content:t._({id:"Edit Template"}),position:"top"},r.a.createElement(v_,{variant:"plain",component:D.b,to:"/templates/".concat(a.type,"/").concat(a.id,"/edit")},r.a.createElement(Fl.a,null))))))})),y_=ce("template",{page:1,page_size:20,order_by:"name",type:"job_template,workflow_job_template"});var E_=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.i)().id,i=Object(o.h)(),l=i.pathname,c=i.search,s=Object(n.useState)(null),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(null),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(!0),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)(null),j=Object(O.a)(g,2),k=j[0],w=j[1],C=Object(n.useState)(null),S=Object(O.a)(C,2),x=S[0],T=S[1],I=Object(n.useState)(0),D=Object(O.a)(I,2),N=D[0],L=D[1],R=Object(n.useState)([]),A=Object(O.a)(R,2),P=A[0],z=A[1],M=Object(n.useState)([]),V=Object(O.a)(M,2),B=V[0],W=V[1];Object(n.useEffect)((function(){(function(){var e=Object(F.a)(U.a.mark((function e(){var t,n,r,i,o,s,u,d,p,b,f;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(oe.a)({},se(y_,c)),n=k?Promise.resolve({data:{actions:k}}):mt.readOptions(),r=x?Promise.resolve({data:{actions:x}}):It.readOptions(),l.startsWith("/projects")&&a&&(t.jobtemplate__project=a),i=Promise.all([kt.read(t),n,r]),m(null),e.prev=6,e.next=9,i;case 9:o=e.sent,s=Object(O.a)(o,3),u=s[0].data,d=u.count,p=u.results,b=s[1].data.actions,f=s[2].data.actions,w(b),T(f),L(d),z(p),E(!1),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),h(e.t0);case 26:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(){return e.apply(this,arguments)}})()()}),[l,c,N,a]);var G=function(e){var t=e?Object(le.a)(P):[];W(t)},H=function(e){B.some((function(t){return t.id===e.id}))?W(B.filter((function(t){return t.id!==e.id}))):W(B.concat(e))},J=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,Promise.all(B.map((function(e){var t,a=e.type,n=e.id;return"job_template"===a?t=mt.destroy(n):"workflow_job_template"===a&&(t=It.destroy(n)),t})));case 4:L(N-B.length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),K=k&&Object.prototype.hasOwnProperty.call(k,"POST"),Y=r.a.createElement(Xn,{key:"add",linkTo:"/templates/job_template/add/"}),X=B.length===P.length&&B.length>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:f,hasContentLoading:y,items:P,itemCount:N,pluralizedItemName:t._({id:"Templates"}),qsConfig:y_,onRowClick:H,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Type"}),key:"type",options:[["job_template",t._({id:"Job Template"})],["workflow_job_template",t._({id:"Workflow Template"})]]},{name:t._({id:"Playbook name"}),key:"job_template__playbook"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Inventory"}),key:"job_template__inventory__id"},{name:t._({id:"Last Job Run"}),key:"last_job_run"},{name:t._({id:"Modified"}),key:"modified"},{name:t._({id:"Name"}),key:"name"},{name:t._({id:"Project"}),key:"jobtemplate__project__id"},{name:t._({id:"Type"}),key:"type"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,showExpandCollapse:!0,isAllSelected:X,onSelectAll:G,qsConfig:y_,additionalControls:[].concat(Object(le.a)(K?[Y]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:J,itemsToDelete:B,pluralizedItemName:"Templates"})])}))},renderItem:function(e){return r.a.createElement(__,{key:e.id,value:e.name,template:e,detailUrl:"/templates/".concat(e.type,"/").concat(e.id,"/details"),onSelect:function(){return H(e)},isSelected:B.some((function(t){return t.id===e.id}))})},emptyStateControls:K&&Y})),r.a.createElement(Gn,{isOpen:d,variant:"danger",title:t._({id:"Error!"}),onClose:function(){return m(null)}},t._({id:"Failed to delete one or more templates."}),r.a.createElement(cn,{error:d})))})),g_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={project:null,hasContentLoading:!0,contentError:null,isInitialized:!1,isNotifAdmin:!1},n.createSchedule=n.createSchedule.bind(Object(ne.a)(n)),n.loadProject=n.loadProject.bind(Object(ne.a)(n)),n.loadProjectAndRoles=n.loadProjectAndRoles.bind(Object(ne.a)(n)),n.loadSchedules=n.loadSchedules.bind(Object(ne.a)(n)),n.loadScheduleOptions=n.loadScheduleOptions.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadProjectAndRoles();case 2:this.setState({isInitialized:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.location,r=a.match,i="/projects/".concat(r.params.id,"/"),!t.location.pathname.startsWith(i)||t.location===n||n.pathname!=="".concat(i,"details")){e.next=5;break}return e.next=5,this.loadProject();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadProjectAndRoles",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,n=t.setBreadcrumb,r=parseInt(a.params.id,10),this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,Promise.all([_t.readDetail(r),vt.read({page_size:1,role_level:"notification_admin_role"})]);case 6:i=e.sent,l=Object(O.a)(i,2),o=l[0].data,c=l[1],n(o),this.setState({project:o,isNotifAdmin:c.data.results.length>0}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),this.setState({contentError:e.t0});case 17:return e.prev=17,this.setState({hasContentLoading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadProject",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,n=t.setBreadcrumb,r=parseInt(a.params.id,10),this.setState({contentError:null,hasContentLoading:!0}),e.prev=3,e.next=6,_t.readDetail(r);case 6:i=e.sent,l=i.data,n(l),this.setState({project:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({contentError:e.t0});case 15:return e.prev=15,this.setState({hasContentLoading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"createSchedule",value:function(e){var t=this.state.project;return _t.createSchedule(t.id,e)}},{key:"loadScheduleOptions",value:function(){var e=this.state.project;return _t.readScheduleOptions(e.id)}},{key:"loadSchedules",value:function(e){var t=this.state.project;return _t.readSchedules(t.id,e)}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.match,n=e.me,i=e.i18n,l=e.setBreadcrumb,c=this.state,s=c.project,u=c.contentError,d=c.hasContentLoading,m=c.isInitialized,p=c.isNotifAdmin,b=n.is_system_auditor||p,f=p,h=[{name:i._({id:"Details"}),link:"".concat(a.url,"/details")},{name:i._({id:"Access"}),link:"".concat(a.url,"/access")}];b&&h.push({name:i._({id:"Notifications"}),link:"".concat(a.url,"/notifications")}),h.push({name:i._({id:"Job Templates"}),link:"".concat(a.url,"/job_templates")}),(null===s||void 0===s?void 0:s.scm_type)&&h.push({name:i._({id:"Schedules"}),link:"".concat(a.url,"/schedules")}),h.forEach((function(e,t){e.id=t}));var v=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:h}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/projects"})));return m||(v=null),(t.pathname.endsWith("edit")||t.pathname.includes("schedules/"))&&(v=null),!d&&u?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:u},404===u.response.status&&r.a.createElement("span",null,i._("Project not found.")," ",r.a.createElement(D.b,{to:"/projects"},i._("View all Projects.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,v,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/projects/:id",to:"/projects/:id/details",exact:!0}),s&&r.a.createElement(o.b,{path:"/projects/:id/edit"},r.a.createElement(p_,{project:s})),s&&r.a.createElement(o.b,{path:"/projects/:id/details"},r.a.createElement(m_,{project:s})),s&&r.a.createElement(o.b,{path:"/projects/:id/access"},r.a.createElement(ni,{resource:s,apiModel:_t})),b&&r.a.createElement(o.b,{path:"/projects/:id/notifications"},r.a.createElement(Mh,{id:Number(a.params.id),canToggleNotifications:f,apiModel:_t})),r.a.createElement(o.b,{path:"/projects/:id/job_templates"},r.a.createElement(E_,{id:Number(a.params.id)})),(null===s||void 0===s?void 0:s.scm_type)&&""!==s.scm_type&&r.a.createElement(o.b,{path:"/projects/:id/schedules"},r.a.createElement(d_,{setBreadcrumb:l,unifiedJobTemplate:s,createSchedule:this.createSchedule,loadSchedules:this.loadSchedules,loadScheduleOptions:this.loadScheduleOptions})),r.a.createElement(o.b,{key:"not-found",path:"*"},!d&&r.a.createElement(dn,{isNotFound:!0},a.params.id&&r.a.createElement(D.b,{to:"/projects/".concat(a.params.id,"/details")},i._("View Project Details")))),",")))}}]),a}(n.Component),j_=Object(c.withI18n)()(Object(o.k)(g_)),O_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a),(n=t.call(this,e)).setBreadcrumbConfig=function(e,t){var a,r=n.props.i18n;if(e){var i="/projects/".concat(e.id,"/schedules"),l=(a={"/projects":r._({id:"Projects"}),"/projects/add":r._({id:"Create New Project"})},Object(d.a)(a,"/projects/".concat(e.id),"".concat(e.name)),Object(d.a)(a,"/projects/".concat(e.id,"/edit"),r._({id:"Edit Details"})),Object(d.a)(a,"/projects/".concat(e.id,"/details"),r._({id:"Details"})),Object(d.a)(a,"/projects/".concat(e.id,"/access"),r._({id:"Access"})),Object(d.a)(a,"/projects/".concat(e.id,"/notifications"),r._({id:"Notifications"})),Object(d.a)(a,"/projects/".concat(e.id,"/job_templates"),r._({id:"Job Templates"})),Object(d.a)(a,"".concat(i),r._({id:"Schedules"})),Object(d.a)(a,"".concat(i,"/add"),r._({id:"Create New Schedule"})),Object(d.a)(a,"".concat(i,"/").concat(null===t||void 0===t?void 0:t.id),"".concat(null===t||void 0===t?void 0:t.name)),Object(d.a)(a,"".concat(i,"/").concat(null===t||void 0===t?void 0:t.id,"/details"),r._({id:"Schedule Details"})),Object(d.a)(a,"".concat(i,"/").concat(null===t||void 0===t?void 0:t.id,"/edit"),r._({id:"Edit Details"})),a);n.setState({breadcrumbConfig:l})}};var r=e.i18n;return n.state={breadcrumbConfig:{"/projects":r._({id:"Projects"}),"/projects/add":r._({id:"Create New Project"})}},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,i=t.history,l=t.location,c=this.state.breadcrumbConfig;return r.a.createElement(n.Fragment,null,r.a.createElement(P,{breadcrumbConfig:c}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(a.path,"/add")},r.a.createElement(kv,null)),r.a.createElement(o.b,{path:"".concat(a.path,"/:id")},r.a.createElement(C,null,(function(t){var a=t.me;return r.a.createElement(j_,{history:i,location:l,setBreadcrumb:e.setBreadcrumbConfig,me:a||{}})}))),r.a.createElement(o.b,{path:"".concat(a.path)},r.a.createElement(iv,null))))}}]),a}(n.Component),k_=Object(c.withI18n)()(Object(o.k)(O_));var w_=Object(c.withI18n)()((function(e){var t=e.i18n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:{"/schedules":t._({id:"Schedules"})}}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/schedules"},r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(u_,{loadSchedules:function(e){return gt.read(e)},loadScheduleOptions:function(){return gt.readOptions()},hideAddButton:!0}))))))})),C_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Authentication Settings"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),S_=Object(c.withI18n)()(C_),x_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"Jobs Settings"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),T_=Object(c.withI18n)()(x_),I_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"System Settings"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),D_=Object(c.withI18n)()(I_),N_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"User Interface Settings"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),L_=Object(c.withI18n)()(N_),R_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n,t=y.b.light;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:t,className:"pf-m-condensed"},r.a.createElement(E.a,{size:"2xl"},e._({id:"License"}))),r.a.createElement(y.a,null))}}]),a}(n.Component),A_=Object(c.withI18n)()(R_),P_=Object(N.b)(Ul.a).withConfig({displayName:"TeamListItem__DataListAction",componentId:"sc-1wacgcz-0"})(["align-items:center;display:grid;grid-gap:16px;grid-template-columns:40px;"]),z_=Object(N.b)("b").withConfig({displayName:"TeamListItem___StyledB",componentId:"sc-1wacgcz-1"})(["margin-right:24px"]),U_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.team,a=e.isSelected,i=e.onSelect,l=e.detailUrl,o=e.i18n,c="check-action-".concat(t.id);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":c,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-team-".concat(t.id),checked:a,onChange:i,"aria-labelledby":c}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(D.b,{id:c,to:"".concat(l)},r.a.createElement("b",null,t.name))),r.a.createElement(Sn,{key:"organization"},t.summary_fields.organization&&r.a.createElement(n.Fragment,null,r.a.createElement(z_,null,o._({id:"Organization"})),r.a.createElement(D.b,{to:"/organizations/".concat(t.summary_fields.organization.id,"/details")},r.a.createElement("b",null,t.summary_fields.organization.name))))]}),r.a.createElement(P_,{"aria-label":"actions","aria-labelledby":c,id:c},t.summary_fields.user_capabilities.edit?r.a.createElement(Ln.a,{content:o._({id:"Edit Team"}),position:"top"},r.a.createElement($.a,{"aria-label":o._({id:"Edit Team"}),variant:"plain",component:D.b,to:"/teams/".concat(t.id,"/edit")},r.a.createElement(Fl.a,null))):"")))}}]),a}(r.a.Component),F_=Object(c.withI18n)()(U_),M_=ce("team",{page:1,page_size:20,order_by:"name"});var q_=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(o.j)(),l=Object(n.useState)([]),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(M_,a.search),e.next=3,Promise.all([Ot.read(t),Ot.readOptions()]);case 3:return n=e.sent,r=Object(O.a)(n,2),i=r[0],l=r[1],e.abrupt("return",{teams:i.data.results,itemCount:i.data.count,actions:l.data.actions});case 8:case"end":return e.stop()}}),e)}))),[a]),{teams:[],itemCount:0,actions:{}}),m=d.result,p=m.teams,b=m.itemCount,f=m.actions,h=d.error,v=d.isLoading,_=d.request;Object(n.useEffect)((function(){_()}),[_]);var E=s.length===p.length&&s.length>0,g=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(s.map((function(e){return Ot.destroy(e.id)}))));case 1:case"end":return e.stop()}}),e)}))),[s]),{qsConfig:M_,allItemsSelected:E,fetchItems:_}),j=g.isLoading,k=g.deleteItems,w=g.deletionError,C=g.clearDeletionError,S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:u([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=j||v,T=f&&f.POST,I=function(e){u(e?Object(le.a)(p):[])},D=function(e){s.some((function(t){return t.id===e.id}))?u(s.filter((function(t){return t.id!==e.id}))):u(s.concat(e))};return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:h,hasContentLoading:x,items:p,itemCount:b,pluralizedItemName:t._({id:"Teams"}),qsConfig:M_,onRowClick:D,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Organization Name"}),key:"organization__name"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,isAllSelected:E,onSelectAll:I,qsConfig:M_,additionalControls:[].concat(Object(le.a)(T?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:S,itemsToDelete:s,pluralizedItemName:t._({id:"Teams"})})])}))},renderItem:function(e){return r.a.createElement(F_,{key:e.id,team:e,detailUrl:"".concat(i.url,"/").concat(e.id),isSelected:s.some((function(t){return t.id===e.id})),onSelect:function(){return D(e)}})},emptyStateControls:T?r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")}):null}))),r.a.createElement(Gn,{isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:C},t._({id:"Failed to delete one or more teams."}),r.a.createElement(cn,{error:w})))}));function V_(e){var t=e.team,a=e.i18n,i=Object(n.useState)(t.summary_fields?t.summary_fields.organization:null),l=Object(O.a)(i,2),o=l[0],c=l[1],s=Object(di.c)({name:"organization",validate:Ji(a._({id:"Select a value for this field"}),a)}),u=s[1],d=s[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"team-name",label:a._({id:"Name"}),name:"name",type:"text",validate:Ji(null,a),isRequired:!0}),r.a.createElement(gi,{id:"team-description",label:a._({id:"Description"}),name:"description",type:"text"}),r.a.createElement(yl,{helperTextInvalid:u.error,isValid:!u.touched||!u.error,onBlur:function(){return d.setTouched("organization")},onChange:function(e){d.setValue(e.id),c(e)},value:o,required:!0}))}function B_(e){var t=e.team,a=e.handleCancel,n=e.handleSubmit,i=e.submitError,l=Object(Q.a)(e,["team","handleCancel","handleSubmit","submitError"]);return r.a.createElement(di.b,{initialValues:{description:t.description||"",name:t.name||"",organization:t.organization||""},onSubmit:n},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(V_,Object.assign({team:t},l)),r.a.createElement(Di,{error:i}),r.a.createElement(Vi,{onCancel:a,onSubmit:e.handleSubmit})))}))}B_.defaultProps={team:{},submitError:null};var W_=Object(c.withI18n)()(B_),G_=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ne.a)(n)),n.handleCancel=n.handleCancel.bind(Object(ne.a)(n)),n.state={error:null},n}return Object(h.a)(a,[{key:"handleSubmit",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.history,e.prev=1,e.next=4,Ot.create(t);case 4:n=e.sent,r=n.data,a.push("/teams/".concat(r.id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({error:e.t0});case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCancel",value:function(){this.props.history.push("/teams")}},{key:"render",value:function(){var e=this,t=this.state.error;return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(C,null,(function(a){var n=a.me;return r.a.createElement(W_,{handleSubmit:e.handleSubmit,handleCancel:e.handleCancel,me:n||{},submitError:t})})))))}}]),a}(r.a.Component),H_=Object(o.k)(G_);var J_=Object(c.withI18n)()((function(e){var t=e.team,a=e.i18n,i=t.name,l=t.description,c=t.created,s=t.modified,u=t.summary_fields,d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!1),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(o.g)(),E=Object(o.i)().id,g=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,Ot.destroy(E);case 4:y.push("/teams"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),b(e.t0);case 10:_(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return v?r.a.createElement(bn,null):r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:a._({id:"Name"}),value:i,dataCy:"team-detail-name"}),r.a.createElement(Lr,{label:a._({id:"Description"}),value:l}),r.a.createElement(Lr,{label:a._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(u.organization.id)},u.organization.name)}),r.a.createElement(Lr,{label:a._({id:"Created"}),value:Mr(c)}),r.a.createElement(Lr,{label:a._({id:"Last Modified"}),value:Mr(s)})),r.a.createElement(Z,null,u.user_capabilities&&u.user_capabilities.edit&&r.a.createElement($.a,{"aria-label":a._({id:"Edit"}),component:D.b,to:"/teams/".concat(E,"/edit")},a._({id:"Edit"})),u.user_capabilities&&u.user_capabilities.delete&&r.a.createElement(si,{name:i,modalTitle:a._({id:"Delete Team"}),onConfirm:g},a._({id:"Delete"}))),p&&r.a.createElement(Gn,{isOpen:p,variant:"error",title:a._({id:"Error!"}),onClose:function(){return b(null)}},a._({id:"Failed to delete team."}),r.a.createElement(cn,{error:p})))}));function K_(e){var t=e.team,a=Object(o.g)(),i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=function(){var e=Object(F.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot.update(t.id,n);case 3:a.push("/teams/".concat(t.id,"/details")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){a.push("/teams/".concat(t.id,"/details"))};return r.a.createElement(K,null,r.a.createElement(C,null,(function(e){var a=e.me;return r.a.createElement(W_,{team:t,handleSubmit:u,handleCancel:d,me:a||{},submitError:c})})))}K_.contextTypes={custom_virtualenvs:Gt.a.arrayOf(Gt.a.string)};var Y_=K_;var X_=Object(c.withI18n)()((function(e){var t=e.role,a=e.i18n,n=e.detailUrl,i="teamRole-".concat(t.id);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":i,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name","aria-label":a._({id:"resource name"})},r.a.createElement(D.b,{to:"".concat(n),id:i},r.a.createElement("b",null,t.summary_fields.resource_name))),r.a.createElement(Sn,{key:"type","aria-label":a._({id:"resource type"})},t.summary_fields&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",{css:"margin-right: 24px"},a._({id:"Type"})),t.summary_fields.resource_type_display_name)),r.a.createElement(Sn,{key:"role","aria-label":a._({id:"resource role"})},t.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",{css:"margin-right: 24px"},a._({id:"Role"})),t.name))]})))})),Z_=ce("team",{page:1,page_size:20,order_by:"id"});var Q_=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)().search,i=Object(o.j)(),l=Object(o.i)().id,c=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,i,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Z_,a),e.next=3,Promise.all([Ot.readRoles(l,t),Ot.readRoleOptions(l)]);case 3:return n=e.sent,r=Object(O.a)(n,2),i=r[0].data,o=i.results,c=i.count,s=r[1].data.actions,e.abrupt("return",{roleCount:c,roles:o,options:s});case 10:case"end":return e.stop()}}),e)}))),[l,a]),{roles:[],roleCount:0}),s=c.isLoading,u=c.request,d=c.contentError,m=c.result,p=m.roleCount,b=m.roles,f=m.options;Object(n.useEffect)((function(){u()}),[u]);var h=f&&Object.prototype.hasOwnProperty.call(f,"POST"),v=function(e){var t=e.summary_fields,a=t.resource_id,n=t.resource_type;return e&&n?(null===n||void 0===n?void 0:n.includes("template"))?"/templates/".concat(n,"/").concat(a,"/details"):(null===n||void 0===n?void 0:n.includes("inventory"))?"/inventories/".concat(n,"/").concat(a,"/details"):"/".concat(n,"s/").concat(a,"/details"):null};return r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:d,hasContentLoading:s,items:b,itemCount:p,pluralizedItemName:t._({id:"Teams"}),qsConfig:Z_,toolbarSearchColumns:[{name:t._({id:"Role"}),key:"role_field",isDefault:!0}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"id"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{qsConfig:Z_,additionalControls:Object(le.a)(h?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")})]:[])}))},renderItem:function(e){return r.a.createElement(X_,{key:e.id,role:e,detailUrl:v(e),onSelect:function(){}})},emptyStateControls:h?r.a.createElement(Xn,{key:"add",linkTo:"".concat(i.url,"/add")}):null}))}));var $_=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(null),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!0),f=Object(O.a)(b,2),h=f[0],v=f[1],_=Object(o.h)(),E=Object(o.i)().id;Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot.readDetail(E);case 3:t=e.sent,n=t.data,a(n),s(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[E,a,_]);var g=[{name:t._({id:"Details"}),link:"/teams/".concat(E,"/details"),id:0},{name:t._({id:"Users"}),link:"/teams/".concat(E,"/users"),id:1},{name:t._({id:"Access"}),link:"/teams/".concat(E,"/access"),id:2}],j=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:g}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/teams"})));return _.pathname.endsWith("edit")&&(j=null),!h&&m?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:m},404===m.response.status&&r.a.createElement("span",null,t._("Team not found.")," ",r.a.createElement(D.b,{to:"/teams"},t._("View all Teams.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,j,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/teams/:id",to:"/teams/:id/details",exact:!0}),c&&r.a.createElement(o.b,{path:"/teams/:id/details"},r.a.createElement(J_,{team:c})),c&&r.a.createElement(o.b,{path:"/teams/:id/edit"},r.a.createElement(Y_,{team:c})),c&&r.a.createElement(o.b,{path:"/teams/:id/users"},r.a.createElement("span",null,"Coming soon :)")),c&&r.a.createElement(o.b,{path:"/teams/:id/access"},r.a.createElement(Q_,null)),r.a.createElement(o.b,{key:"not-found",path:"*"},!h&&r.a.createElement(dn,{isNotFound:!0},E&&r.a.createElement(D.b,{to:"/teams/".concat(E,"/details")},t._("View Team Details")))))))}));var ey=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)({"/teams":t._({id:"Teams"}),"/teams/add":t._({id:"Create New Team"})}),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(n.useCallback)((function(e){var a;e&&c((a={"/teams":t._({id:"Teams"}),"/teams/add":t._({id:"Create New Team"})},Object(d.a)(a,"/teams/".concat(e.id),"".concat(e.name)),Object(d.a)(a,"/teams/".concat(e.id,"/edit"),t._({id:"Edit Details"})),Object(d.a)(a,"/teams/".concat(e.id,"/details"),t._({id:"Details"})),Object(d.a)(a,"/teams/".concat(e.id,"/users"),t._({id:"Users"})),Object(d.a)(a,"/teams/".concat(e.id,"/access"),t._({id:"Access"})),a))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:l}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/teams/add"},r.a.createElement(H_,null)),r.a.createElement(o.b,{path:"/teams/:id"},r.a.createElement($_,{setBreadcrumb:s})),r.a.createElement(o.b,{path:"/teams"},r.a.createElement(C,null,(function(e){var t=e.me;return r.a.createElement(q_,{path:"/teams",me:t||{}})})))))})),ty=Object(N.b)(Ul.a).withConfig({displayName:"TemplateListItem__DataListAction",componentId:"emnejp-0"})(["align-items:center;display:grid;grid-gap:16px;grid-template-columns:repeat(3,40px);"]),ay=Object(N.b)(Qa.a).withConfig({displayName:"TemplateListItem___StyledExclamationTriangleIcon",componentId:"emnejp-1"})(["color:#c9190b;margin-left:20px;"]),ny=Object(N.b)($.a).withConfig({displayName:"TemplateListItem___StyledButton",componentId:"emnejp-2"})(["grid-column:1"]),ry=Object(N.b)($.a).withConfig({displayName:"TemplateListItem___StyledButton2",componentId:"emnejp-3"})(["grid-column:2"]);var iy=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.template,i=e.isSelected,l=e.onSelect,o=e.detailUrl,c=e.fetchTemplates,s=Object(n.useState)(!1),u=Object(O.a)(s,2),d=u[0],m=u[1],p="check-action-".concat(a.id),b=a.summary_fields.user_capabilities.start,f=Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("job_template"!==a.type){e.next=5;break}return e.next=3,mt.copy(a.id,{name:"".concat(a.name," @ ").concat(Br())});case 3:e.next=7;break;case 5:return e.next=7,It.copy(a.id,{name:"".concat(a.name," @ ").concat(Br())});case 7:return e.next=9,c();case 9:case"end":return e.stop()}}),e)}))),[c,a.id,a.name,a.type]),h="job_template"===a.type&&(!a.summary_fields.project||!a.summary_fields.inventory&&!a.ask_inventory_on_launch);return r.a.createElement(gn.a,{"aria-labelledby":p,id:"".concat(a.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{isDisabled:d,id:"select-jobTemplate-".concat(a.id),checked:i,onChange:l,"aria-labelledby":p}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"divider"},r.a.createElement("span",null,r.a.createElement(D.b,{to:"".concat(o)},r.a.createElement("b",null,a.name))),h&&r.a.createElement("span",null,r.a.createElement(Ln.a,{content:t._({id:"Resources are missing from this template."}),position:"right"},r.a.createElement(ay,null)))),r.a.createElement(Sn,{key:"type"},qc(a.type)),r.a.createElement(Sn,{key:"sparkline"},r.a.createElement(Mo,{jobs:a.summary_fields.recent_jobs}))]}),r.a.createElement(ty,{"aria-label":"actions","aria-labelledby":p,id:p},b&&"job_template"===a.type&&r.a.createElement(Ln.a,{content:t._({id:"Launch Template"}),position:"top"},r.a.createElement(cu,{resource:a},(function(e){var a=e.handleLaunch;return r.a.createElement(ny,{isDisabled:d,"aria-label":t._({id:"Launch template"}),variant:"plain",onClick:a},r.a.createElement(is.a,null))}))),a.summary_fields.user_capabilities.edit&&r.a.createElement(Ln.a,{content:t._({id:"Edit Template"}),position:"top"},r.a.createElement(ry,{isDisabled:d,"aria-label":t._({id:"Edit Template"}),variant:"plain",component:D.b,to:"/templates/".concat(a.type,"/").concat(a.id,"/edit")},r.a.createElement(Fl.a,null))),a.summary_fields.user_capabilities.copy&&r.a.createElement(ql,{helperText:{tooltip:t._({id:"Copy Template"}),errorMessage:t._({id:"Failed to copy template."})},isDisabled:d,onLoading:function(){return m(!0)},onDoneLoading:function(){return m(!1)},copyItem:f}))))})),ly=ce("template",{page:1,page_size:20,order_by:"name",type:"job_template,workflow_job_template"});var oy=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(n.useState)([]),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(ly,a.search),e.next=3,Promise.all([kt.read(t),mt.readOptions(),It.readOptions()]);case 3:return n=e.sent,e.abrupt("return",{templates:n[0].data.results,count:n[0].data.count,jtActions:n[1].data.actions,wfjtActions:n[2].data.actions});case 5:case"end":return e.stop()}}),e)}))),[a]),{templates:[],count:0,jtActions:{},wfjtActions:{}}),d=u.result,m=d.templates,p=d.count,b=d.jtActions,f=d.wfjtActions,h=u.error,v=u.isLoading,_=u.request;Object(n.useEffect)((function(){_()}),[_]);var E=c.length===m.length&&c.length>0,g=zl(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(c.map((function(e){var t=e.type,a=e.id;return"job_template"===t?mt.destroy(a):"workflow_job_template"===t&&It.destroy(a)}))));case 1:case"end":return e.stop()}}),e)}))),[c]),{qsConfig:ly,allItemsSelected:E,fetchItems:_}),j=g.isLoading,k=g.deleteItems,w=g.deletionError,C=g.clearDeletionError,S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:s([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){s(e?Object(le.a)(m):[])},T=function(e){c.some((function(t){return t.id===e.id}))?s(c.filter((function(t){return t.id!==e.id}))):s(c.concat(e))},I=b&&Object.prototype.hasOwnProperty.call(b,"POST"),D=f&&Object.prototype.hasOwnProperty.call(f,"POST"),N=[];I&&N.push({label:t._({id:"Template"}),url:"/templates/job_template/add/"}),D&&N.push({label:t._({id:"Workflow Template"}),url:"/templates/workflow_job_template/add/"});var L=r.a.createElement(Nu,{key:"add",dropdownItems:N});return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:h,hasContentLoading:v||j,items:m,itemCount:p,pluralizedItemName:t._({id:"Templates"}),qsConfig:ly,onRowClick:T,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Description"}),key:"description"},{name:t._({id:"Type"}),key:"type",options:[["job_template",t._({id:"Job Template"})],["workflow_job_template",t._({id:"Workflow Template"})]]},{name:t._({id:"Playbook name"}),key:"job_template__playbook"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Inventory"}),key:"job_template__inventory__id"},{name:t._({id:"Last Job Run"}),key:"last_job_run"},{name:t._({id:"Modified"}),key:"modified"},{name:t._({id:"Name"}),key:"name"},{name:t._({id:"Project"}),key:"jobtemplate__project__id"},{name:t._({id:"Type"}),key:"type"}],renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{showSelectAll:!0,showExpandCollapse:!0,isAllSelected:E,onSelectAll:x,qsConfig:ly,additionalControls:[].concat(Object(le.a)(I||D?[L]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:S,itemsToDelete:c,pluralizedItemName:"Templates"})])}))},renderItem:function(e){return r.a.createElement(iy,{key:e.id,value:e.name,template:e,detailUrl:"/templates/".concat(e.type,"/").concat(e.id),onSelect:function(){return T(e)},isSelected:c.some((function(t){return t.id===e.id})),fetchTemplates:_})},emptyStateControls:(I||D)&&L})),r.a.createElement(Gn,{"aria-label":t._({id:"Deletion Error"}),isOpen:w,variant:"error",title:t._({id:"Error!"}),onClose:C},t._({id:"Failed to delete one or more templates."}),r.a.createElement(cn,{error:w})))})),cy=a(1001);var sy=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.template,i=a.ask_inventory_on_launch,l=a.allow_simultaneous,c=a.become_enabled,s=a.created,u=a.description,d=a.diff_mode,m=a.extra_vars,p=a.forks,b=a.host_config_key,f=a.job_slice_count,h=a.job_tags,v=a.job_type,_=a.name,y=a.limit,E=a.modified,g=a.playbook,j=a.skip_tags,k=a.timeout,w=a.summary_fields,C=a.use_fact_cache,S=a.url,x=a.verbosity,T=a.webhook_service,I=a.related.webhook_receiver,N=a.webhook_key,L=Object(n.useState)(null),R=Object(O.a)(L,2),A=R[0],P=R[1],z=Object(n.useState)(null),M=Object(O.a)(z,2),q=M[0],V=M[1],B=Object(n.useState)(!1),W=Object(O.a)(B,2),G=W[0],H=W[1],J=Object(n.useState)([]),Y=Object(O.a)(J,2),X=Y[0],Q=Y[1],ee=Object(o.i)().id,te=Object(o.g)();Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(null),H(!0),e.prev=2,e.next=5,mt.readInstanceGroups(ee);case 5:t=e.sent,a=t.data.results,Q(void 0===a?[]:a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),P(e.t0);case 14:return e.prev=14,H(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()}),[ee]);var ae=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.prev=1,e.next=4,mt.destroy(ee);case 4:te.push("/templates"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),V(e.t0);case 10:H(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),ne=w.user_capabilities&&w.user_capabilities.start,re=[{verbosity:0,details:t._({id:"0 (Normal)"})},{verbosity:1,details:t._({id:"1 (Verbose)"})},{verbosity:2,details:t._({id:"2 (More Verbose)"})},{verbosity:3,details:t._({id:"3 (Debug)"})},{verbosity:4,details:t._({id:"4 (Connection Debug)"})},{verbosity:5,details:t._({id:"5 (WinRM Debug)"})}].filter((function(e){return e.verbosity===x})),ie="".concat(window.location.origin+S,"callback/"),le=c||b||l||C,oe=r.a.createElement(kr.a,{component:kr.b.ul},c&&r.a.createElement(Sr.a,{component:Sr.b.li},t._({id:"Enable Privilege Escalation"})),b&&r.a.createElement(Sr.a,{component:Sr.b.li},t._({id:"Allow Provisioning Callbacks"})),l&&r.a.createElement(Sr.a,{component:Sr.b.li},t._({id:"Enable Concurrent Jobs"})),C&&r.a.createElement(Sr.a,{component:Sr.b.li},t._({id:"Use Fact Storage"})));return A?r.a.createElement(dn,{error:A}):G?r.a.createElement(bn,null):r.a.createElement(K,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:t._({id:"Name"}),value:_,dataCy:"jt-detail-name"}),r.a.createElement(Lr,{label:t._({id:"Description"}),value:u}),r.a.createElement(Lr,{label:t._({id:"Job Type"}),value:v}),w.organization?r.a.createElement(Lr,{label:t._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(w.organization.id,"/details")},w.organization.name)}):r.a.createElement(Pr,{label:t._({id:"Organization"})}),w.inventory?r.a.createElement(Lr,{label:t._({id:"Inventory"}),value:function(e,a){var l="smart"===e?"smart_inventory":"inventory";return i?r.a.createElement(n.Fragment,null,r.a.createElement(D.b,{to:"/inventories/".concat(l,"/").concat(a,"/details")},w.inventory.name),r.a.createElement("span",null," ",t._({id:"(Prompt on launch)"}))):r.a.createElement(D.b,{to:"/inventories/".concat(l,"/").concat(a,"/details")},w.inventory.name)}(w.inventory.kind,w.inventory.id)}):!i&&r.a.createElement(Pr,{label:t._({id:"Inventory"})}),w.project?r.a.createElement(Lr,{label:t._({id:"Project"}),value:r.a.createElement(D.b,{to:"/projects/".concat(w.project.id,"/details")},w.project.name)}):r.a.createElement(Pr,{label:t._({id:"Project"})}),r.a.createElement(Lr,{label:t._({id:"Source Control Branch"}),value:a.scm_branch}),r.a.createElement(Lr,{label:t._({id:"Playbook"}),value:g}),r.a.createElement(Lr,{label:t._({id:"Forks"}),value:p||"0"}),r.a.createElement(Lr,{label:t._({id:"Limit"}),value:y}),r.a.createElement(Lr,{label:t._({id:"Verbosity"}),value:re[0].details}),r.a.createElement(Lr,{label:t._({id:"Timeout"}),value:k||"0"}),r.a.createElement(Yr,{label:t._({id:"Created"}),date:s,user:w.created_by}),r.a.createElement(Yr,{label:t._({id:"Last Modified"}),date:E,user:w.modified_by}),r.a.createElement(Lr,{label:t._({id:"Show Changes"}),value:d?"On":"Off"}),r.a.createElement(Lr,{label:t._({id:"Job Slicing"}),value:f}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Lr,{label:t._({id:"Host Config Key"}),value:b}),r.a.createElement(Lr,{label:t._({id:"Provisioning Callback URL"}),value:ie})),T&&r.a.createElement(Lr,{label:t._({id:"Webhook Service"}),value:"github"===T?t._({id:"GitHub"}):t._({id:"GitLab"})}),I&&r.a.createElement(Lr,{label:t._({id:"Webhook URL"}),value:"".concat(document.location.origin).concat(I)}),r.a.createElement(Lr,{label:t._({id:"Webhook Key"}),value:N}),w.webhook_credential&&r.a.createElement(Lr,{label:t._({id:"Webhook Credential"}),value:r.a.createElement(D.b,{to:"/credentials/".concat(w.webhook_credential.id,"/details")},r.a.createElement(cy.a,null,w.webhook_credential.name))}),le&&r.a.createElement(Lr,{label:t._({id:"Options"}),value:oe}),w.credentials&&w.credentials.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:t._({id:"Credentials"}),value:r.a.createElement(rr,{numChips:5,totalChips:w.credentials.length},w.credentials.map((function(e){return r.a.createElement(Vc,{key:e.id,credential:e,isReadOnly:!0})})))}),w.labels&&w.labels.results.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:t._({id:"Labels"}),value:r.a.createElement(rr,{numChips:5,totalChips:w.labels.results.length},w.labels.results.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),X.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:t._({id:"Instance Groups"}),value:r.a.createElement(rr,{numChips:5,totalChips:X.length},X.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),h&&h.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:t._({id:"Job Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:h.split(",").length},h.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),j&&j.length>0&&r.a.createElement(Lr,{fullWidth:!0,label:t._({id:"Skip Tags"}),value:r.a.createElement(rr,{numChips:5,totalChips:j.split(",").length},j.split(",").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)})))}),r.a.createElement(yc,{value:m,rows:4,label:t._({id:"Variables"})})),r.a.createElement(Z,null,w.user_capabilities&&w.user_capabilities.edit&&r.a.createElement($.a,{component:D.b,to:"/templates/job_template/".concat(ee,"/edit"),"aria-label":t._({id:"Edit"})},t._({id:"Edit"})),ne&&r.a.createElement(cu,{resource:a,"aria-label":t._({id:"Launch"})},(function(e){var a=e.handleLaunch;return r.a.createElement($.a,{variant:"secondary",type:"submit",onClick:a},t._({id:"Launch"}))})),w.user_capabilities&&w.user_capabilities.delete&&r.a.createElement(si,{name:_,modalTitle:t._({id:"Delete Job Template"}),onConfirm:ae},t._({id:"Delete"}))),q&&r.a.createElement(Gn,{isOpen:q,variant:"error",title:t._({id:"Error!"}),onClose:function(){return V(null)}},t._({id:"Failed to delete job template."}),r.a.createElement(cn,{error:q})))}));function uy(){var e=Object(S.a)(["\n  --pf-c-check__label--FontSize: var(--pf-c-form__label--FontSize);\n"]);return uy=function(){return e},e}function dy(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: var(--pf-c-form__label--PaddingBottom);\n\n  label {\n    --pf-c-form__label--PaddingBottom: 0px;\n  }\n"]);return dy=function(){return e},e}var my=N.b.div(dy()),py=Object(N.b)(wi)(uy());function by(e){var t=e.children,a=e.fieldId,n=e.i18n,i=e.isRequired,l=e.label,o=e.promptId,c=e.promptName,s=e.tooltip;return r.a.createElement("div",{className:"pf-c-form__group"},r.a.createElement(my,null,r.a.createElement("div",null,r.a.createElement("label",{className:"pf-c-form__label",htmlFor:a},r.a.createElement("span",{className:"pf-c-form__label-text"},l),i&&r.a.createElement("span",{className:"pf-c-form__label-required","aria-hidden":"true"},"*")),s&&r.a.createElement(yi,{content:s})),r.a.createElement(py,{id:o,label:n._({id:"Prompt on launch"}),name:c})),t)}by.defaultProps={isRequired:!1,tooltip:null};var fy=Object(c.withI18n)()(by);function hy(){return(hy=Object(F.a)(U.a.mark((function e(t,a){var n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt.read({page:1,page_size:200,order_by:"name"});case 3:if(r=e.sent,i=r.data,n=i.results,t(n),!i.next||!i.next.includes("page=2")){e.next=13;break}return e.next=10,bt.read({page:2,page_size:200,order_by:"name"});case 10:l=e.sent,o=l.data.results,t(n.concat(o));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),a(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function vy(e){var t=e.value,a=e.placeholder,i=e.onChange,l=e.onError,o=e.createText,c=function(e,t){var a=Object(n.useState)([]),r=Object(O.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)([]),c=Object(O.a)(o,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){if(e!==s&&i.length){var t=e.map((function(e){return i.find((function(t){return t.id===e.id}))}));u(t)}}),[e,i]),{selections:i.length?Cs(s):[],onSelect:function(e,a){s.includes(a)?t(s.filter((function(e){return e!==a}))):t(s.concat(a))},options:i,setOptions:function(e){return l(Cs(e))}}}(t,i),s=c.selections,u=c.onSelect,d=c.options,m=c.setOptions,p=Object(n.useState)(!1),b=Object(O.a)(p,2),f=b[0],h=b[1];Object(n.useEffect)((function(){!function(e,t){hy.apply(this,arguments)}(m,l)}),[]);var v=function(e){return e.map((function(e){return r.a.createElement(ja.a,{key:e.id,"aria-label":e.name,value:e},e.name)}))};return r.a.createElement(Ea.a,{variant:ga.e.typeaheadMulti,onToggle:function(e){h(e)},onSelect:function(e,t){"string"===typeof t&&(t={id:t,name:t}),u(e,t)},onClear:function(){return i([])},onFilter:function(e){var t=e.target.value.toLowerCase(),a=d.filter((function(e){return e.name.toLowerCase().includes(t)}));return v(a)},isCreatable:!0,onCreateOption:function(e){return e=e.trim(),d.includes(e)||m(d.concat({name:e,id:e})),e},selections:s,isExpanded:f,ariaLabelledBy:"label-select",placeholderText:a,createText:o},v(d))}vy.defaultProps={placeholder:""};var _y=vy;function yy(e){var t=e.projectId,a=e.isValid,i=e.field,l=e.onBlur,o=e.onError,c=e.i18n,s=Object(n.useState)([]),u=Object(O.a)(s,2),d=u[0],m=u[1];return Object(n.useEffect)((function(){t&&Object(F.a)(U.a.mark((function e(){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_t.readPlaybooks(t);case 3:a=e.sent,n=a.data,(r=(n||[]).map((function(e){return{value:e,key:e,label:e,isDisabled:!1}}))).unshift({value:"",key:"",label:c._({id:"Choose a playbook"}),isDisabled:!1}),m(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[t,c,o]),r.a.createElement(Hi,Object.assign({id:"template-playbook",data:d,isValid:a},i,{onBlur:l}))}yy.defaultProps={projectId:null};var Ey=Object(c.withI18n)()(yy),gy=a(1002);var jy=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.enableWebhooks,i=e.templateType,l=Object(o.i)().id,c=Object(o.h)().pathname,s=document.location.origin,u=Object(di.c)("webhook_service"),d=Object(O.a)(u,3),m=d[0],p=d[1],b=d[2],f=Object(di.c)("webhook_url"),h=Object(O.a)(f,3),v=h[0],_=h[1],y=h[2],E=Object(di.c)("webhook_key"),g=Object(O.a)(E,3),j=g[0],k=g[1],w=g[2],C=Object(di.c)("webhook_credential"),S=Object(O.a)(C,3),x=S[0],T=S[1],I=S[2],D=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.value){e.next=4;break}return e.next=3,it.read({namespace:"".concat(m.value,"_token")});case 3:r=e.sent;case 4:return e.abrupt("return",null===(t=r)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.results[0])||void 0===n?void 0:n.id);case 5:case"end":return e.stop()}}),e)}))),[m.value])),N=D.request,L=D.error,R=D.isLoading,A=D.result;Object(n.useEffect)((function(){N()}),[N]),Object(n.useEffect)((function(){a?(b.setValue(p.initialValue),y.setValue(_.initialValue),w.setValue(k.initialValue),I.setValue(T.initialValue)):(b.setValue(""),y.setValue(""),w.setValue(""),I.setValue(null))}),[a]);var P=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="job_template"===i?mt.updateWebhookKey(l):It.updateWebhookKey(l),e.next=3,t;case 3:a=e.sent,n=a.data.webhook_key,w.setValue(n);case 6:case"end":return e.stop()}}),e)}))),[w,l,i])),z=P.request,M=P.error,q=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=c.endsWith("/add")||"A NEW WEBHOOK KEY WILL BE GENERATED ON SAVE."===k.initialValue,B=[{value:"",key:"",label:t._({id:"Choose a Webhook Service"}),isDisabled:!0},{value:"github",key:"github",label:t._({id:"GitHub"}),isDisabled:!1},{value:"gitlab",key:"gitlab",label:t._({id:"GitLab"}),isDisabled:!1}];return L||M?r.a.createElement(dn,{error:L}):R?r.a.createElement(bn,null):a&&r.a.createElement(zi,null,r.a.createElement(mi.a,{name:"webhook_service",fieldId:"webhook_service",helperTextInvalid:p.error,label:t._({id:"Webhook Service"})},r.a.createElement(yi,{content:t._({id:"Select a webhook service."})}),r.a.createElement(Hi,Object.assign({},m,{id:"webhook_service",data:B,onChange:function(e,a){b.setValue(a),y.setValue(c.endsWith("/add")?t._({id:"a new webhook url will be generated on save."}).toUpperCase():"".concat(s,"/api/v2/").concat(i,"s/").concat(l,"/").concat(a,"/")),a===p.initialValue||""===a?(w.setValue(k.initialValue),I.setValue(T.initialValue)):(w.setValue(t._({id:"a new webhook key will be generated on save."}).toUpperCase()),I.setValue(null))}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(mi.a,{type:"text",fieldId:"jt-webhookURL",label:t._({id:"Webhook URL"}),name:"webhook_url"},r.a.createElement(yi,{content:t._({id:"Webhook services can launch jobs with this workflow job template by making a POST request to this URL."})}),r.a.createElement(ka.a,{id:"t-webhookURL","aria-label":t._({id:"Webhook URL"}),value:v.value,isReadOnly:!0})),r.a.createElement(mi.a,{label:t._({id:"Webhook Key"}),fieldId:"template-webhook_key"},r.a.createElement(yi,{content:t._({id:"Webhook services can use this as a shared secret."})}),r.a.createElement(Oa.a,null,r.a.createElement(ka.a,{id:"template-webhook_key",isReadOnly:!0,"aria-label":"wfjt-webhook-key",value:j.value}),r.a.createElement($.a,{isDisabled:V,variant:"tertiary","aria-label":t._({id:"Update webhook key"}),onClick:q},r.a.createElement(gy.a,null))))),A&&r.a.createElement(es,{label:t._({id:"Webhook Credential"}),tooltip:t._({id:"Optionally select the credential to use to send status updates back to the webhook service."}),credentialTypeId:A,onChange:function(e){I.setValue(e||null)},isValid:!T.error,helperTextInvalid:T.error,value:x.value}))})),Oy=document.location.origin;function ky(e){var t,a,i,l=e.template,o=e.validateField,c=e.handleCancel,s=e.handleSubmit,u=e.setFieldValue,d=e.submitError,m=e.i18n,p=Object(n.useState)(!1),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(null===l||void 0===l||null===(t=l.summary_fields)||void 0===t?void 0:t.project),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)(null===l||void 0===l||null===(a=l.summary_fields)||void 0===a?void 0:a.inventory),j=Object(O.a)(g,2),k=j[0],w=j[1],C=Object(n.useState)(Boolean(null===l||void 0===l?void 0:l.host_config_key)),S=Object(O.a)(C,2),x=S[0],T=S[1],I=Object(n.useState)(Boolean(l.webhook_service)),D=Object(O.a)(I,2),N=D[0],L=D[1],R=Object(di.d)().values,A=Object(di.c)({name:"job_type",validate:Ji(null,m)}),P=Object(O.a)(A,3),z=P[0],M=P[1],q=P[2],V=Object(di.c)("inventory"),B=Object(O.a)(V,3),W=B[1],G=B[2],H=Object(di.c)({name:"project",validate:function(){return He()}}),J=Object(O.a)(H,3),K=J[0],Y=J[1],X=J[2],Z=Object(di.c)("scm_branch"),Q=Object(O.a)(Z,3),$=Q[0],ee=Q[2],te=Object(di.c)({name:"playbook",validate:Ji(m._({id:"Select a value for this field"}),m)}),ae=Object(O.a)(te,3),ne=ae[0],re=ae[1],ie=ae[2],oe=Object(di.c)("credentials"),ce=Object(O.a)(oe,3),se=ce[0],ue=ce[2],de=Object(di.c)("labels"),me=Object(O.a)(de,3),pe=me[0],be=me[2],fe=Object(di.c)("limit"),he=Object(O.a)(fe,2),ve=he[0],_e=he[1],ye=Object(di.c)("verbosity"),Ee=Object(O.a)(ye,1)[0],ge=Object(di.c)("diff_mode"),je=Object(O.a)(ge,3),Oe=je[0],ke=je[2],we=Object(di.c)("instanceGroups"),Ce=Object(O.a)(we,3),Se=Ce[0],xe=Ce[2],Te=Object(di.c)("job_tags"),Ie=Object(O.a)(Te,3),De=Ie[0],Ne=Ie[2],Le=Object(di.c)("skip_tags"),Re=Object(O.a)(Le,3),Ae=Re[0],Pe=Re[2],ze=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||void 0===l?void 0:l.project)){e.next=6;break}return e.next=3,_t.readDetail(null===l||void 0===l?void 0:l.project);case 3:t=e.sent,o("project"),E(t.data);case 6:case"end":return e.stop()}}),e)}))),[l,o])),Ue=ze.request,Fe=ze.error,Me=ze.contentLoading,qe=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===l||void 0===l?void 0:l.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mt.readInstanceGroups(l.id);case 4:t=e.sent,a=t.data,u("initialInstanceGroups",a.results),u("instanceGroups",Object(le.a)(a.results));case 8:case"end":return e.stop()}}),e)}))),[u,l])),Ve=qe.request,Be=qe.error,We=qe.contentLoading;Object(n.useEffect)((function(){Ue()}),[Ue]),Object(n.useEffect)((function(){Ve()}),[Ve]);var Ge,He=function(){return!y&&Y.touched?m._({id:"Select a value for this field"}):y&&"never updated"===y.status?m._({id:"This project needs to be updated"}):void 0},Je=Object(n.useCallback)((function(e){(null===y||void 0===y?void 0:y.id)!==(null===e||void 0===e?void 0:e.id)&&ie.setValue(0),E(e),X.setValue(e),ee.setValue("")}),[]),Ke=[{value:"",key:"",label:m._({id:"Choose a job type"}),isDisabled:!0},{value:"run",key:"run",label:m._({id:"Run"}),isDisabled:!1},{value:"check",key:"check",label:m._({id:"Check"}),isDisabled:!1}],Ye=[{value:"0",key:"0",label:m._({id:"0 (Normal)"})},{value:"1",key:"1",label:m._({id:"1 (Verbose)"})},{value:"2",key:"2",label:m._({id:"2 (More Verbose)"})},{value:"3",key:"3",label:m._({id:"3 (Debug)"})},{value:"4",key:"4",label:m._({id:"4 (Connection Debug)"})}];if(null===l||void 0===l?void 0:l.related){var Xe=l.related.callback||"".concat(l.url,"callback");Ge="".concat(Oy).concat(Xe)}return We||Me?r.a.createElement(bn,null):Be||Fe?r.a.createElement(dn,{error:f}):r.a.createElement(pi.a,{autoComplete:"off",onSubmit:s},r.a.createElement(zi,null,r.a.createElement(gi,{id:"template-name",name:"name",type:"text",label:m._({id:"Name"}),validate:Ji(null,m),isRequired:!0}),r.a.createElement(gi,{id:"template-description",name:"description",type:"text",label:m._({id:"Description"})}),r.a.createElement(fy,{fieldId:"template-job-type",isRequired:!0,label:m._({id:"Job Type"}),promptId:"template-ask-job-type-on-launch",promptName:"ask_job_type_on_launch",tooltip:m._({id:"For job templates, select run to execute the playbook. Select check to only check playbook syntax, test environment setup, and report problems without executing the playbook."})},r.a.createElement(Hi,Object.assign({},z,{isValid:!M.touched||!M.error,id:"template-job-type",data:Ke,onChange:function(e,t){q.setValue(t)}}))),r.a.createElement(fy,{fieldId:"template-inventory",isRequired:!0,label:m._({id:"Inventory"}),promptId:"template-ask-inventory-on-launch",promptName:"ask_inventory_on_launch",tooltip:m._({id:"Select the inventory containing the hosts you want this job to manage."})},r.a.createElement(zc,{value:k,onBlur:function(){return G.setTouched()},onChange:function(e){G.setValue(e.id),w(e)},required:!0,touched:W.touched,error:W.error}),(W.touched||R.ask_inventory_on_launch)&&W.error&&r.a.createElement("div",{className:"pf-c-form__helper-text pf-m-error","aria-live":"polite"},W.error)),r.a.createElement(Mc,{value:y,onBlur:function(){return X.setTouched()},tooltip:m._({id:"Select the project containing the playbook you want this job to execute."}),isValid:!Y.touched||!Y.error,helperTextInvalid:Y.error,onChange:Je,required:!0}),(null===y||void 0===y?void 0:y.allow_override)&&r.a.createElement(fy,{fieldId:"template-scm-branch",label:m._({id:"Source Control Branch"}),promptId:"template-ask-scm-branch-on-launch",promptName:"ask_scm_branch_on_launch"},r.a.createElement(ka.a,Object.assign({id:"template-scm-branch"},$,{onChange:function(e,t){$.onChange(t)}}))),r.a.createElement(mi.a,{fieldId:"template-playbook",helperTextInvalid:re.error,isValid:!re.touched||!re.error,isRequired:!0,label:m._({id:"Playbook"})},r.a.createElement(yi,{content:m._({id:"Select the playbook to be executed by this job."})}),r.a.createElement(Ey,{projectId:(null===y||void 0===y?void 0:y.id)||(null===(i=K.value)||void 0===i?void 0:i.id),isValid:!re.touched||!re.error,field:ne,onBlur:function(){return ie.setTouched()},onError:h})),r.a.createElement(Ui,null,r.a.createElement(fy,{fieldId:"template-credentials",label:m._({id:"Credentials"}),promptId:"template-ask-credential-on-launch",promptName:"ask_credential_on_launch",tooltip:m._({id:'Select credentials that allow Tower to access the nodes this job will be ran against. You can only select one credential of each type. For machine credentials (SSH), checking "Prompt on launch" without selecting credentials will require you to select a machine credential at run time. If you select credentials and check "Prompt on launch", the selected credential(s) become the defaults that can be updated at run time.'})},r.a.createElement(Zc,{value:se.value,onChange:function(e){return ue.setValue(e)},onError:h})),r.a.createElement(mi.a,{label:m._({id:"Labels"}),fieldId:"template-labels"},r.a.createElement(yi,{content:m._({id:"Optional labels that describe this job template, such as 'dev' or 'test'. Labels can be used to group and filter job templates and completed jobs."})}),r.a.createElement(_y,{value:pe.value,onChange:function(e){return be.setValue(e)},onError:h,createText:m._({id:"Create"})})),r.a.createElement(Ic,{id:"template-variables",name:"extra_vars",label:m._({id:"Variables"}),promptId:"template-ask-variables-on-launch"}),r.a.createElement(zi,null,r.a.createElement(gi,{id:"template-forks",name:"forks",type:"number",min:"0",label:m._({id:"Forks"}),tooltip:r.a.createElement("span",null,m._({id:"The number of parallel or simultaneous processes to use while executing the playbook. An empty value, or a value less than 1 will use the Ansible default which is usually 5. The default number of forks can be overwritten with a change to"})," ",r.a.createElement("code",null,"ansible.cfg"),"."," ",m._({id:"Refer to the Ansible documentation for details about the configuration file."}))}),r.a.createElement(fy,{fieldId:"template-limit",label:m._({id:"Limit"}),promptId:"template-ask-limit-on-launch",promptName:"ask_limit_on_launch",tooltip:m._({id:"Provide a host pattern to further constrain the list of hosts that will be managed or affected by the playbook. Multiple patterns are allowed. Refer to Ansible documentation for more information and examples on patterns."})},r.a.createElement(ka.a,Object.assign({id:"template-limit"},ve,{isValid:!_e.touched||!_e.error,onChange:function(e,t){ve.onChange(t)}}))),r.a.createElement(fy,{fieldId:"template-verbosity",label:m._({id:"Verbosity"}),promptId:"template-ask-verbosity-on-launch",promptName:"ask_verbosity_on_launch",tooltip:m._({id:"Control the level of output ansible will produce as the playbook executes."})},r.a.createElement(Hi,Object.assign({id:"template-verbosity",data:Ye},Ee))),r.a.createElement(gi,{id:"template-job-slicing",name:"job_slice_count",type:"number",min:"1",label:m._({id:"Job Slicing"}),tooltip:m._({id:"Divide the work done by this job template into the specified number of job slices, each running the same tasks against a portion of the inventory."})}),r.a.createElement(gi,{id:"template-timeout",name:"timeout",type:"number",min:"0",label:m._({id:"Timeout"}),tooltip:m._({id:"The amount of time (in seconds) to run before the task is canceled. Defaults to 0 for no job timeout."})}),r.a.createElement(fy,{fieldId:"template-diff-mode",label:m._({id:"Show Changes"}),promptId:"template-ask-diff-mode-on-launch",promptName:"ask_diff_mode_on_launch",tooltip:m._({id:"If enabled, show the changes made by Ansible tasks, where supported. This is equivalent to Ansible&#x2019s --diff mode."})},r.a.createElement(qo.a,{id:"template-show-changes",label:Oe.value?m._({id:"On"}):m._({id:"Off"}),isChecked:Oe.value,onChange:function(e){return ke.setValue(e)}})),r.a.createElement(Ui,null,r.a.createElement(Rc,{value:Se.value,onChange:function(e){return xe.setValue(e)},tooltip:m._({id:"Select the Instance Groups for this Organization to run on."})}),r.a.createElement(fy,{fieldId:"template-tags",label:m._({id:"Job Tags"}),promptId:"template-ask-tags-on-launch",promptName:"ask_tags_on_launch",tooltip:m._({id:"Tags are useful when you have a large playbook, and you want to run a specific part of a play or task. Use commas to separate multiple tags. Refer to Ansible Tower documentation for details on the usage of tags."})},r.a.createElement(ws,{value:De.value,onChange:function(e){return Ne.setValue(e)}})),r.a.createElement(fy,{fieldId:"template-skip-tags",label:m._({id:"Skip Tags"}),promptId:"template-ask-skip-tags-on-launch",promptName:"ask_skip_tags_on_launch",tooltip:m._({id:"Skip tags are useful when you have a large playbook, and you want to skip specific parts of a play or task. Use commas to separate multiple tags. Refer to Ansible Tower documentation for details on the usage of tags."})},r.a.createElement(ws,{value:Ae.value,onChange:function(e){return Pe.setValue(e)}})),r.a.createElement(mi.a,{fieldId:"template-option-checkboxes",label:m._({id:"Options"})},r.a.createElement(Fi,null,r.a.createElement(wi,{id:"option-privilege-escalation",name:"become_enabled",label:m._({id:"Privilege Escalation"}),tooltip:m._({id:"If enabled, run this playbook as an administrator."})}),r.a.createElement(ra.a,{"aria-label":m._({id:"Provisioning Callbacks"}),label:r.a.createElement("span",null,m._({id:"Provisioning Callbacks"}),"\xa0",r.a.createElement(yi,{content:m._({id:"Enables creation of a provisioning callback URL. Using the URL a host can contact BRAND_NAME and request a configuration update using this job template."})})),id:"option-callbacks",isChecked:x,onChange:function(e){T(e)}}),r.a.createElement(ra.a,{"aria-label":m._({id:"Enable Webhook"}),label:r.a.createElement("span",null,m._({id:"Enable Webhook"}),"\xa0",r.a.createElement(yi,{content:m._({id:"Enable webhook for this template."})})),id:"wfjt-enabled-webhooks",isChecked:N,onChange:function(e){L(e)}}),r.a.createElement(wi,{id:"option-concurrent",name:"allow_simultaneous",label:m._({id:"Concurrent Jobs"}),tooltip:m._({id:"If enabled, simultaneous runs of this job template will be allowed."})}),r.a.createElement(wi,{id:"option-fact-cache",name:"use_fact_cache",label:m._({id:"Enable Fact Storage"}),tooltip:m._({id:"If enabled, this will store gathered facts so they can be viewed at the host level. Facts are persisted and injected into the fact cache at runtime."})})))),r.a.createElement(jy,{enableWebhooks:N,templateType:l.type}),x&&r.a.createElement(r.a.Fragment,null,Ge&&r.a.createElement(mi.a,{label:m._({id:"Provisioning Callback URL"}),fieldId:"template-callback-url"},r.a.createElement(ka.a,{id:"template-callback-url",isDisabled:!0,value:Ge})),r.a.createElement(gi,{id:"template-host-config-key",name:"host_config_key",label:m._({id:"Host Config Key"}),validate:x?Ji(null,m):null})))),r.a.createElement(Di,{error:d}),r.a.createElement(Vi,{onCancel:c,onSubmit:s})))}ky.defaultProps={template:{name:"",description:"",job_type:"run",inventory:void 0,project:void 0,playbook:"",summary_fields:{inventory:null,labels:{results:[]},project:null,credentials:[]},isNew:!0},submitError:null};var wy=Object(di.e)({mapPropsToValues:function(e){var t,a,n=e.template,r=void 0===n?{}:n,i=e.i18n,l=r.summary_fields,o=void 0===l?{labels:{results:[]},inventory:{organization:null}}:l;return{ask_credential_on_launch:r.ask_credential_on_launch||!1,ask_diff_mode_on_launch:r.ask_diff_mode_on_launch||!1,ask_inventory_on_launch:r.ask_inventory_on_launch||!1,ask_job_type_on_launch:r.ask_job_type_on_launch||!1,ask_limit_on_launch:r.ask_limit_on_launch||!1,ask_scm_branch_on_launch:r.ask_scm_branch_on_launch||!1,ask_skip_tags_on_launch:r.ask_skip_tags_on_launch||!1,ask_tags_on_launch:r.ask_tags_on_launch||!1,ask_variables_on_launch:r.ask_variables_on_launch||!1,ask_verbosity_on_launch:r.ask_verbosity_on_launch||!1,name:r.name||"",description:r.description||"",job_type:r.job_type||"run",inventory:r.inventory||null,project:r.project||null,scm_branch:r.scm_branch||"",playbook:r.playbook||"",labels:o.labels.results||[],forks:r.forks||0,limit:r.limit||"",verbosity:r.verbosity||"0",job_slice_count:r.job_slice_count||1,timeout:r.timeout||0,diff_mode:r.diff_mode||!1,job_tags:r.job_tags||"",skip_tags:r.skip_tags||"",become_enabled:r.become_enabled||!1,allow_callbacks:r.allow_callbacks||!1,allow_simultaneous:r.allow_simultaneous||!1,use_fact_cache:r.use_fact_cache||!1,host_config_key:r.host_config_key||"",initialInstanceGroups:[],instanceGroups:[],credentials:o.credentials||[],extra_vars:r.extra_vars||"---\n",webhook_service:r.webhook_service||"",webhook_url:(null===r||void 0===r||null===(t=r.related)||void 0===t?void 0:t.webhook_receiver)?"".concat(Oy).concat(r.related.webhook_receiver):i._({id:"a new webhook url will be generated on save."}).toUpperCase(),webhook_key:r.webhook_key||i._({id:"a new webhook key will be generated on save."}).toUpperCase(),webhook_credential:(null===r||void 0===r||null===(a=r.summary_fields)||void 0===a?void 0:a.webhook_credential)||null}},handleSubmit:function(){var e=Object(F.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=a.setErrors,e.prev=1,e.next=4,n.handleSubmit(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}(),validate:function(e,t){var a=t.i18n,n={};return e.inventory&&""!==e.inventory||e.ask_inventory_on_launch||(n.inventory=a._({id:"Please select an Inventory or check the Prompt on Launch option."})),n}})(ky),Cy=Object(c.withI18n)()(wy),Sy=function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_t.readPlaybooks(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xy=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a),(n=t.call(this,e)).state={hasContentLoading:!0,contentError:null,formSubmitError:null,relatedCredentials:[],relatedProjectPlaybooks:[]};var r=e.template,i=r.id,l=r.type;return n.detailsUrl="/templates/".concat(l,"/").concat(i,"/details"),n.handleCancel=n.handleCancel.bind(Object(ne.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ne.a)(n)),n.loadRelatedCredentials=n.loadRelatedCredentials.bind(Object(ne.a)(n)),n.submitLabels=n.submitLabels.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadRelated()}},{key:"loadRelated",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.template.project,this.setState({contentError:null,hasContentLoading:!0}),e.prev=2,!t){e.next=10;break}return e.next=6,Sy(t);case 6:a=e.sent,n=a.data,r=void 0===n?[]:n,this.setState({relatedProjectPlaybooks:r});case 10:return e.next=12,this.loadRelatedCredentials();case 12:i=e.sent,l=Object(O.a)(i,1),o=l[0],this.setState({relatedCredentials:o}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),this.setState({contentError:e.t0});case 21:return e.prev=21,this.setState({hasContentLoading:!1}),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[2,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadRelatedCredentials",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.template.id,a={page:1,page_size:200,order_by:"name"},e.prev=2,e.next=5,mt.readCredentials(t,a);case 5:return n=e.sent,r=n.data.results,i=void 0===r?[]:r,e.abrupt("return",i);case 11:if(e.prev=11,e.t0=e.catch(2),403===e.t0.status){e.next=15;break}throw e.t0;case 15:return this.setState({hasRelatedCredentialAccess:!1}),l=this.props.template.summary_fields.credentials,o=void 0===l?[]:l,e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o,c,s,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.template,r=a.history,i=t.labels,l=t.instanceGroups,o=t.initialInstanceGroups,c=t.credentials,s=t.webhook_credential,u=Object(Q.a)(t,["labels","instanceGroups","initialInstanceGroups","credentials","webhook_credential"]),this.setState({formSubmitError:null}),u.project=t.project.id,u.webhook_credential=(null===s||void 0===s?void 0:s.id)||null,e.prev=5,e.next=8,mt.update(n.id,u);case 8:return e.next=10,Promise.all([this.submitLabels(i,null===n||void 0===n?void 0:n.organization),this.submitInstanceGroups(l,o),this.submitCredentials(c)]);case 10:r.push(this.detailsUrl),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),this.setState({formSubmitError:e.t0});case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitLabels",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],a=u.length>1?u[1]:void 0,n=this.props.template,r=Vu(n.summary_fields.labels.results,t),i=r.added,l=r.removed,o=l.map((function(e){return mt.disassociateLabel(n.id,e)})),c=i.map((function(e){return mt.associateLabel(n.id,e,a)})),e.next=8,Promise.all([].concat(Object(le.a)(o),Object(le.a)(c)));case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submitInstanceGroups",value:function(){var e=Object(F.a)(U.a.mark((function e(t,a){var n,r,i,l,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.template,r=Vu(a,t),i=r.added,l=r.removed,e.next=4,l.map((function(e){return mt.disassociateInstanceGroup(n.id,e.id)}));case 4:return o=e.sent,e.next=7,i.map((function(e){return mt.associateInstanceGroup(n.id,e.id)}));case 7:return c=e.sent,e.abrupt("return",Promise.all([].concat(Object(le.a)(o),Object(le.a)(c))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"submitCredentials",value:function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.template,n=Vu(a.summary_fields.credentials,t),r=n.added,i=n.removed,l=i.map((function(e){return mt.disassociateCredentials(a.id,e.id)})),e.next=5,Promise.all(l);case 5:return o=e.sent,c=r.map((function(e){return mt.associateCredentials(a.id,e.id)})),s=Promise.all(c),e.abrupt("return",Promise.all([o,s]));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCancel",value:function(){this.props.history.push(this.detailsUrl)}},{key:"render",value:function(){var e=this.props.template,t=this.state,a=t.contentError,n=t.formSubmitError,i=t.hasContentLoading,l=t.relatedProjectPlaybooks,c=e.summary_fields.user_capabilities.edit;return i?r.a.createElement(K,null,r.a.createElement(bn,null)):a?r.a.createElement(K,null,r.a.createElement(dn,{error:a})):c?r.a.createElement(K,null,r.a.createElement(Cy,{template:e,handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,relatedProjectPlaybooks:l,submitError:n})):r.a.createElement(o.a,{to:this.detailsUrl})}}]),a}(n.Component),Ty=Object(o.k)(xy),Iy=a(1003),Dy=a(1004),Ny=Object(N.b)(Ul.a).withConfig({displayName:"SurveyListItem__DataListAction",componentId:"sc-84tnuo-0"})(["margin-left:0;margin-right:20px;padding-top:15px;padding-bottom:15px;"]),Ly=Object(N.b)($.a).withConfig({displayName:"SurveyListItem__Button",componentId:"sc-84tnuo-1"})(["padding-top:0;padding-bottom:0;padding-left:0;"]),Ry=N.b.span.withConfig({displayName:"SurveyListItem__Required",componentId:"sc-84tnuo-2"})(["color:var(--pf-global--danger-color--100);margin-left:var(--pf-global--spacer--xs);"]),Ay=N.b.b.withConfig({displayName:"SurveyListItem__Label",componentId:"sc-84tnuo-3"})(["margin-right:20px;"]),Py=Object(N.b)(jn.a).withConfig({displayName:"SurveyListItem___StyledDataListItemRow",componentId:"sc-84tnuo-4"})(["padding-left:16px"]);var zy=Object(c.withI18n)()((function(e){var t=e.canEdit,a=e.question,n=e.i18n,i=e.isLast,l=e.isFirst,o=e.isChecked,c=e.onSelect,s=e.onMoveUp,u=e.onMoveDown;return r.a.createElement(gn.a,{"aria-labelledby":n._({id:"Survey questions"}),id:"survey-list-item-".concat(a.variable)},r.a.createElement(Py,null,r.a.createElement(Ny,{id:"sortQuestions","aria-labelledby":n._({id:"Sort question order"}),"aria-label":n._({id:"Sort question order"})},r.a.createElement(Iy.a,null,r.a.createElement(Dy.a,null,r.a.createElement(Ly,{variant:"plain","aria-label":n._({id:"move up"}),isDisabled:l||!t,onClick:function(){return s(a)}},r.a.createElement(nf.a,null))),r.a.createElement(Dy.a,null,r.a.createElement(Ly,{variant:"plain","aria-label":n._({id:"move down"}),isDisabled:i||!t,onClick:function(){return u(a)}},r.a.createElement(lf.a,null))))),r.a.createElement(Qn.a,{isDisabled:!t,checked:o,onChange:c,"aria-labelledby":"survey check"}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name"},r.a.createElement(r.a.Fragment,null,r.a.createElement(D.b,{to:"survey/edit/".concat(a.variable)},a.question_name),a.required&&r.a.createElement(Ry,{"aria-label":n._({id:"Required"}),className:"pf-c-form__label-required","aria-hidden":"true"},"*"))),r.a.createElement(Sn,{key:"type"},r.a.createElement(Ay,null,n._({id:"Type:"})),a.type),r.a.createElement(Sn,{key:"default"},r.a.createElement(Ay,null,n._({id:"Default:"})),[a.type].includes("password")&&r.a.createElement("span",null,n._({id:"encrypted"}).toUpperCase()),[a.type].includes("multiselect")&&a.default.length>0&&r.a.createElement(rr,{numChips:5,totalChips:a.default.split("\n").length},a.default.split("\n").map((function(e){return r.a.createElement(ar.a,{key:e,isReadOnly:!0},e)}))),![a.type].includes("password")&&![a.type].includes("multiselect")&&r.a.createElement("span",null,a.default))]})))}));function Uy(){var e=Object(S.a)(["\n  margin-left: 52px;\n"]);return Uy=function(){return e},e}var Fy=Object(N.b)(na.DataToolbar)(Uy());var My=Object(c.withI18n)()((function(e){var t=e.canEdit,a=e.isAllSelected,n=e.onSelectAll,i=e.i18n,l=e.surveyEnabled,c=e.onToggleSurvey,s=e.isDeleteDisabled,u=e.onToggleDeleteModal;s=!t||s;var d=Object(o.j)();return r.a.createElement(Fy,{id:"survey-toolbar"},r.a.createElement(na.DataToolbarContent,null,r.a.createElement(na.DataToolbarItem,null,r.a.createElement(ra.a,{isDisabled:!t,isChecked:a,onChange:function(e){n(e)},"aria-label":i._({id:"Select all"}),id:"select-all"})),r.a.createElement(na.DataToolbarItem,null,r.a.createElement(qo.a,{"aria-label":i._({id:"Survey Toggle"}),id:"survey-toggle",label:i._({id:"On"}),labelOff:i._({id:"Off"}),isChecked:l,isDisabled:!t,onChange:function(){return c(!l)}})),r.a.createElement(na.DataToolbarGroup,null,r.a.createElement(na.DataToolbarItem,null,r.a.createElement(Xn,{isDisabled:!t,linkTo:"".concat(d.url,"/add")})),r.a.createElement(na.DataToolbarItem,null,r.a.createElement($.a,{variant:"danger",isDisabled:s,onClick:function(){return u(!0)}},i._({id:"Delete"}))))))}));var qy=Object(c.withI18n)()((function(e){var t=e.questions,a=e.isPreviewModalOpen,n=e.onToggleModalOpen,i=e.i18n,l={};return t.forEach((function(e){return l[e.variable]=e.default,l})),r.a.createElement(Rn.a,{title:i._({id:"Survey Preview"}),isOpen:a,onClose:function(){return n(!1)},isSmall:!0},r.a.createElement(di.b,{initialValues:l},(function(){return r.a.createElement(pi.a,null,t.map((function(e){return r.a.createElement("div",{key:e.variable},["text","integer","float"].includes(e.type)&&r.a.createElement(mi.a,{fieldId:"survey-preview-text-".concat(e.variable),label:e.question_name},r.a.createElement(ka.a,{id:"survey-preview-text-".concat(e.variable),value:e.default,isDisabled:!0,"aria-label":i._({id:"Text"})})),["textarea"].includes(e.type)&&r.a.createElement(mi.a,{fieldId:"survey-preview-textArea-".concat(e.variable),label:e.question_name},r.a.createElement(bi.b,{id:"survey-preview-textArea-".concat(e.variable),type:"survey-preview-textArea-".concat(e.variable),value:e.default,"aria-label":i._({id:"Text Area"}),disabled:!0})),["password"].includes(e.type)&&r.a.createElement(Ti,{id:"survey-preview-password-".concat(e.variable),label:e.question_name,name:e.variable,isDisabled:!0}),["multiplechoice"].includes(e.type)&&r.a.createElement(mi.a,{fieldId:"survey-preview-multipleChoice-".concat(e.variable),label:e.question_name},r.a.createElement(Ea.a,{id:"survey-preview-multipleChoice-".concat(e.variable),isDisabled:!0,"aria-label":i._({id:"Multiple Choice"}),placeholderText:e.default,onToggle:function(){}})),["multiselect"].includes(e.type)&&r.a.createElement(mi.a,{fieldId:"survey-preview-multiSelect-".concat(e.variable),label:e.question_name},r.a.createElement(Ea.a,{isDisabled:!0,isReadOnly:!0,variant:ga.e.typeaheadMulti,isExpanded:!1,selections:e.default.length>0&&e.default.split("\n"),onToggle:function(){},"aria-label":i._({id:"Multi-Select"}),id:"survey-preview-multiSelect-".concat(e.variable)},e.choices.length>0&&e.choices.split("\n").map((function(e){return r.a.createElement(ja.a,{key:e,value:e})})))))})))})))}));function Vy(){var e=Object(S.a)(["\n  margin: 20px;\n"]);return Vy=function(){return e},e}var By=Object(N.b)($.a)(Vy());var Wy=Object(c.withI18n)()((function(e){var t,a=e.isLoading,i=e.survey,l=e.surveyEnabled,o=e.toggleSurvey,c=e.updateSurvey,s=e.deleteSurvey,u=e.canEdit,d=e.i18n,m=(null===i||void 0===i?void 0:i.spec)||[],p=Object(n.useState)([]),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(!1),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)(!1),j=Object(O.a)(g,2),k=j[0],w=j[1],C=f.length===(null===m||void 0===m?void 0:m.length)&&f.length>0,S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=5;break}return e.next=3,s();case 3:e.next=7;break;case 5:return e.next=7,c(m.filter((function(e){return!f.includes(e)})));case 7:E(!1),h([]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=m.indexOf(e);if(!(t<1)){var a=m.slice(0,t-1),n=m[t-1],r=m.slice(t+1);c([].concat(Object(le.a)(a),[e,n],Object(le.a)(r)))}},T=function(e){var t=m.indexOf(e);if(!(-1===t||t>m.length-1)){var a=m.slice(0,t),n=m[t+1],r=m.slice(t+2);c([].concat(Object(le.a)(a),[n,e],Object(le.a)(r)))}};return t=a?r.a.createElement(bn,null):!m||(null===m||void 0===m?void 0:m.length)<=0?r.a.createElement(Za,{title:d._({id:"No Survey Questions Found"}),message:d._({id:"Please add survey questions."})}):r.a.createElement(aa.a,{"aria-label":d._({id:"Survey List"})},null===m||void 0===m?void 0:m.map((function(e,t){return r.a.createElement(zy,{key:e.variable,isLast:t===m.length-1,isFirst:0===t,question:e,isChecked:f.some((function(t){return t.variable===e.variable})),onSelect:function(){return t=e,void(f.some((function(e){return e.variable===t.variable}))?h(f.filter((function(e){return e.variable!==t.variable}))):h(f.concat(t)));var t},onMoveUp:x,onMoveDown:T,canEdit:u})})),k&&r.a.createElement(qy,{isPreviewModalOpen:k,onToggleModalOpen:function(){return w(!1)},questions:m}),r.a.createElement(By,{onClick:function(){return w(!0)},variant:"primary","aria-label":d._({id:"Preview"})},d._({id:"Preview"}))),y?r.a.createElement(Gn,{variant:"danger",title:C?d._({id:"Delete Survey"}):d._({id:"Delete Questions"}),isOpen:y,onClose:function(){E(!1),h([])},actions:[r.a.createElement(By,{key:"delete",variant:"danger","aria-label":d._({id:"confirm delete"}),onClick:S},d._({id:"Delete"})),r.a.createElement(By,{key:"cancel",variant:"secondary","aria-label":d._({id:"cancel delete"}),onClick:function(){E(!1),h([])}},d._({id:"Cancel"}))]},r.a.createElement("div",null,d._({id:"This action will delete the following:"})),f.map((function(e){return r.a.createElement("span",{key:e.variable},r.a.createElement("strong",null,e.question_name),r.a.createElement("br",null))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(My,{isAllSelected:C,onSelectAll:function(e){h(e?Object(le.a)(m):[])},surveyEnabled:l,onToggleSurvey:o,isDeleteDisabled:0===(null===f||void 0===f?void 0:f.length),canEdit:u,onToggleDeleteModal:function(){return E(!0)}}),t,y&&r.a.createElement(Gn,{variant:"danger",title:C?d._({id:"Delete Survey"}):d._({id:"Delete Questions"}),isOpen:y,onClose:function(){E(!1)},actions:[r.a.createElement(By,{key:"delete",variant:"danger","aria-label":d._({id:"confirm delete"}),onClick:S},d._({id:"Delete"})),r.a.createElement(By,{key:"cancel",variant:"secondary","aria-label":d._({id:"cancel delete"}),onClick:function(){E(!1)}},d._({id:"Cancel"}))]},r.a.createElement("div",null,d._({id:"This action will delete the following:"})),r.a.createElement("ul",null,f.map((function(e){return r.a.createElement("li",{key:e.variable},r.a.createElement("strong",null,e.question_name))})))))}));function Gy(e){var t=e.i18n,a=Object(di.c)({name:"type",validate:Ji(t._({id:"Select a value for this field"}),t)}),n=Object(O.a)(a,1)[0];return r.a.createElement(mi.a,{label:t._({id:"Answer Type"}),isRequired:!0,fieldId:"question-answer-type"},r.a.createElement(yi,{content:t._({id:"Choose an answer type or format you want as the prompt for the user. Refer to the Ansible Tower Documentation for more additional information about each option."})}),r.a.createElement(Hi,Object.assign({id:"question-type"},n,{data:[{key:"text",value:"text",label:t._({id:"Text"})},{key:"textarea",value:"textarea",label:t._({id:"Textarea"})},{key:"password",value:"password",label:t._({id:"Password"})},{key:"multiplechoice",value:"multiplechoice",label:t._({id:"Multiple Choice (single select)"})},{key:"multiselect",value:"multiselect",label:t._({id:"Multiple Choice (multiple select)"})},{key:"integer",value:"integer",label:t._({id:"Integer"})},{key:"float",value:"float",label:t._({id:"Float"})}]})))}function Hy(e){var t=e.question,a=e.handleSubmit,n=e.handleCancel,i=e.submitError,l=e.i18n;return r.a.createElement(di.b,{initialValues:{question_name:(null===t||void 0===t?void 0:t.question_name)||"",question_description:(null===t||void 0===t?void 0:t.question_description)||"",required:!t||(null===t||void 0===t?void 0:t.required),type:(null===t||void 0===t?void 0:t.type)||"text",variable:(null===t||void 0===t?void 0:t.variable)||"",min:(null===t||void 0===t?void 0:t.min)||0,max:(null===t||void 0===t?void 0:t.max)||1024,default:(null===t||void 0===t?void 0:t.default)||"",choices:(null===t||void 0===t?void 0:t.choices)||"",new_question:!t},onSubmit:a},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(gi,{id:"question-name",name:"question_name",type:"text",label:l._({id:"Question"}),validate:Ji(null,l),isRequired:!0}),r.a.createElement(gi,{id:"question-description",name:"question_description",type:"text",label:l._({id:"Description"})}),r.a.createElement(gi,{id:"question-variable",name:"variable",type:"text",label:l._({id:"Answer Variable Name"}),validate:el([Qi(l),Ji(null,l)]),isRequired:!0,tooltip:l._({id:"The suggested format for variable names is lowercase and underscore-separated (for example, foo_bar, user_id, host_name, etc.). Variable names with spaces are not allowed."})}),r.a.createElement(Gy,{i18n:l}),r.a.createElement(wi,{id:"question-required",name:"required",label:l._({id:"Required"})})),r.a.createElement(zi,null,["text","textarea","password"].includes(e.values.type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"question-min",name:"min",type:"number",label:l._({id:"Minimum length"})}),r.a.createElement(gi,{id:"question-max",name:"max",type:"number",label:l._({id:"Maximum length"})})),["integer","float"].includes(e.values.type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"question-min",name:"min",type:"number",label:l._({id:"Minimum"})}),r.a.createElement(gi,{id:"question-max",name:"max",type:"number",label:l._({id:"Maximum"})})),["text","integer","float"].includes(e.values.type)&&r.a.createElement(gi,{id:"question-default",name:"default",validate:Ki(e.values.max,l),type:"text"===e.values.type?"text":"number",label:l._({id:"Default answer"})}),"textarea"===e.values.type&&r.a.createElement(gi,{id:"question-default",name:"default",type:"textarea",label:l._({id:"Default answer"})}),"password"===e.values.type&&r.a.createElement(Ti,{id:"question-default",name:"default",label:l._({id:"Default answer"})}),["multiplechoice","multiselect"].includes(e.values.type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"question-options",name:"choices",type:"textarea",label:l._({id:"Multiple Choice Options"}),validate:Ji(null,l),tooltip:l._({id:"Each answer choice must be on a separate line."}),isRequired:!0,rows:"10"}),r.a.createElement(gi,{id:"question-default",name:"default",validate:(t=e.values.choices,function(e){var a;return Object(le.a)(e).every((function(e){return t.indexOf(e)>-1}))||(a=l._({id:"Default choice must be answered from the choices listed."})),a}),type:"multiplechoice"===e.values.type?"text":"textarea",label:l._({id:"Default answer"})}))),r.a.createElement(Di,{error:i}),r.a.createElement(Vi,{onCancel:n,onSubmit:e.handleSubmit}));var t}))}Hy.defaultProps={question:null,submitError:null};var Jy=Object(c.withI18n)()(Hy);function Ky(e){var t=e.survey,a=e.updateSurvey,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(o.g)(),d=Object(o.j)(),m=function(){var e=Object(F.a)(U.a.mark((function e(n){var r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===(r=t.spec)||void 0===r?void 0:r.some((function(e){return e.variable===n.variable})))){e.next=4;break}return s(new Error("Survey already contains a question with variable named \u201c".concat(n.variable,"\u201d"))),e.abrupt("return");case 4:return"multiselect"===n.type&&(n.default=n.default.split("\n").filter((function(e){return""!==e||"\n"})).map((function(e){return e.trim()})).join("\n")),i=t.spec?t.spec.concat(n):[n],e.next=8,a(i);case 8:u.push(d.url.replace("/add","")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(Jy,{handleSubmit:m,handleCancel:function(){u.push(d.url.replace("/add",""))},submitError:c}))}function Yy(e){var t=e.survey,a=e.updateSurvey,i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=Object(o.g)(),d=Object(o.j)();if(!t)return r.a.createElement(bn,null);var m=t.spec.find((function(e){return e.variable===d.params.variable})),p=function(){var e=d.url.indexOf("/edit");u.push(d.url.substr(0,e))},b=function(){var e=Object(F.a)(U.a.mark((function e(n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.variable===m.variable||!t.spec.find((function(e){return e.variable===n.variable}))){e.next=4;break}return s(new Error("Survey already contains a question with variable named \u201c".concat(n.variable,"\u201d"))),e.abrupt("return");case 4:if(-1!==(r=t.spec.findIndex((function(e){return e.variable===d.params.variable})))){e.next=7;break}throw new Error("Question not found in spec");case 7:return"multiselect"===n.type&&(n.default=n.default.split("\n").filter((function(e){return""!==e||"\n"})).map((function(e){return e.trim()})).join("\n")),e.next=10,a([].concat(Object(le.a)(t.spec.slice(0,r)),[n],Object(le.a)(t.spec.slice(r+1))));case 10:p(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(Jy,{question:m,handleSubmit:b,handleCancel:p,submitError:c}))}var Xy=Object(c.withI18n)()((function(e){var t=e.template,a=e.canEdit,i=e.i18n,l=Object(n.useState)(t.survey_enabled),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(o.i)().templateType,m=Object(o.h)(),p=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("workflow_job_template"!==d){e.next=6;break}return e.next=3,It.readSurvey(t.id);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,mt.readSurvey(t.id);case 8:e.t0=e.sent;case 9:return a=e.t0,n=a.data,e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)}))),[t.id,d])),b=p.result,f=p.request,h=p.isLoading,v=p.error,_=p.setValue;Object(n.useEffect)((function(){f()}),[f,m]);var y=Al(Object(n.useCallback)(function(){var e=Object(F.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("workflow_job_template"!==d){e.next=5;break}return e.next=3,It.updateSurvey(t.id,a);case 3:e.next=7;break;case 5:return e.next=7,mt.updateSurvey(t.id,a);case 7:_(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t.id,_,d])),E=y.request,g=y.error,j=function(e){E({name:b.name||"",description:b.description||"",spec:e})},k=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.destroySurvey(t.id);case 2:_(null);case 3:case"end":return e.stop()}}),e)}))),[t.id,_])),w=k.request,C=k.error,S=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.update(t.id,{survey_enabled:!s});case 2:u(!s);case 3:case"end":return e.stop()}}),e)}))),[t.id,s])),x=S.request,T=S.error,I=Pl(g||C||T),D=I.error,N=I.dismissError;return v?r.a.createElement(dn,{error:v}):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.d,null,a&&r.a.createElement(o.b,{path:"/templates/:templateType/:id/survey/add"},r.a.createElement(Ky,{survey:b,updateSurvey:j})),a&&r.a.createElement(o.b,{path:"/templates/:templateType/:id/survey/edit/:variable"},r.a.createElement(Yy,{survey:b,updateSurvey:j})),r.a.createElement(o.b,{path:"/templates/:templateType/:id/survey",exact:!0},r.a.createElement(Wy,{isLoading:h,survey:b,surveyEnabled:s,toggleSurvey:x,updateSurvey:j,deleteSurvey:w,canEdit:a}))),D&&r.a.createElement(Gn,{isOpen:D,variant:"error",title:i._({id:"Error!"}),onClose:N},i._({id:"Failed to update survey."}),r.a.createElement(cn,{error:D})))}));var Zy=Object(c.withI18n)()((function(e){var t,a,i=e.i18n,l=e.me,c=e.setBreadcrumb,s=Object(o.h)(),u=Object(o.i)().id,d=Object(o.j)(),m=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([mt.readDetail(u),vt.read({page_size:1,role_level:"notification_admin_role"})]);case 2:if(a=e.sent,n=Object(O.a)(a,2),r=n[0].data,i=n[1],!r.webhook_service||!(null===r||void 0===r||null===(t=r.related)||void 0===t?void 0:t.webhook_key)){e.next=12;break}return e.next=9,mt.readWebhookKey(u);case 9:l=e.sent,o=l.data.webhook_key,r.webhook_key=o;case 12:return c(r),e.abrupt("return",{template:r,isNotifAdmin:i.data.results.length>0});case 14:case"end":return e.stop()}}),e)}))),[c,u]),{isNotifAdmin:!1,template:null}),p=m.result,b=p.isNotifAdmin,f=p.template,h=m.isLoading,v=m.error,_=m.request;Object(n.useEffect)((function(){_()}),[_,s.pathname]);var E=l.is_system_auditor||b,g=(null===f||void 0===f||null===(t=f.summary_fields)||void 0===t?void 0:t.user_capabilities.edit)||(null===f||void 0===f||null===(a=f.summary_fields)||void 0===a?void 0:a.user_capabilities.delete),j=[{name:i._({id:"Details"}),link:"".concat(d.url,"/details")},{name:i._({id:"Access"}),link:"".concat(d.url,"/access")}];E&&j.push({name:i._({id:"Notifications"}),link:"".concat(d.url,"/notifications")}),f&&j.push({name:i._({id:"Schedules"}),link:"".concat(d.url,"/schedules")}),j.push({name:i._({id:"Completed Jobs"}),link:"".concat(d.url,"/completed_jobs")},{name:g?i._({id:"Survey"}):i._({id:"View Survey"}),link:"".concat(d.url,"/survey")}),j.forEach((function(e,t){e.id=t}));var k=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:j}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/templates"})));(s.pathname.endsWith("edit")||s.pathname.includes("schedules/"))&&(k=null);var w=v;return!h&&w?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:w},404===w.response.status&&r.a.createElement("span",null,i._("Template not found.")," ",r.a.createElement(D.b,{to:"/templates"},i._("View all Templates.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,k,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/templates/:templateType/:id",to:"/templates/:templateType/:id/details",exact:!0}),f&&r.a.createElement(o.b,{key:"details",path:"/templates/:templateType/:id/details"},r.a.createElement(sy,{hasTemplateLoading:h,template:f})),f&&r.a.createElement(o.b,{key:"edit",path:"/templates/:templateType/:id/edit"},r.a.createElement(Ty,{template:f})),f&&r.a.createElement(o.b,{key:"access",path:"/templates/:templateType/:id/access"},r.a.createElement(ni,{resource:f,apiModel:mt})),f&&r.a.createElement(o.b,{key:"schedules",path:"/templates/:templateType/:id/schedules"},r.a.createElement(d_,{createSchedule:function(e){return mt.createSchedule(u,e)},setBreadcrumb:c,unifiedJobTemplate:f,loadSchedules:function(e){return mt.readSchedules(u,e)},loadScheduleOptions:function(){return mt.readScheduleOptions(u)}})),E&&r.a.createElement(o.b,{path:"/templates/:templateType/:id/notifications"},r.a.createElement(Mh,{id:Number(u),canToggleNotifications:b,apiModel:mt})),(null===f||void 0===f?void 0:f.id)&&r.a.createElement(o.b,{path:"/templates/:templateType/:id/completed_jobs"},r.a.createElement(mu,{defaultParams:{job__job_template:f.id}})),f&&r.a.createElement(o.b,{path:"/templates/:templateType/:id/survey"},r.a.createElement(Xy,{template:f,canEdit:g})),!h&&r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,{isNotFound:!0},d.params.id&&r.a.createElement(D.b,{to:"/templates/".concat(d.params.templateType,"/").concat(d.params.id,"/details")},i._("View Template Details")))))))})),Qy=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return l.a.createPortal(e,this.el)}}]),a}(n.Component);function $y(){var e=Object(S.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: white;\n  z-index: 300;\n"]);return $y=function(){return e},e}var eE=N.b.div($y());var tE=Object(c.withI18n)()((function(e){var t,a,i,l,c=e.template,s=e.i18n,u=c.id,d=c.ask_inventory_on_launch,m=c.name,p=c.description,b=c.type,f=c.extra_vars,h=c.created,v=c.modified,_=c.summary_fields,y=c.related,E=c.webhook_credential,g=c.webhook_key,j=window.location.origin,k=Object(o.g)(),w=Object(n.useState)(null),C=Object(O.a)(w,2),S=C[0],x=C[1],T=Object(n.useState)(!1),I=Object(O.a)(T,2),N=I[0],L=I[1],R=c.allow_simultaneous||c.webhook_service,A=r.a.createElement(kr.a,{component:kr.b.ul},c.allow_simultaneous&&r.a.createElement(Sr.a,{component:Sr.b.li},s._({id:"- Enable Concurrent Jobs"})),c.webhook_service&&r.a.createElement(Sr.a,{component:Sr.b.li},s._({id:"- Enable Webhooks"})));if(N)return r.a.createElement(bn,null);var P=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,It.destroy(u);case 4:k.push("/templates"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),x(e.t0);case 10:L(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),z=null===_||void 0===_||null===(t=_.user_capabilities)||void 0===t?void 0:t.start,M=_.recent_jobs.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{type:"job"})}));return r.a.createElement(K,null,r.a.createElement(Cr,{gutter:"sm"},r.a.createElement(Lr,{label:s._({id:"Name"}),value:m,dataCy:"jt-detail-name"}),r.a.createElement(Lr,{label:s._({id:"Description"}),value:p}),(null===(a=_.recent_jobs)||void 0===a?void 0:a.length)>0&&r.a.createElement(Lr,{value:r.a.createElement(Mo,{jobs:M}),label:s._({id:"Activity"})}),_.organization&&r.a.createElement(Lr,{label:s._({id:"Organization"}),value:r.a.createElement(D.b,{to:"/organizations/".concat(_.organization.id,"/details")},r.a.createElement(cy.a,null,_.organization.name))}),r.a.createElement(Lr,{label:s._({id:"Job Type"}),value:qc(b)}),_.inventory&&r.a.createElement(Lr,{label:s._({id:"Inventory"}),value:function(e,t){var a="smart"===e?"smart_inventory":"inventory";return d?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.b,{to:"/inventories/".concat(a,"/").concat(t,"/details")},r.a.createElement(cy.a,null,_.inventory.name)),r.a.createElement("span",null," ",s._({id:"(Prompt on launch)"}))):r.a.createElement(D.b,{to:"/inventories/".concat(a,"/").concat(t,"/details")},r.a.createElement(cy.a,null,_.inventory.name))}(_.inventory.kind,_.inventory.id)}),R&&r.a.createElement(Lr,{label:s._({id:"Options"}),value:A}),r.a.createElement(Lr,{label:s._({id:"Webhook Service"}),value:qc(c.webhook_service)}),y.webhook_receiver&&r.a.createElement(Lr,{label:s._({id:"Webhook URL"}),value:"".concat(j).concat(c.related.webhook_receiver)}),r.a.createElement(Lr,{label:s._({id:"Webhook Key"}),value:g}),E&&r.a.createElement(Lr,{fullWidth:!0,label:s._({id:"Webhook Credentials"}),value:r.a.createElement(D.b,{to:"/credentials/".concat(_.webhook_credential.id,"/details")},r.a.createElement(cy.a,null,_.webhook_credential.name))}),(null===(i=_.labels)||void 0===i||null===(l=i.results)||void 0===l?void 0:l.length)>0&&r.a.createElement(Lr,{fullWidth:!0,label:s._({id:"Labels"}),value:r.a.createElement(rr,{numChips:3,totalChips:_.labels.results.length},_.labels.results.map((function(e){return r.a.createElement(ar.a,{key:e.id,isReadOnly:!0},e.name)})))}),r.a.createElement(yc,{label:s._({id:"Variables"}),value:f,rows:4}),r.a.createElement(Yr,{label:s._({id:"Created"}),date:h,user:_.created_by}),r.a.createElement(Yr,{label:s._({id:"Modified"}),date:v,user:_.modified_by})),r.a.createElement(Z,null,_.user_capabilities&&_.user_capabilities.edit&&r.a.createElement($.a,{component:D.b,to:"/templates/workflow_job_template/".concat(u,"/edit"),"aria-label":s._({id:"Edit"})},s._({id:"Edit"})),z&&r.a.createElement(cu,{resource:c,"aria-label":s._({id:"Launch"})},(function(e){var t=e.handleLaunch;return r.a.createElement($.a,{variant:"secondary",type:"submit",onClick:t},s._({id:"Launch"}))})),_.user_capabilities&&_.user_capabilities.delete&&r.a.createElement(si,{name:m,modalTitle:s._({id:"Delete Workflow Job Template"}),onConfirm:P},s._({id:"Delete"}))),S&&r.a.createElement(Gn,{isOpen:S,variant:"error",title:s._({id:"Error!"}),onClose:function(){return x(null)}},s._({id:"Failed to delete workflow job template."}),r.a.createElement(cn,{error:S})))})),aE=window.location.origin;function nE(e){var t=e.template,a=e.handleSubmit,i=e.handleCancel,l=e.i18n,o=e.submitError,c=Object(n.useState)(null),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Object(di.c)("organization"),p=Object(O.a)(m,3),b=p[0],f=p[1],h=p[2],v=Object(di.c)("inventory"),_=Object(O.a)(v,3),y=_[0],E=_[1],g=_[2],j=Object(di.c)("labels"),k=Object(O.a)(j,3),w=k[0],C=k[2],S=Object(n.useState)(Boolean(t.webhook_service)),x=Object(O.a)(S,2),T=x[0],I=x[1];return u?r.a.createElement(dn,{error:u}):r.a.createElement(pi.a,{autoComplete:"off",onSubmit:a},r.a.createElement(zi,null,r.a.createElement(gi,{id:"wfjt-name",name:"name",type:"text",label:l._({id:"Name"}),validate:Ji(null,l),isRequired:!0}),r.a.createElement(gi,{id:"wfjt-description",name:"description",type:"text",label:l._({id:"Description"})}),r.a.createElement(yl,{helperTextInvalid:f.error,onChange:function(e){h.setValue(e||null)},value:b.value,isValid:!f.error}),r.a.createElement(mi.a,{label:l._({id:"Inventory"}),fieldId:"wfjt-inventory"},r.a.createElement(yi,{content:l._({id:"Select an inventory for the workflow. This inventory is applied to all job template nodes that prompt for an inventory."})}),r.a.createElement(zc,{value:y.value,isValid:!E.error,helperTextInvalid:E.error,onChange:function(e){g.setValue(e||null)}})),r.a.createElement(gi,{type:"text",name:"limit",id:"wfjt-limit",label:l._({id:"Limit"}),tooltip:l._({id:"Provide a host pattern to further constrain the list of hosts that will be managed or affected by the workflow. This limit is applied to all job template nodes that prompt for a limit. Refer to Ansible documentation for more information and examples on patterns."})}),r.a.createElement(gi,{type:"text",label:l._({id:"Source Control Branch"}),tooltip:l._({id:"Select a branch for the workflow. This branch is applied to all job template nodes that prompt for a branch."}),id:"wfjt-scm_branch",name:"scm_branch"})),r.a.createElement(Ui,null,r.a.createElement(mi.a,{label:l._({id:"Labels"}),fieldId:"template-labels"},r.a.createElement(yi,{content:l._({id:"Optional labels that describe this job template, such as 'dev' or 'test'. Labels can be used to group and filter job templates and completed jobs."})}),r.a.createElement(_y,{value:w.value,onChange:function(e){return C.setValue(e)},onError:d,createText:l._({id:"Create"})}))),r.a.createElement(Ui,null,r.a.createElement(Ic,{id:"wfjt-variables",name:"extra_vars",label:l._({id:"Variables"}),tooltip:l._({id:"Pass extra command line variables to the playbook. This is the -e or --extra-vars command line parameter for ansible-playbook. Provide key/value pairs using either YAML or JSON. Refer to the Ansible Tower documentation for example syntax."})})),r.a.createElement(Fi,{fieldId:"options",isInline:!0,label:l._({id:"Options"})},r.a.createElement(ra.a,{"aria-label":l._({id:"Enable Webhook"}),label:r.a.createElement("span",null,l._({id:"Enable Webhook"}),"\xa0",r.a.createElement(yi,{content:l._({id:"Enable Webhook for this workflow job template."})})),id:"wfjt-enabled-webhooks",isChecked:T,onChange:function(e){I(e)}}),r.a.createElement(wi,{name:"allow_simultaneous",id:"allow_simultaneous",tooltip:l._({id:"If enabled, simultaneous runs of this workflow job template will be allowed."}),label:l._({id:"Enable Concurrent Jobs"})})),r.a.createElement(jy,{enableWebhooks:T,templateType:t.type}),o&&r.a.createElement(Di,{error:o}),r.a.createElement(Vi,{onCancel:i,onSubmit:a}))}nE.defaultProps={submitError:null,template:{name:"",description:"",inventory:void 0,project:void 0}};var rE=Object(di.e)({mapPropsToValues:function(e){var t,a,n,r,i,l,o=e.template,c=void 0===o?{}:o;return{name:c.name||"",description:c.description||"",inventory:(null===c||void 0===c||null===(t=c.summary_fields)||void 0===t?void 0:t.inventory)||null,organization:(null===c||void 0===c||null===(a=c.summary_fields)||void 0===a?void 0:a.organization)||null,labels:(null===(n=c.summary_fields)||void 0===n||null===(r=n.labels)||void 0===r?void 0:r.results)||[],extra_vars:c.extra_vars||"---",limit:c.limit||"",scm_branch:c.scm_branch||"",allow_simultaneous:c.allow_simultaneous||!1,webhook_credential:(null===c||void 0===c||null===(i=c.summary_fields)||void 0===i?void 0:i.webhook_credential)||null,webhook_service:c.webhook_service||"",ask_limit_on_launch:c.ask_limit_on_launch||!1,ask_inventory_on_launch:c.ask_inventory_on_launch||!1,ask_variables_on_launch:c.ask_variables_on_launch||!1,ask_scm_branch_on_launch:c.ask_scm_branch_on_launch||!1,webhook_url:(null===c||void 0===c||null===(l=c.related)||void 0===l?void 0:l.webhook_receiver)?"".concat(aE).concat(c.related.webhook_receiver):"",webhook_key:c.webhook_key||""}},handleSubmit:function(){var e=Object(F.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=a.setErrors,e.prev=1,e.next=4,n.handleSubmit(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}()})(nE),iE=Object(c.withI18n)()(rE);var lE=function(e){var t=e.template,a=Object(o.g)(),i=Object(n.useState)(null),l=Object(O.a)(i,2),c=l[0],s=l[1],u=function(){var e=Object(F.a)(U.a.mark((function e(n){var r,i,l,o,c,u,m;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.labels,l=n.inventory,o=n.organization,c=n.webhook_credential,n.webhook_key,(u=Object(Q.a)(n,["labels","inventory","organization","webhook_credential","webhook_key"])).inventory=null===l||void 0===l?void 0:l.id,u.organization=null===o||void 0===o?void 0:o.id,u.webhook_credential=(null===c||void 0===c?void 0:c.id)||null,m=(null===o||void 0===o?void 0:o.id)||(null===l||void 0===l||null===(r=l.summary_fields)||void 0===r?void 0:r.organization.id)||null,e.prev=5,e.t0=Promise,e.next=9,d(i,m,t.organization);case 9:return e.t1=e.sent,e.next=12,e.t0.all.call(e.t0,e.t1);case 12:return e.next=14,It.update(t.id,u);case 14:a.push("/templates/workflow_job_template/".concat(t.id,"/details")),e.next=20;break;case 17:e.prev=17,e.t2=e.catch(5),s(e.t2);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(F.a)(U.a.mark((function e(){var a,n,r,i,l,o,c,s,u,d,m,p,b=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.length>0&&void 0!==b[0]?b[0]:[],n=b.length>1?b[1]:void 0,r=b.length>2?b[2]:void 0,i=Vu(t.summary_fields.labels.results,a),l=i.added,o=i.removed,c=n||r){e.next=17;break}return e.prev=6,e.next=9,vt.read();case 9:s=e.sent,u=s.data.results,c=u[0].id,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),e.t0;case 17:return e.next=19,o.map((function(e){return It.disassociateLabel(t.id,e)}));case 19:return d=e.sent,e.next=22,l.map((function(e){return It.associateLabel(t.id,e,c)}));case 22:return m=e.sent,p=[].concat(Object(le.a)(d),Object(le.a)(m)),e.abrupt("return",p);case 25:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(iE,{handleSubmit:u,handleCancel:function(){a.push("/templates/workflow_job_template/".concat(t.id,"/details"))},template:t,submitError:c}))};var oE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np);return r.a.createElement(Gn,{actions:[r.a.createElement($.a,{id:"confirm-delete-all-nodes",key:"remove",variant:"danger","aria-label":t._({id:"Confirm removal of all nodes"}),onClick:function(){return a({type:"DELETE_ALL_NODES"})}},t._({id:"Remove"})),r.a.createElement($.a,{id:"cancel-delete-all-nodes",key:"cancel",variant:"secondary","aria-label":t._({id:"Cancel node removal"}),onClick:function(){return a({type:"TOGGLE_DELETE_ALL_NODES_MODAL"})}},t._({id:"Cancel"}))],isOpen:!0,onClose:function(){return a({type:"TOGGLE_DELETE_ALL_NODES_MODAL"})},title:t._({id:"Remove All Nodes"}),variant:"danger"},r.a.createElement("p",null,t._({id:"Are you sure you want to remove all the nodes in this workflow?"})))}));var cE=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.onSaveAndExit,i=e.onExit,l=Object(n.useContext)(Np);return r.a.createElement(Rn.a,{width:600,isOpen:!0,isFooterLeftAligned:!0,title:t._({id:"Warning: Unsaved Changes"}),onClose:function(){return l({type:"TOGGLE_UNSAVED_CHANGES_MODAL"})},actions:[r.a.createElement($.a,{id:"confirm-exit-without-saving",key:"exit",variant:"danger","aria-label":t._({id:"Exit Without Saving"}),onClick:i},t._({id:"Exit Without Saving"})),r.a.createElement($.a,{id:"confirm-save-and-exit",key:"save",variant:"primary","aria-label":t._({id:"Save & Exit"}),onClick:a},t._({id:"Save & Exit"}))]},r.a.createElement("p",null,r.a.createElement(c.Trans,{id:"Are you sure you want to exit the Workflow Creator without saving your changes?"})))}));var sE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np),i=Object(n.useContext)(Lp).linkToDelete;return r.a.createElement(Gn,{variant:"danger",title:"Remove Link",isOpen:i,onClose:function(){return a({type:"SET_LINK_TO_DELETE",value:null})},actions:[r.a.createElement($.a,{id:"confirm-link-removal","aria-label":t._({id:"Confirm link removal"}),key:"remove",onClick:function(){return a({type:"DELETE_LINK"})},variant:"danger"},t._({id:"Remove"})),r.a.createElement($.a,{id:"cancel-link-removal","aria-label":t._({id:"Cancel link removal"}),key:"cancel",onClick:function(){return a({type:"SET_LINK_TO_DELETE",value:null})},variant:"secondary"},t._({id:"Cancel"}))]},r.a.createElement("p",null,t._({id:"Are you sure you want to remove this link?"})),!i.isConvergenceLink&&r.a.createElement(n.Fragment,null,r.a.createElement("br",null),r.a.createElement("p",null,t._({id:"Removing this link will orphan the rest of the branch and cause it to be executed immediately on launch."}))))})),uE=a(1005);var dE=Object(c.withI18n)()((function(e){var t=e.header,a=e.i18n,i=e.onConfirm,l=Object(n.useContext)(Np),o=Object(n.useContext)(Lp).linkToEdit,c=Object(n.useState)(o?o.linkType:"success"),s=Object(O.a)(c,2),u=s[0],d=s[1];return r.a.createElement(Rn.a,{width:600,header:t,isOpen:!0,isFooterLeftAligned:!0,title:a._({id:"Workflow Link"}),onClose:function(){return l({type:"CANCEL_LINK_MODAL"})},actions:[r.a.createElement($.a,{id:"link-confirm",key:"save",variant:"primary","aria-label":a._({id:"Save link changes"}),onClick:function(){return i(u)}},a._({id:"Save"})),r.a.createElement($.a,{id:"link-cancel",key:"cancel",variant:"secondary","aria-label":a._({id:"Cancel link changes"}),onClick:function(){return l({type:"CANCEL_LINK_MODAL"})}},a._({id:"Cancel"}))]},r.a.createElement(mi.a,{fieldId:"link-select",label:a._({id:"Run"})},r.a.createElement(Hi,{id:"link-select",name:"linkType",value:u,data:[{value:"always",key:"always",label:a._({id:"Always"})},{value:"success",key:"success",label:a._({id:"On Success"})},{value:"failure",key:"failure",label:a._({id:"On Failure"})}],onChange:function(e,t){d(t)}})))}));var mE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np);return r.a.createElement(dE,{header:r.a.createElement(E.a,{headingLevel:E.b.h1,size:uE.a["2xl"]},t._({id:"Add Link"})),onConfirm:function(e){return a({type:"CREATE_LINK",linkType:e})}})}));var pE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np);return r.a.createElement(dE,{header:r.a.createElement(E.a,{headingLevel:E.b.h1,size:uE.a["2xl"]},t._({id:"Edit Link"})),onConfirm:function(e){return a({type:"UPDATE_LINK",linkType:e})}})})),bE=a(1006),fE=a(411),hE=ce("inventory_sources",{page:1,page_size:5,order_by:"name"});function vE(e){var t=e.i18n,a=e.nodeResource,i=e.onUpdateNodeResource,l=Object(n.useState)(0),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)([]),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)(!0),E=Object(O.a)(y,2),g=E[0],j=E[1],k=Object(o.h)();return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),_([]),u(0),t=se(hE,k.search),e.prev=4,e.next=7,ut.read(t);case 7:a=e.sent,n=a.data,_(n.results),u(n.count),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),b(e.t0);case 16:return e.prev=16,j(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))()}),[k]),r.a.createElement(Nn,{contentError:p,hasContentLoading:g,itemCount:s,items:v,onRowClick:function(e){return i(e)},qsConfig:hE,showPageSizeOptions:!1,renderItem:function(e){return r.a.createElement($n,{isSelected:!(!a||a.id!==e.id),itemId:e.id,key:e.id,name:e.name,label:e.name,onSelect:function(){return i(e)},onDeselect:function(){return i(null)},isRadio:!0})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{fillWidth:!0}))},toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Source"}),key:"source",options:[["file",t._({id:"File, Directory or Script"})],["scm",t._({id:"Sourced from a Project"})],["ec2",t._({id:"Amazon EC2"})],["gce",t._({id:"Google Compute Engine"})],["azure_rm",t._({id:"Microsoft Azure Resource Manager"})],["vmware",t._({id:"VMware vCenter"})],["satellite6",t._({id:"Red Hat Satellite 6"})],["cloudforms",t._({id:"Red Hat CloudForms"})],["openstack",t._({id:"OpenStack"})],["rhv",t._({id:"Red Hat Virtualization"})],["tower",t._({id:"Ansible Tower"})],["custom",t._({id:"Custom Script"})]]}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}]})}vE.defaultProps={nodeResource:null};var _E=Object(c.withI18n)()(vE),yE=ce("job_templates",{page:1,page_size:5,order_by:"name"});function EE(e){var t=e.i18n,a=e.nodeResource,i=e.onUpdateNodeResource,l=Object(n.useState)(0),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!0),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)([]),E=Object(O.a)(y,2),g=E[0],j=E[1],k=Object(o.h)();return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),j([]),u(0),t=se(yE,k.search),e.prev=4,e.next=7,mt.read(t,{role_level:"execute_role"});case 7:a=e.sent,n=a.data,j(n.results),u(n.count),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),b(e.t0);case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))()}),[k]),r.a.createElement(Nn,{contentError:p,hasContentLoading:v,itemCount:s,items:g,onRowClick:function(e){return i(e)},qsConfig:yE,renderItem:function(e){return r.a.createElement($n,{isSelected:!(!a||a.id!==e.id),itemId:e.id,key:e.id,name:e.name,label:e.name,onSelect:function(){return i(e)},onDeselect:function(){return i(null)},isRadio:!0})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{fillWidth:!0}))},showPageSizeOptions:!1,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Playbook name"}),key:"playbook"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}]})}EE.defaultProps={nodeResource:null};var gE=Object(c.withI18n)()(EE),jE=ce("projects",{page:1,page_size:5,order_by:"name"});function OE(e){var t=e.i18n,a=e.nodeResource,i=e.onUpdateNodeResource,l=Object(n.useState)(0),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!0),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)([]),E=Object(O.a)(y,2),g=E[0],j=E[1],k=Object(o.h)();return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),j([]),u(0),t=se(jE,k.search),e.prev=4,e.next=7,_t.read(t);case 7:a=e.sent,n=a.data,j(n.results),u(n.count),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),b(e.t0);case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))()}),[k]),r.a.createElement(Nn,{contentError:p,hasContentLoading:v,itemCount:s,items:g,onRowClick:function(e){return i(e)},qsConfig:jE,renderItem:function(e){return r.a.createElement($n,{isSelected:!(!a||a.id!==e.id),itemId:e.id,key:e.id,name:e.name,label:e.name,onSelect:function(){return i(e)},onDeselect:function(){return i(null)},isRadio:!0})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{fillWidth:!0}))},showPageSizeOptions:!1,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Type"}),key:"scm_type",options:[["",t._({id:"Manual"})],["git",t._({id:"Git"})],["hg",t._({id:"Mercurial"})],["svn",t._({id:"Subversion"})],["insights",t._({id:"Red Hat Insights"})]]},{name:t._({id:"Source Control URL"}),key:"scm_url"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}]})}OE.defaultProps={nodeResource:null};var kE=Object(c.withI18n)()(OE),wE=ce("workflow_job_templates",{page:1,page_size:5,order_by:"name"});function CE(e){var t=e.i18n,a=e.nodeResource,i=e.onUpdateNodeResource,l=Object(n.useState)(0),c=Object(O.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(O.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!0),h=Object(O.a)(f,2),v=h[0],_=h[1],y=Object(n.useState)([]),E=Object(O.a)(y,2),g=E[0],j=E[1],k=Object(o.h)();return Object(n.useEffect)((function(){Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),j([]),u(0),t=se(wE,k.search),e.prev=4,e.next=7,It.read(t,{role_level:"execute_role"});case 7:a=e.sent,n=a.data,j(n.results),u(n.count),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),b(e.t0);case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))()}),[k]),r.a.createElement(Nn,{contentError:p,hasContentLoading:v,itemCount:s,items:g,onRowClick:function(e){return i(e)},qsConfig:wE,renderItem:function(e){return r.a.createElement($n,{isSelected:!(!a||a.id!==e.id),itemId:e.id,key:e.id,name:e.name,label:e.name,onSelect:function(){return i(e)},onDeselect:function(){return i(null)},isRadio:!0})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{fillWidth:!0}))},showPageSizeOptions:!1,toolbarSearchColumns:[{name:t._({id:"Name"}),key:"name",isDefault:!0},{name:t._({id:"Organization (Name)"}),key:"organization__name"},{name:t._({id:"Inventory (Name)"}),key:"inventory__name"},{name:t._({id:"Created By (Username)"}),key:"created_by__username"},{name:t._({id:"Modified By (Username)"}),key:"modified_by__username"}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"name"}]})}CE.defaultProps={nodeResource:null};var SE=Object(c.withI18n)()(CE),xE=Object(N.b)(ka.a).withConfig({displayName:"NodeTypeStep__TimeoutInput",componentId:"sc-1pfk214-0"})(["width:200px;:not(:first-of-type){margin-left:20px;}"]);xE.displayName="TimeoutInput";var TE=N.b.p.withConfig({displayName:"NodeTypeStep__TimeoutLabel",componentId:"sc-1pfk214-1"})(["margin-left:10px;"]),IE=Object(N.b)("div").withConfig({displayName:"NodeTypeStep___StyledDiv",componentId:"sc-1pfk214-2"})(["display:flex;align-items:center;margin-bottom:20px;"]),DE=Object(N.b)("b").withConfig({displayName:"NodeTypeStep___StyledB",componentId:"sc-1pfk214-3"})(["margin-right:24px"]),NE=Object(N.b)(pi.a).withConfig({displayName:"NodeTypeStep___StyledForm",componentId:"sc-1pfk214-4"})(["margin-top:20px;"]),LE=Object(N.b)("div").withConfig({displayName:"NodeTypeStep___StyledDiv2",componentId:"sc-1pfk214-5"})(["display:flex;align-items:center;"]);function RE(e){var t=e.description,a=e.i18n,n=e.name,i=e.nodeResource,l=e.nodeType,o=e.timeout,s=e.onUpdateDescription,u=e.onUpdateName,d=e.onUpdateNodeResource,m=e.onUpdateNodeType,p=e.onUpdateTimeout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(IE,null,r.a.createElement(DE,null,a._({id:"Node Type"})),r.a.createElement("div",null,r.a.createElement(Hi,{id:"nodeResource-select",label:a._({id:"Select a Node Type"}),data:[{key:"approval",value:"approval",label:a._({id:"Approval"}),isDisabled:!1},{key:"inventory_source_sync",value:"inventory_source_sync",label:a._({id:"Inventory Source Sync"}),isDisabled:!1},{key:"job_template",value:"job_template",label:a._({id:"Job Template"}),isDisabled:!1},{key:"project_sync",value:"project_sync",label:a._({id:"Project Sync"}),isDisabled:!1},{key:"workflow_job_template",value:"workflow_job_template",label:a._({id:"Workflow Job Template"}),isDisabled:!1}],value:l,onChange:function(e,t){m(t)}}))),"job_template"===l&&r.a.createElement(gE,{nodeResource:i,onUpdateNodeResource:d}),"project_sync"===l&&r.a.createElement(kE,{nodeResource:i,onUpdateNodeResource:d}),"inventory_source_sync"===l&&r.a.createElement(_E,{nodeResource:i,onUpdateNodeResource:d}),"workflow_job_template"===l&&r.a.createElement(SE,{nodeResource:i,onUpdateNodeResource:d}),"approval"===l&&r.a.createElement(di.b,{initialValues:{name:n||"",description:t||"",timeoutMinutes:Math.floor(o/60),timeoutSeconds:o-60*Math.floor(o/60)}},(function(){return r.a.createElement(NE,null,r.a.createElement(Ui,null,r.a.createElement(di.a,{name:"name"},(function(e){var t=e.field,n=e.form,i=n&&(!n.touched[t.name]||!n.errors[t.name]);return r.a.createElement(mi.a,{fieldId:"approval-name",isRequired:!0,isValid:i,label:a._({id:"Name"})},r.a.createElement(ka.a,Object.assign({autoFocus:!0,id:"approval-name",isRequired:!0,isValid:i,type:"text"},t,{onChange:function(e,a){u(a.target.value),t.onChange(a)}})))})),r.a.createElement(di.a,{name:"description"},(function(e){var t=e.field;return r.a.createElement(mi.a,{fieldId:"approval-description",label:a._({id:"Description"})},r.a.createElement(ka.a,Object.assign({id:"approval-description",type:"text"},t,{onChange:function(e,a){s(a.target.value),t.onChange(a)}})))})),r.a.createElement(mi.a,{label:a._({id:"Timeout"}),fieldId:"approval-timeout"},r.a.createElement(LE,null,r.a.createElement(di.a,{name:"timeoutMinutes"},(function(e){var t=e.field,a=e.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xE,Object.assign({id:"approval-timeout-minutes",type:"number",min:"0",step:"1"},t,{onChange:function(e,n){n.target.value&&""!==n.target.value||(n.target.value=0),p(60*Number(n.target.value)+Number(a.values.timeoutSeconds)),t.onChange(n)}})),r.a.createElement(TE,null,r.a.createElement(c.Trans,{id:"min"})))})),r.a.createElement(di.a,{name:"timeoutSeconds"},(function(e){var t=e.field,a=e.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xE,Object.assign({id:"approval-timeout-seconds",type:"number",min:"0",step:"1"},t,{onChange:function(e,n){n.target.value&&""!==n.target.value||(n.target.value=0),p(Number(n.target.value)+60*Number(a.values.timeoutMinutes)),t.onChange(n)}})),r.a.createElement(TE,null,r.a.createElement(c.Trans,{id:"sec"})))}))))))})))}RE.defaultProps={description:"",name:"",nodeResource:null,nodeType:"job_template",timeout:0};var AE=Object(c.withI18n)()(RE);function PE(){var e=Object(S.a)(["\n  display: grid;\n  grid-auto-rows: 100px;\n  grid-gap: 20px;\n  grid-template-columns: 33% 33% 33%;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  margin: 20px 0px;\n  width: 100%;\n"]);return PE=function(){return e},e}var zE=N.b.div(PE());var UE=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.linkType,n=e.onUpdateLinkType;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{headingLevel:"h1",size:"xl"},t._({id:"Run"})),r.a.createElement("p",null,t._({id:"Specify the conditions under which this node should be executed"})),r.a.createElement(zE,null,r.a.createElement(Mt,{id:"link-type-success",isSelected:"success"===a,label:t._({id:"On Success"}),description:t._({id:"Execute when the parent node results in a successful state."}),onClick:function(){return n("success")}}),r.a.createElement(Mt,{id:"link-type-failure",isSelected:"failure"===a,label:t._({id:"On Failure"}),description:t._({id:"Execute when the parent node results in a failure state."}),onClick:function(){return n("failure")}}),r.a.createElement(Mt,{id:"link-type-always",isSelected:"always"===a,label:t._({id:"Always"}),description:t._({id:"Execute regardless of the parent node's final state."}),onClick:function(){return n("always")}})))}));var FE=function(e){var t=e.activeStep,a=e.buttonText,i=e.onClick,l=e.onNext,o=e.triggerNext;return Object(n.useEffect)((function(){o&&l()}),[l,o]),r.a.createElement($.a,{id:"next-node-modal",variant:"primary",type:"submit",onClick:function(){return i(t)},isDisabled:!t.enableNext},a)},ME=Object(N.b)(Bt).withConfig({displayName:"NodeModal___StyledWizard",componentId:"sc-1nmcg0d-0"})(["overflow:scroll"]);var qE=Object(c.withI18n)()((function(e){var t=e.askLinkType,a=e.i18n,i=e.onSave,l=e.title,c=Object(o.g)(),s=Object(n.useContext)(Np),u=Object(n.useContext)(Lp).nodeToEdit,d="",m="",p=0,b=null,f="job_template";if(u&&u.unifiedJobTemplate&&u&&u.unifiedJobTemplate&&(u.unifiedJobTemplate.type||u.unifiedJobTemplate.unified_job_type))switch(u.unifiedJobTemplate.type||u.unifiedJobTemplate.unified_job_type){case"job_template":case"job":f="job_template",b=u.unifiedJobTemplate;break;case"project":case"project_update":f="project_sync",b=u.unifiedJobTemplate;break;case"inventory_source":case"inventory_update":f="inventory_source_sync",b=u.unifiedJobTemplate;break;case"workflow_job_template":case"workflow_job":f="workflow_job_template",b=u.unifiedJobTemplate;break;case"workflow_approval_template":case"workflow_approval":f="approval",m=u.unifiedJobTemplate.name,d=u.unifiedJobTemplate.description,p=u.unifiedJobTemplate.timeout}var h=Object(n.useState)(d),v=Object(O.a)(h,2),_=v[0],y=v[1],E=Object(n.useState)(m),g=Object(O.a)(E,2),j=g[0],k=g[1],w=Object(n.useState)(p),C=Object(O.a)(w,2),S=C[0],x=C[1],T=Object(n.useState)("success"),I=Object(O.a)(T,2),D=I[0],N=I[1],L=Object(n.useState)(b),R=Object(O.a)(L,2),A=R[0],P=R[1],z=Object(n.useState)(f),U=Object(O.a)(z,2),F=U[0],M=U[1],q=Object(n.useState)(0),V=Object(O.a)(q,2),B=V[0],W=V[1],G=function(){var e=c.location.search.replace(/^\?/,"").split("&").filter((function(e){return/^!(job_templates\.|projects\.|inventory_sources\.|workflow_job_templates\.)/.test(e)}));c.replace("".concat(c.location.pathname,"?").concat(e.join("&")))},H=function(){G(),s({type:"CANCEL_NODE_MODAL"})},J=[].concat(Object(le.a)(t?[{name:a._({id:"Run Type"}),key:"run_type",component:r.a.createElement(UE,{linkType:D,onUpdateLinkType:N}),enableNext:null!==D}]:[]),[{name:a._({id:"Node Type"}),key:"node_resource",enableNext:"approval"!==F&&null!==A||"approval"===F&&""!==j,component:r.a.createElement(AE,{description:_,name:j,nodeResource:A,nodeType:F,onUpdateDescription:y,onUpdateName:k,onUpdateNodeResource:P,onUpdateNodeType:function(e){M(e),P(null),k(""),y(""),x(0)},onUpdateTimeout:x,timeout:S})}]);J.forEach((function(e,t){e.id=t+1}));var K=r.a.createElement(bE.a,null,r.a.createElement(fE.a,null,(function(e){var t=e.activeStep,n=e.onNext,i=e.onBack;return r.a.createElement(r.a.Fragment,null,r.a.createElement(FE,{triggerNext:B,activeStep:t,onNext:n,onClick:function(){return W(B+1)},buttonText:"node_resource"===t.key?a._({id:"Save"}):a._({id:"Next"})}),t&&1!==t.id&&r.a.createElement($.a,{id:"back-node-modal",variant:"secondary",onClick:i},a._({id:"Back"})),r.a.createElement($.a,{id:"cancel-node-modal",variant:"link",onClick:H},a._({id:"Cancel"})))}))),Y=A?"".concat(l," | ").concat(A.name):l;return r.a.createElement(ME,{footer:K,isOpen:!0,onClose:H,onSave:function(){G(),i("approval"===F?{description:_,name:j,timeout:S,type:"workflow_approval_template"}:A,t?D:null)},steps:J,title:Y})}));var VE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np),i=Object(n.useContext)(Lp).addNodeSource;return r.a.createElement(qE,{askLinkType:1!==i,onSave:function(e,t){a({type:"CREATE_NODE",node:{linkType:t,nodeResource:e}})},title:t._({id:"Add Node"})})})),BE=Object(N.b)("strong").withConfig({displayName:"NodeDeleteModal___StyledStrong",componentId:"sc-1qwmlkc-0"})(["color:var(--pf-global--danger-color--100)"]);var WE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np),i=Object(n.useContext)(Lp).nodeToDelete;return r.a.createElement(Gn,{variant:"danger",title:t._({id:"Remove Node"}),isOpen:i,onClose:function(){return a({type:"SET_NODE_TO_DELETE",value:null})},actions:[r.a.createElement($.a,{id:"confirm-node-removal",key:"remove",variant:"danger","aria-label":t._({id:"Confirm node removal"}),onClick:function(){return a({type:"DELETE_NODE"})}},t._({id:"Remove"})),r.a.createElement($.a,{id:"cancel-node-removal",key:"cancel",variant:"secondary","aria-label":t._({id:"Cancel node removal"}),onClick:function(){return a({type:"SET_NODE_TO_DELETE",value:null})}},t._({id:"Cancel"}))]},i&&i.unifiedJobTemplate?r.a.createElement(n.Fragment,null,r.a.createElement("p",null,t._({id:"Are you sure you want to remove the node below:"})),r.a.createElement("br",null),r.a.createElement(BE,null,i.unifiedJobTemplate.name)):r.a.createElement("p",null,t._({id:"Are you sure you want to remove this node?"})))}));var GE=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np);return r.a.createElement(qE,{askLinkType:!1,onSave:function(e){a({type:"UPDATE_NODE",node:{nodeResource:e}})},title:t._({id:"Edit Node"})})}));var HE=Object(c.withI18n)()((function(e){var t,a=e.i18n,i=Object(n.useContext)(Np),l=Object(n.useContext)(Lp).nodeToView,o=l.unifiedJobTemplate,c=function(e){switch(e.type||e.unified_job_type){case"job_template":case"job":return["job_template",mt];case"project":case"project_update":return["project_sync",_t];case"inventory_source":case"inventory_update":return["inventory_source_sync",ut];case"workflow_job_template":case"workflow_job":return["workflow_job_template",It];case"workflow_approval_template":case"workflow_approval":return["approval",null];default:return null}}(o),s=Object(O.a)(c,2),u=s[0],d=s[1],m=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="workflow_job_template"===u?It.readLaunch(o.id):mt.readLaunch(o.id),e.next=3,t;case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),[u,o.id]),{}),p=m.result,b=m.isLoading,f=m.error,h=m.request,v=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,c,s,u,m;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===d||void 0===d?void 0:d.readDetail(o.id);case 2:if(r=e.sent,i=r.data,"job_template"!==(null===(t=i)||void 0===t?void 0:t.type)){e.next=11;break}return e.next=7,mt.readInstanceGroups(i.id);case 7:l=e.sent,c=l.data.results,s=void 0===c?[]:c,i=Object.assign(i,{instance_groups:s});case 11:if(!(null===(a=i)||void 0===a||null===(n=a.related)||void 0===n?void 0:n.webhook_receiver)){e.next=17;break}return e.next=14,null===d||void 0===d?void 0:d.readWebhookKey(i.id);case 14:u=e.sent,m=u.data.webhook_key,i=Object.assign(i,{webhook_key:m});case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)}))),[d,o.id]),null),_=v.result,y=v.isLoading,E=v.error,g=v.request;return Object(n.useEffect)((function(){"workflow_job_template"!==u&&"job_template"!==u||h(),o.unified_job_type&&"approval"!==u&&g()}),[]),Object(n.useEffect)((function(){_&&i({type:"REFRESH_NODE",node:{nodeResource:_}})}),[_]),t=b||y?r.a.createElement(bn,null):f||E?r.a.createElement(dn,{error:f||E}):r.a.createElement(au,{launchConfig:p,resource:o}),r.a.createElement(Rn.a,{isLarge:!0,isOpen:!0,isFooterLeftAligned:!0,title:o.name,onClose:function(){return i({type:"SET_NODE_TO_VIEW",value:null})},actions:[r.a.createElement($.a,{key:"edit","aria-label":a._({id:"Edit Node"}),onClick:function(){i({type:"SET_NODE_TO_VIEW",value:null}),i({type:"SET_NODE_TO_EDIT",value:l})}},a._({id:"Edit"}))]},t)}));function JE(){var e=Object(S.a)(["\n  pointer-events: ",";\n"]);return JE=function(){return e},e}var KE=N.b.g(JE(),(function(e){return e.ignorePointerEvents?"none":"auto"}));var YE=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.link,i=e.updateLinkHelp,l=e.readOnly,o=e.updateHelpText,c=Object(n.useRef)(null),s=Object(n.useState)(!1),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)("#CCCCCC"),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)(),j=Object(O.a)(g,2),k=j[0],w=j[1],C=Object(n.useState)(),S=Object(O.a)(C,2),x=S[0],T=S[1],I=Object(n.useContext)(Np),D=Object(n.useContext)(Lp),N=D.addingLink,L=D.nodePositions,R=r.a.createElement(ub,{id:"link-add-node",key:"add",onClick:function(){o(null),m(!1),I({type:"START_ADD_NODE",sourceNodeId:a.source.id,targetNodeId:a.target.id})},onMouseEnter:function(){return o(t._({id:"Add a new node between these two nodes"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(tp.a,null)),A=1===a.source.id?[R]:[R,r.a.createElement(ub,{id:"link-edit",key:"edit",onClick:function(){o(null),m(!1),I({type:"SET_LINK_TO_EDIT",value:a})},onMouseEnter:function(){return o(t._({id:"Edit this link"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(Fl.a,null)),r.a.createElement(ub,{id:"link-delete",key:"delete",onClick:function(){o(null),m(!1),I({type:"START_DELETE_LINK",link:a})},onMouseEnter:function(){return o(t._({id:"Delete this link"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(Fm.a,null))];return Object(n.useEffect)((function(){"failure"===a.linkType&&E("#d9534f"),"success"===a.linkType&&E("#5cb85c"),"always"===a.linkType&&E("#337ab7")}),[a.linkType]),Object(n.useEffect)((function(){var e=Bp(a,L);h(Vp(e)),w((e[0].x+e[1].x)/2),T((e[0].y+e[1].y)/2)}),[a,L]),r.a.createElement(KE,{id:"link-".concat(a.source.id,"-").concat(a.target.id),ignorePointerEvents:N,onMouseEnter:function(){c.current.parentNode.appendChild(c.current),m(!0)},onMouseLeave:function(){c.current.parentNode.prepend(c.current),m(null)},ref:c},r.a.createElement("polygon",{fill:"#E1E1E1",id:"link-".concat(a.source.id,"-").concat(a.target.id,"-background"),opacity:d?"1":"0",points:Wp(a,L)}),r.a.createElement("path",{d:f,stroke:y,strokeWidth:"2px"}),r.a.createElement("polygon",{id:"link-".concat(a.source.id,"-").concat(a.target.id,"-overlay"),onMouseEnter:function(){return i(a)},onMouseLeave:function(){return i(null)},opacity:"0",points:Wp(a,L)}),!l&&d&&r.a.createElement(lb,{actions:A,pointX:k,pointY:x}))})),XE=a(1007),ZE=a(1008);function QE(){var e=Object(S.a)(["\n  margin-top: 20px;\n  overflow: hidden;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return QE=function(){return e},e}function $E(){var e=Object(S.a)(["\n  font-size: 13px;\n  padding: 0px 10px;\n  background-color: ",";\n"]);return $E=function(){return e},e}function eg(){var e=Object(S.a)(["\n  pointer-events: ",";\n  cursor: ",";\n"]);return eg=function(){return e},e}var tg=N.b.g(eg(),(function(e){return e.noPointerEvents?"none":"initial"}),(function(e){return e.job?"pointer":"default"})),ag=N.b.div($E(),(function(e){return e.isInvalidLinkTarget?"#D7D7D7":"#FFFFFF"})),ng=N.b.p(QE());function rg(e){var t=e.i18n,a=e.node,i=e.onMouseOver,l=e.readOnly,o=e.updateHelpText,c=e.updateNodeHelp,s=Object(n.useRef)(null),u=Object(n.useState)(!1),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(n.useContext)(Np),f=Object(n.useContext)(Lp),h=f.addingLink,v=f.addLinkSourceNode,_=f.nodePositions,y=v&&v.id===a.id,E=r.a.createElement(ub,{id:"node-details",key:"details",onClick:function(){o(null),p(!1),b({type:"SET_NODE_TO_VIEW",value:a})},onMouseEnter:function(){return o(t._({id:"View node details"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(XE.a,null)),g=l?[E]:[r.a.createElement(ub,{id:"node-add",key:"add",onClick:function(){o(null),p(!1),b({type:"START_ADD_NODE",sourceNodeId:a.id})},onMouseEnter:function(){return o(t._({id:"Add a new node"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(tp.a,null)),E,r.a.createElement(ub,{id:"node-edit",key:"edit",onClick:function(){o(null),p(!1),b({type:"SET_NODE_TO_EDIT",value:a})},onMouseEnter:function(){return o(t._({id:"Edit this node"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(Fl.a,null)),r.a.createElement(ub,{id:"node-link",key:"link",onClick:function(){o(null),p(!1),b({type:"SELECT_SOURCE_FOR_LINKING",node:a})},onMouseEnter:function(){return o(t._({id:"Link to an available node"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(ZE.a,null)),r.a.createElement(ub,{id:"node-delete",key:"delete",onClick:function(){o(null),p(!1),b({type:"SET_NODE_TO_DELETE",value:a})},onMouseEnter:function(){return o(t._({id:"Delete this node"}))},onMouseLeave:function(){return o(null)}},r.a.createElement(Fm.a,null))];return r.a.createElement(tg,{id:"node-".concat(a.id),job:a.job,noPointerEvents:y,onMouseEnter:function(){s.current.parentNode.appendChild(s.current),p(!0),h&&(o(a.isInvalidLinkTarget?t._({id:"Invalid link target.  Unable to link to children or ancestor nodes.  Graph cycles are not supported."}):t._({id:"Click to create a new link to this node."})),i(a))},onMouseLeave:function(){p(!1),h&&o(null)},ref:s,transform:"translate(".concat(_[a.id].x,",").concat(_[a.id].y-_[1].y,")")},r.a.createElement("rect",{fill:"#FFFFFF",height:Up,rx:"2",ry:"2",stroke:m&&h&&!a.isInvalidLinkTarget?"#007ABC":"#93969A",strokeWidth:"2px",width:zp}),r.a.createElement("foreignObject",Object.assign({height:"58"},!h&&{onMouseEnter:function(){return c(a)},onMouseLeave:function(){return c(null)}},{onClick:function(){!h||a.isInvalidLinkTarget||y||b({type:"SET_ADD_LINK_TARGET_NODE",value:a})},width:"178",x:"1",y:"1"}),r.a.createElement(ag,{isInvalidLinkTarget:a.isInvalidLinkTarget},r.a.createElement(ng,{id:"node-".concat(a.id,"-name")},a.unifiedJobTemplate?a.unifiedJobTemplate.name:t._({id:"DELETED"})))),a.unifiedJobTemplate&&r.a.createElement(Xb,{node:a}),m&&!h&&r.a.createElement(lb,{pointX:zp,pointY:Up/2,actions:g}))}ng.displayName="NodeResourceName",rg.defaultProps={onMouseOver:function(){}};var ig=Object(c.withI18n)()(rg),lg=N.b.polyline.withConfig({displayName:"VisualizerGraph__PotentialLink",componentId:"miv8p8-0"})(["pointer-events:none;"]),og=N.b.svg.withConfig({displayName:"VisualizerGraph__WorkflowSVG",componentId:"miv8p8-1"})(["background-color:#f6f6f6;display:flex;height:100%;"]),cg=Object(N.b)("div").withConfig({displayName:"VisualizerGraph___StyledDiv",componentId:"miv8p8-2"})(["position:absolute;top:75px;right:20px;display:flex;"]);var sg=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.readOnly,i=Object(n.useState)(null),l=Object(O.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)(),u=Object(O.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(),b=Object(O.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(100),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useRef)(null),j=Object(n.useRef)(null),k=Object(n.useContext)(Lp),w=k.addLinkSourceNode,C=k.addingLink,S=k.links,x=k.nodePositions,T=k.nodes,I=k.showLegend,D=k.showTools,N=Object(n.useContext)(Np),L=function(){var e=Rp.f(Rp.c(g.current).node()).k,t=Rp.c(j.current).node().getBoundingClientRect(),a=Rp.c(j.current).node().getBBox(),n=qp(t,g.current.getBoundingClientRect(),a,e),r=Object(O.a)(n,2),i=r[0],l=r[1];Rp.c(g.current).call(R.transform,Rp.e.translate(0,l).scale(i)),E(100*i)},R=Rp.d().scaleExtent([.1,2]).on("zoom",(function(){var e=[Rp.a.transform.x,Rp.a.transform.y];Rp.c(j.current).attr("transform","translate(".concat(e,") scale(").concat(Rp.a.transform.k,")")),E(100*Rp.a.transform.k)}));return Object(n.useEffect)((function(){Rp.c(g.current).call(R)}),[R]),Object(n.useEffect)((function(){L()}),[]),r.a.createElement(r.a.Fragment,null,(o||f||d)&&r.a.createElement(fb,null,o&&r.a.createElement("p",null,o),f&&r.a.createElement(Gb,{node:f}),d&&r.a.createElement(Mb,{link:d})),r.a.createElement(og,{id:"workflow-svg",ref:g},r.a.createElement("defs",null,r.a.createElement("marker",{className:"WorkflowChart-noPointerEvents",id:"workflow-triangle",markerHeight:"6",markerUnits:"strokeWidth",markerWidth:"6",orient:"auto",refX:"10",viewBox:"0 -5 10 10"},r.a.createElement("path",{d:"M0,-5L10,0L0,5",fill:"#93969A"}))),r.a.createElement("rect",Object.assign({height:"100%",id:"workflow-backround",opacity:"0",width:"100%"},C&&{onMouseMove:function(e){return function(e){var t=Rp.f(Rp.c(j.current).node()),a=e.target.getBoundingClientRect(),n=e.clientX-a.left,r=e.clientY-a.top,i=x[w.id].x,l=x[w.id].y-x[1].y,o=i+zp,c=l+Up/2;Rp.c("#workflow-potentialLink").attr("points","".concat(o,",").concat(c," ").concat(n/t.k-t.x/t.k,",").concat(r/t.k-t.y/t.k)).raise()}(e)},onMouseOver:function(){return c(t._({id:"Click an available node to create a new link.  Click outside the graph to cancel."}))},onMouseOut:function(){return c(null)},onClick:function(){return c(null),void N({type:"CANCEL_LINK"})}})),r.a.createElement("g",{id:"workflow-g",ref:j},x&&[r.a.createElement(ef,{key:"start",showActionTooltip:!a,onUpdateHelpText:c}),S.map((function(e){return x[e.source.id]&&x[e.target.id]?r.a.createElement(YE,{key:"link-".concat(e.source.id,"-").concat(e.target.id),link:e,readOnly:a,updateLinkHelp:function(e){return m(e)},updateHelpText:function(e){return c(e)}}):null})),T.map((function(e){return e.id>1&&x[e.id]&&!e.isDeleted?r.a.createElement(ig,Object.assign({key:"node-".concat(e.id),node:e,readOnly:a,updateHelpText:function(e){return c(e)},updateNodeHelp:function(e){return h(e)}},C&&{onMouseOver:function(){return function(e){if(e.id!==w.id){var t=x[w.id].x,a=x[w.id].y-x[1].y,n=x[e.id].x,r=x[e.id].y-x[1].y,i=t+zp,l=a+Up/2,o=n,c=r+Up/2;Rp.c("#workflow-potentialLink").attr("points","".concat(i,",").concat(l," ").concat(o,",").concat(c)).raise()}}(e)}})):null}))],C&&r.a.createElement(lg,{id:"workflow-potentialLink",markerEnd:"url(#workflow-triangle)",stroke:"#93969A",strokeDasharray:"5,5",strokeWidth:"2"}))),r.a.createElement(cg,null,D&&r.a.createElement(gf,{onFitGraph:L,onPan:function(e){var t=Rp.f(Rp.c(g.current).node()),a=t.x,n=t.y,r=t.k;switch(e){case"up":n-=50;break;case"down":n+=50;break;case"left":a-=50;break;case"right":a+=50}Rp.c(g.current).call(R.transform,Rp.e.translate(a,n).scale(r))},onPanToMiddle:function(){var e=g.current.getBoundingClientRect();Rp.c(g.current).call(R.transform,Rp.e.translate(0,e.height/2-30).scale(1)),E(100)},onZoomChange:function(e){var t=Hp(g.current.getBoundingClientRect(),Rp.f(Rp.c(g.current).node()),e),a=Object(O.a)(t,2),n=a[0],r=a[1];Rp.c(g.current).call(R.transform,Rp.e.translate(n,r).scale(e)),E(100*e)},zoomPercentage:y}),I&&r.a.createElement(zb,null)))})),ug=Object(N.b)($.a).withConfig({displayName:"VisualizerStartScreen__Button",componentId:"sc-1stetb2-0"})(["&&{background-color:#5cb85c;padding:5px 8px;--pf-global--FontSize--md:14px;margin-top:20px;}"]),dg=N.b.div.withConfig({displayName:"VisualizerStartScreen__StartPanel",componentId:"sc-1stetb2-1"})(["background-color:white;border:1px solid #c7c7c7;padding:60px 80px;text-align:center;"]),mg=N.b.div.withConfig({displayName:"VisualizerStartScreen__StartPanelWrapper",componentId:"sc-1stetb2-2"})(["align-items:center;background-color:#f6f6f6;display:flex;height:100%;justify-content:center;"]),pg=Object(N.b)("div").withConfig({displayName:"VisualizerStartScreen___StyledDiv",componentId:"sc-1stetb2-3"})(["flex:1"]);var bg=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useContext)(Np);return r.a.createElement(pg,null,r.a.createElement(mg,null,r.a.createElement(dg,null,r.a.createElement("p",null,t._({id:"Please click the Start button to begin."})),r.a.createElement(ug,{id:"visualizer-start","aria-label":t._({id:"Start"}),onClick:function(){return a({type:"START_ADD_NODE",sourceNodeId:1})},variant:"primary"},t._({id:"Start"})))))})),fg=a(1009),hg=Object(N.b)(Em.a).withConfig({displayName:"VisualizerToolbar__Badge",componentId:"sc-1vrkrp5-0"})(["align-items:center;display:flex;justify-content:center;margin-left:10px;"]),vg=Object(N.b)($.a).withConfig({displayName:"VisualizerToolbar__ActionButton",componentId:"sc-1vrkrp5-1"})(["padding:6px 10px;margin:0px 6px;border:none;&:hover{background-color:#0066cc;color:white;}&.pf-m-active{background-color:#0066cc;color:white;}"]);vg.displayName="ActionButton";var _g=Object(N.b)("div").withConfig({displayName:"VisualizerToolbar___StyledDiv",componentId:"sc-1vrkrp5-2"})(["align-items:center;border-bottom:1px solid grey;display:flex;height:56px;padding:0px 20px;"]),yg=Object(N.b)("div").withConfig({displayName:"VisualizerToolbar___StyledDiv2",componentId:"sc-1vrkrp5-3"})(["align-items:center;display:flex;flex:1;justify-content:flex-end"]),Eg=Object(N.b)($.a).withConfig({displayName:"VisualizerToolbar___StyledButton",componentId:"sc-1vrkrp5-4"})(["margin:0 32px"]);var gg=Object(c.withI18n)()((function(e){var t,a,i=e.i18n,l=e.onClose,o=e.onSave,c=e.template,s=e.hasUnsavedChanges,u=Object(n.useContext)(Np),d=Object(n.useContext)(Lp),m=d.nodes,p=d.showLegend,b=d.showTools,f=m.reduce((function(e,t){return e+!t.isDeleted}),0)-1,h=(null===(t=c.summary_fields)||void 0===t||null===(a=t.user_capabilities)||void 0===a?void 0:a.start)&&!s;return r.a.createElement("div",{id:"visualizer-toolbar"},r.a.createElement(_g,null,r.a.createElement(E.a,{size:"xl",id:"visualizer-toolbar-template-name"},c.name),r.a.createElement(yg,null,r.a.createElement("div",null,i._({id:"Total Nodes"})),r.a.createElement(hg,{id:"visualizer-total-nodes-badge",isRead:!0},f),r.a.createElement(Ln.a,{content:i._({id:"Toggle Legend"}),position:"bottom"},r.a.createElement(vg,{id:"visualizer-toggle-legend",isActive:f>0&&p,isDisabled:0===f,onClick:function(){return u({type:"TOGGLE_LEGEND"})},variant:"plain"},r.a.createElement(Pf.a,null))),r.a.createElement(Ln.a,{content:i._({id:"Toggle Tools"}),position:"bottom"},r.a.createElement(vg,{id:"visualizer-toggle-tools",isActive:f>0&&b,isDisabled:0===f,onClick:function(){return u({type:"TOGGLE_TOOLS"})},variant:"plain"},r.a.createElement(zf.a,null))),r.a.createElement(vg,{"aria-label":i._({id:"Workflow Documentation"}),id:"visualizer-documentation",variant:"plain",component:"a",target:"_blank",href:"https://docs.ansible.com/ansible-tower/latest/html/userguide/workflow_templates.html#ug-wf-editor"},r.a.createElement(fg.a,null)),r.a.createElement(cu,{resource:c,"aria-label":i._({id:"Launch"})},(function(e){var t=e.handleLaunch;return r.a.createElement(vg,{id:"visualizer-launch",variant:"plain",isDisabled:!h||0===f,onClick:t},r.a.createElement(is.a,null))})),r.a.createElement(Ln.a,{content:i._({id:"Delete All Nodes"}),position:"bottom"},r.a.createElement(vg,{id:"visualizer-delete-all","aria-label":i._({id:"Delete all nodes"}),isDisabled:0===f,onClick:function(){return u({type:"SET_SHOW_DELETE_ALL_NODES_MODAL",value:!0})},variant:"plain"},r.a.createElement(Fm.a,null))),r.a.createElement(Eg,{id:"visualizer-save","aria-label":i._({id:"Save"}),variant:"primary",onClick:o},i._({id:"Save"})),r.a.createElement($.a,{id:"visualizer-close","aria-label":i._({id:"Close"}),onClick:l,variant:"plain"},r.a.createElement(ee.a,null)))))}));function jg(){var e=Object(S.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n"]);return jg=function(){return e},e}function Og(){var e=Object(S.a)(["\n  align-items: center;\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n  justify-content: center;\n"]);return Og=function(){return e},e}var kg=N.b.div(Og()),wg=N.b.div(jg()),Cg=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:1,n=l.length>2&&void 0!==l[2]?l[2]:[],e.next=4,It.readNodes(t,{page_size:200,page:a});case 4:if(r=e.sent,!(i=r.data).next){e.next=8;break}return e.abrupt("return",Cg(t,a+1,n.concat(i.results)));case 8:return e.abrupt("return",n.concat(i.results));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Sg=Object(c.withI18n)()((function(e){var t=e.template,a=e.i18n,i=Object(o.g)(),l=Object(n.useReducer)(Kp,{addLinkSourceNode:null,addLinkTargetNode:null,addNodeSource:null,addNodeTarget:null,addingLink:!1,contentError:null,isLoading:!0,linkToDelete:null,linkToEdit:null,links:[],nextNodeId:0,nodePositions:null,nodeToDelete:null,nodeToEdit:null,nodeToView:null,nodes:[],showDeleteAllNodesModal:!1,showLegend:!1,showTools:!1,showUnsavedChangesModal:!1,unsavedChanges:!1}),c=Object(O.a)(l,2),s=c[0],u=c[1],d=s.addLinkSourceNode,m=s.addLinkTargetNode,p=s.addNodeSource,b=s.contentError,f=s.isLoading,h=s.linkToDelete,v=s.linkToEdit,_=s.links,y=s.nodeToDelete,E=s.nodeToEdit,g=s.nodeToView,j=s.nodes,k=s.showDeleteAllNodesModal,w=s.showUnsavedChangesModal,C=s.unsavedChanges,S=function(e,t){var a=[];return e.forEach((function(e){switch(e.linkType){case"success":a.push(Tt.associateSuccessNode(t[e.source.id].id,t[e.target.id].id));break;case"failure":a.push(Tt.associateFailureNode(t[e.source.id].id,t[e.target.id].id));break;case"always":a.push(Tt.associateAlwaysNode(t[e.source.id].id,t[e.target.id].id))}})),a},x=function(e,t,a){var n=[];return Object.keys(e).forEach((function(r){var i=e[r];i.success_nodes.forEach((function(e){t.includes(e)||a[i.id]&&a[i.id][e]&&"success"===a[i.id][e]||n.push(Tt.disassociateSuccessNode(i.id,e))})),i.failure_nodes.forEach((function(e){t.includes(e)||a[i.id]&&a[i.id][e]&&"failure"===a[i.id][e]||n.push(Tt.disassociateFailuresNode(i.id,e))})),i.always_nodes.forEach((function(e){t.includes(e)||a[i.id]&&a[i.id][e]&&"always"===a[i.id][e]||n.push(Tt.disassociateAlwaysNode(i.id,e))}))})),n},T=function(e){var t={},a=[];return _.forEach((function(n){if(1!==n.source.id){var r=e[n.source.id].id,i=e[n.target.id].id;switch(t[r]||(t[r]={}),t[r][i]=n.linkType,n.linkType){case"success":e[n.source.id].success_nodes.includes(e[n.target.id].id)||a.push(n);break;case"failure":e[n.source.id].failure_nodes.includes(e[n.target.id].id)||a.push(n);break;case"always":e[n.source.id].always_nodes.includes(e[n.target.id].id)||a.push(n)}}})),[t,a]},I=function(){var e=Object(F.a)(U.a.mark((function e(){var a,n,r,l,o,c,s,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n=[],r={},l=[],j.forEach((function(e){if(1!==e.id){if(e.originalNodeObject&&!e.isDeleted){var i=e.originalNodeObject,o=i.id,c=i.success_nodes,s=i.failure_nodes,u=i.always_nodes;r[e.id]={id:o,success_nodes:c,failure_nodes:s,always_nodes:u}}e.isDeleted&&e.originalNodeObject?(l.push(e.originalNodeObject.id),a.push(Tt.destroy(e.originalNodeObject.id))):e.isDeleted||e.originalNodeObject?e.isEdited&&(!e.unifiedJobTemplate||"workflow_approval"!==e.unifiedJobTemplate.unified_job_type&&"workflow_approval_template"!==e.unifiedJobTemplate.type?a.push(Tt.update(e.originalNodeObject.id,{unified_job_template:e.unifiedJobTemplate.id})):"workflow_approval"===e.originalNodeObject.summary_fields.unified_job_template.unified_job_type?n.push(St.update(e.originalNodeObject.summary_fields.unified_job_template.id,{name:e.unifiedJobTemplate.name,description:e.unifiedJobTemplate.description,timeout:e.unifiedJobTemplate.timeout})):n.push(Tt.createApprovalTemplate(e.originalNodeObject.id,{name:e.unifiedJobTemplate.name,description:e.unifiedJobTemplate.description,timeout:e.unifiedJobTemplate.timeout}))):"workflow_approval_template"===e.unifiedJobTemplate.type?a.push(It.createNode(t.id,{}).then((function(t){var a=t.data;e.originalNodeObject=a,r[e.id]={id:a.id,success_nodes:[],failure_nodes:[],always_nodes:[]},n.push(Tt.createApprovalTemplate(a.id,{name:e.unifiedJobTemplate.name,description:e.unifiedJobTemplate.description,timeout:e.unifiedJobTemplate.timeout}))}))):a.push(It.createNode(t.id,{unified_job_template:e.unifiedJobTemplate.id}).then((function(t){var a=t.data;e.originalNodeObject=a,r[e.id]={id:a.id,success_nodes:[],failure_nodes:[],always_nodes:[]}})))}})),e.next=7,Promise.all(a);case 7:return e.next=9,Promise.all(n);case 9:return o=T(r),c=Object(O.a)(o,2),s=c[0],u=c[1],e.next=12,Promise.all(x(r,l,s));case 12:return e.next=14,Promise.all(S(u,r));case 14:i.push("/templates/workflow_job_template/".concat(t.id,"/details"));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cg(t.id);case 3:n=e.sent,u({type:"GENERATE_NODES_AND_LINKS",nodes:n,i18n:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u({type:"SET_CONTENT_ERROR",value:e.t0});case 10:return e.prev=10,u({type:"SET_IS_LOADING",value:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.id,a]),Object(n.useEffect)((function(){if(j){var e={},t=Gp(j.filter((function(e){return!e.isDeleted})),_);t.nodes().forEach((function(a){e[a]=t.node(a)})),u({type:"SET_NODE_POSITIONS",value:e})}}),[_,j]),f?r.a.createElement(kg,null,r.a.createElement(bn,null)):b?r.a.createElement(kg,null,r.a.createElement(dn,{error:b})):r.a.createElement(Lp.Provider,{value:s},r.a.createElement(Np.Provider,{value:u},r.a.createElement(wg,null,r.a.createElement(gg,{onClose:function(){C?u({type:"TOGGLE_UNSAVED_CHANGES_MODAL"}):i.push("/templates/workflow_job_template/".concat(t.id,"/details"))},onSave:I,hasUnsavedChanges:C,template:t}),_.length>0?r.a.createElement(sg,{readOnly:!t.summary_fields.user_capabilities.edit}):r.a.createElement(bg,null)),y&&r.a.createElement(WE,null),h&&r.a.createElement(sE,null),v&&r.a.createElement(pE,null),d&&m&&r.a.createElement(mE,null),p&&r.a.createElement(VE,null),E&&r.a.createElement(GE,null),w&&r.a.createElement(cE,{onExit:function(){return i.push("/templates/workflow_job_template/".concat(t.id,"/details"))},onSaveAndExit:function(){return I()}}),k&&r.a.createElement(oE,null),g&&r.a.createElement(HE,null)))})),xg=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={contentError:null,hasContentLoading:!0,template:null,isNotifAdmin:!1},n.createSchedule=n.createSchedule.bind(Object(ne.a)(n)),n.loadTemplate=n.loadTemplate.bind(Object(ne.a)(n)),n.loadSchedules=n.loadSchedules.bind(Object(ne.a)(n)),n.loadScheduleOptions=n.loadScheduleOptions.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadTemplate();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.location===t.location){e.next=4;break}return e.next=4,this.loadTemplate();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadTemplate",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u,d,m,p;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.setBreadcrumb,n=t.match,r=n.params.id,this.setState({contentError:null}),e.prev=3,e.next=6,It.readDetail(r);case 6:if(c=e.sent,!(null===(s=c.data)||void 0===s?void 0:s.webhook_service)||!(null===s||void 0===s||null===(i=s.related)||void 0===i?void 0:i.webhook_key)){e.next=12;break}return e.next=11,It.readWebhookKey(r);case 11:u=e.sent;case 12:if(!(null===s||void 0===s||null===(l=s.summary_fields)||void 0===l?void 0:l.webhook_credential)){e.next=18;break}return e.next=15,rt.readDetail(s.summary_fields.webhook_credential.id);case 15:d=e.sent,m=d.data.summary_fields.credential_type.name,s.summary_fields.webhook_credential.kind=m;case 18:return e.next=20,vt.read({page_size:1,role_level:"notification_admin_role"});case 20:p=e.sent,a(s),this.setState({template:Object(oe.a)(Object(oe.a)({},s),{},{webhook_key:null===(o=u)||void 0===o?void 0:o.data.webhook_key}),isNotifAdmin:p.data.results.length>0}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(3),this.setState({contentError:e.t0});case 28:return e.prev=28,this.setState({hasContentLoading:!1}),e.finish(28);case 31:case"end":return e.stop()}}),e,this,[[3,25,28,31]])})));return function(){return e.apply(this,arguments)}}()},{key:"createSchedule",value:function(e){var t=this.state.template;return It.createSchedule(t.id,e)}},{key:"loadScheduleOptions",value:function(){var e=this.state.template;return It.readScheduleOptions(e.id)}},{key:"loadSchedules",value:function(e){var t=this.state.template;return It.readSchedules(t.id,e)}},{key:"render",value:function(){var e,t,a=this.props,n=a.i18n,i=a.me,l=a.location,c=a.match,s=a.setBreadcrumb,u=this.state,d=u.contentError,m=u.hasContentLoading,p=u.template,b=u.isNotifAdmin,f=i.is_system_auditor||b,h=b,v=(null===p||void 0===p||null===(e=p.summary_fields)||void 0===e?void 0:e.user_capabilities.edit)||(null===p||void 0===p||null===(t=p.summary_fields)||void 0===t?void 0:t.user_capabilities.delete),_=[{name:n._({id:"Details"}),link:"".concat(c.url,"/details")},{name:n._({id:"Access"}),link:"".concat(c.url,"/access")}];if(f&&_.push({name:n._({id:"Notifications"}),link:"".concat(c.url,"/notifications")}),p&&_.push({name:n._({id:"Schedules"}),link:"".concat(c.url,"/schedules")}),_.push({name:n._({id:"Visualizer"}),link:"".concat(c.url,"/visualizer")}),_.push({name:n._({id:"Completed Jobs"}),link:"".concat(c.url,"/completed_jobs")}),_.push({name:v?n._({id:"Survey"}):n._({id:"View Survey"}),link:"".concat(c.url,"/survey")}),_.forEach((function(e,t){e.id=t})),m)return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(bn,null)));if(d)return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:d},404===d.response.status&&r.a.createElement("span",null,n._("Template not found.")," ",r.a.createElement(D.b,{to:"/templates"},n._("View all Templates."))))));var E=r.a.createElement(W,null,r.a.createElement(li,{tabsArray:_}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/templates"})));return r.a.createElement(y.a,null,r.a.createElement(q.a,null,l.pathname.endsWith("edit")||l.pathname.includes("schedules/")?null:E,r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/templates/workflow_job_template/:id",to:"/templates/workflow_job_template/:id/details",exact:!0}),p&&r.a.createElement(o.b,{key:"wfjt-details",path:"/templates/workflow_job_template/:id/details"},r.a.createElement(tE,{template:p})),p&&r.a.createElement(o.b,{path:"/templates/workflow_job_template/:id/access"},r.a.createElement(ni,{resource:p,apiModel:It})),f&&r.a.createElement(o.b,{path:"/templates/workflow_job_template/:id/notifications"},r.a.createElement(Mh,{id:Number(c.params.id),canToggleNotifications:h,apiModel:It})),p&&r.a.createElement(o.b,{key:"wfjt-edit",path:"/templates/workflow_job_template/:id/edit"},r.a.createElement(lE,{template:p})),p&&r.a.createElement(o.b,{key:"wfjt-visualizer",path:"/templates/workflow_job_template/:id/visualizer"},r.a.createElement(Qy,null,r.a.createElement(eE,null,r.a.createElement(Sg,{template:p})))),(null===p||void 0===p?void 0:p.id)&&r.a.createElement(o.b,{path:"/templates/workflow_job_template/:id/completed_jobs"},r.a.createElement(mu,{defaultParams:{workflow_job__workflow_job_template:p.id}})),(null===p||void 0===p?void 0:p.id)&&r.a.createElement(o.b,{path:"/templates/workflow_job_template/:id/schedules"},r.a.createElement(d_,{setBreadcrumb:s,unifiedJobTemplate:p,createSchedule:this.createSchedule,loadSchedules:this.loadSchedules,loadScheduleOptions:this.loadScheduleOptions})),p&&r.a.createElement(o.b,{path:"/templates/:templateType/:id/survey"},r.a.createElement(Xy,{template:p,canEdit:v})),r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,{isNotFound:!0},c.params.id&&r.a.createElement(D.b,{to:"/templates/workflow_job_template/".concat(c.params.id,"/details")},n._("View Template Details")))))))}}]),a}(n.Component),Tg=Object(c.withI18n)()(Object(o.k)(xg));var Ig=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(o.g)();function c(){return(c=Object(F.a)(U.a.mark((function e(t){var a,n,r,o,c,u,p,b,f;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.labels,n=t.instanceGroups,t.initialInstanceGroups,r=t.credentials,o=t.webhook_credential,c=Object(Q.a)(t,["labels","instanceGroups","initialInstanceGroups","credentials","webhook_credential"]),i(null),c.project=c.project.id,c.webhook_credential=null===o||void 0===o?void 0:o.id,e.prev=4,e.next=7,mt.create(c);case 7:return u=e.sent,p=u.data,b=p.id,f=p.type,e.next=13,Promise.all([s(b,a,t.project.summary_fields.organization.id),d(b,n),m(b,r)]);case 13:l.push("/templates/".concat(f,"/").concat(b,"/details")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),i(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return(u=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:[],n=o.length>2?o[2]:void 0){e.next=14;break}return e.prev=3,e.next=6,vt.read();case 6:r=e.sent,i=r.data.results,n=i[0].id,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:return l=a.map((function(e){return mt.associateLabel(t,e,n)})),e.abrupt("return",Promise.all(Object(le.a)(l)));case 16:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.map((function(t){return mt.associateInstanceGroup(e,t.id)}));return Promise.all(a)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.map((function(t){return mt.associateCredentials(e,t.id)}));return Promise.all(a)}return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(Cy,{handleCancel:function(){l.push("/templates")},handleSubmit:function(e){return c.apply(this,arguments)},submitError:a}))))};var Dg=function(){var e=Object(o.g)(),t=Object(n.useState)(null),a=Object(O.a)(t,2),i=a[0],l=a[1],c=function(){var t=Object(F.a)(U.a.mark((function t(a){var n,r,i,o,c,u,d,m,p;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.labels,i=a.inventory,o=a.organization,c=a.webhook_credential,a.webhook_key,(u=Object(Q.a)(a,["labels","inventory","organization","webhook_credential","webhook_key"])).inventory=null===i||void 0===i?void 0:i.id,u.organization=null===o||void 0===o?void 0:o.id,u.webhook_credential=null===c||void 0===c?void 0:c.id,d=(null===o||void 0===o?void 0:o.id)||(null===i||void 0===i||null===(n=i.summary_fields)||void 0===n?void 0:n.organization.id),t.prev=5,t.next=8,It.create(u);case 8:return m=t.sent,p=m.data.id,t.t0=Promise,t.next=13,s(p,r,d);case 13:return t.t1=t.sent,t.next=16,t.t0.all.call(t.t0,t.t1);case 16:e.push("/templates/workflow_job_template/".concat(p,"/details")),t.next=22;break;case 19:t.prev=19,t.t2=t.catch(5),l(t.t2);case 22:case"end":return t.stop()}}),t,null,[[5,19]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n,r,i,l,o=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:[],n=o.length>2?o[2]:void 0){e.next=14;break}return e.prev=3,e.next=6,vt.read();case 6:r=e.sent,i=r.data.results,n=i[0].id,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:return l=a.map((function(e){return It.associateLabel(t,e,n)})),e.abrupt("return",Object(le.a)(l));case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(iE,{handleCancel:function(){e.push("/templates")},handleSubmit:c,submitError:i}))))},Ng=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a),(n=t.call(this,e)).setBreadCrumbConfig=function(e,t){var a,r=n.props.i18n;if(e){var i=(a={"/templates":r._({id:"Templates"}),"/templates/job_template/add":r._({id:"Create New Job Template"}),"/templates/workflow_job_template/add":r._({id:"Create New Workflow Template"})},Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id),"".concat(e.name)),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/details"),r._({id:"Details"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/edit"),r._({id:"Edit Details"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/access"),r._({id:"Access"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/notifications"),r._({id:"Notifications"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/completed_jobs"),r._({id:"Completed Jobs"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/survey"),r._({id:"Survey"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/survey/add"),r._({id:"Add Question"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/survey/edit"),r._({id:"Edit Question"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/schedules"),r._({id:"Schedules"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/schedules/add"),r._({id:"Create New Schedule"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/schedules/").concat(t&&t.id),"".concat(t&&t.name)),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/schedules/").concat(t&&t.id,"/details"),r._({id:"Schedule Details"})),Object(d.a)(a,"/templates/".concat(e.type,"/").concat(e.id,"/schedules/").concat(t&&t.id,"/edit"),r._({id:"Edit Details"})),a);n.setState({breadcrumbConfig:i})}};var r=n.props.i18n;return n.state={breadcrumbConfig:{"/templates":r._({id:"Templates"}),"/templates/job_template/add":r._({id:"Create New Job Template"}),"/templates/workflow_job_template/add":r._({id:"Create New Workflow Template"})}},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.history,i=t.location,l=this.state.breadcrumbConfig;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{breadcrumbConfig:l}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(a.path,"/job_template/add")},r.a.createElement(Ig,null)),r.a.createElement(o.b,{path:"".concat(a.path,"/workflow_job_template/add")},r.a.createElement(Dg,null)),r.a.createElement(o.b,{path:"".concat(a.path,"/job_template/:id"),render:function(t){var a=t.match;return r.a.createElement(C,null,(function(t){var l=t.me;return r.a.createElement(Zy,{history:n,location:i,setBreadcrumb:e.setBreadCrumbConfig,me:l||{},match:a})}))}}),r.a.createElement(o.b,{path:"".concat(a.path,"/workflow_job_template/:id"),render:function(t){var a=t.match;return r.a.createElement(C,null,(function(t){var n=t.me;return r.a.createElement(Tg,{location:i,setBreadcrumb:e.setBreadCrumbConfig,me:n||{},match:a})}))}}),r.a.createElement(o.b,{path:"".concat(a.path)},r.a.createElement(oy,null))))}}]),a}(n.Component),Lg=Object(c.withI18n)()(Object(o.k)(Ng)),Rg=Object(N.b)("b").withConfig({displayName:"UserListItem___StyledB",componentId:"sc-92gjvf-0"})(["margin-right:24px"]),Ag=Object(N.b)("b").withConfig({displayName:"UserListItem___StyledB2",componentId:"sc-92gjvf-1"})(["margin-right:24px"]),Pg=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isSelected,i=e.onSelect,l=e.detailUrl,o=e.i18n,c="check-action-".concat(t.id);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":c,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(Qn.a,{id:"select-user-".concat(t.id),checked:a,onChange:i,"aria-labelledby":c}),r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"username"},r.a.createElement(D.b,{to:"".concat(l),id:c},r.a.createElement("b",null,t.username))),r.a.createElement(Sn,{key:"first-name"},t.first_name&&r.a.createElement(n.Fragment,null,r.a.createElement(Rg,null,o._({id:"First Name"})),t.first_name)),r.a.createElement(Sn,{key:"last-name"},t.last_name&&r.a.createElement(n.Fragment,null,r.a.createElement(Ag,null,o._({id:"Last Name"})),t.last_name))]}),r.a.createElement(Ul.a,{"aria-label":"actions","aria-labelledby":c,id:c},t.summary_fields.user_capabilities.edit&&r.a.createElement(Ln.a,{content:o._({id:"Edit User"}),position:"top"},r.a.createElement($.a,{"aria-label":o._({id:"Edit User"}),variant:"plain",component:D.b,to:"/users/".concat(t.id,"/edit")},r.a.createElement(Fl.a,null))))))}}]),a}(r.a.Component),zg=Object(c.withI18n)()(Pg),Ug=ce("user",{page:1,page_size:20,order_by:"username"}),Fg=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={hasContentLoading:!0,contentError:null,deletionError:null,users:[],selected:[],itemCount:0,actions:null},n.handleSelectAll=n.handleSelectAll.bind(Object(ne.a)(n)),n.handleSelect=n.handleSelect.bind(Object(ne.a)(n)),n.handleUserDelete=n.handleUserDelete.bind(Object(ne.a)(n)),n.handleDeleteErrorClose=n.handleDeleteErrorClose.bind(Object(ne.a)(n)),n.loadUsers=n.loadUsers.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadUsers()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.loadUsers()}},{key:"handleSelectAll",value:function(e){var t=this.state.users,a=e?Object(le.a)(t):[];this.setState({selected:a})}},{key:"handleSelect",value:function(e){var t=this.state.selected;t.some((function(t){return t.id===e.id}))?this.setState({selected:t.filter((function(t){return t.id!==e.id}))}):this.setState({selected:t.concat(e)})}},{key:"handleDeleteErrorClose",value:function(){this.setState({deletionError:null})}},{key:"handleUserDelete",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selected,this.setState({hasContentLoading:!0}),e.prev=2,e.next=5,Promise.all(t.map((function(e){return Ct.destroy(e.id)})));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.setState({deletionError:e.t0});case 10:return e.prev=10,e.next=13,this.loadUsers();case 13:return e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[2,7,10,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadUsers",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u,d;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location,a=this.state.actions,n=se(Ug,t.search),r=a?Promise.resolve({data:{actions:a}}):Ct.readOptions(),i=Promise.all([Ct.read(n),r]),this.setState({contentError:null,hasContentLoading:!0}),e.prev=6,e.next=9,i;case 9:l=e.sent,o=Object(O.a)(l,2),c=o[0].data,s=c.count,u=c.results,d=o[1].data.actions,this.setState({actions:d,itemCount:s,users:u,selected:[]}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),this.setState({contentError:e.t0});case 21:return e.prev=21,this.setState({hasContentLoading:!1}),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[6,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.actions,i=t.itemCount,l=t.contentError,o=t.hasContentLoading,c=t.deletionError,s=t.selected,u=t.users,d=this.props,m=d.match,p=d.i18n,b=a&&Object.prototype.hasOwnProperty.call(a,"POST"),f=s.length===u.length&&s.length>0;return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(Nn,{contentError:l,hasContentLoading:o,items:u,itemCount:i,pluralizedItemName:"Users",qsConfig:Ug,onRowClick:this.handleSelect,toolbarSearchColumns:[{name:p._({id:"Username"}),key:"username",isDefault:!0},{name:p._({id:"First Name"}),key:"first_name"},{name:p._({id:"Last Name"}),key:"last_name"}],toolbarSortColumns:[{name:p._({id:"Username"}),key:"username"},{name:p._({id:"First Name"}),key:"first_name"},{name:p._({id:"Last Name"}),key:"last_name"}],renderToolbar:function(t){return r.a.createElement(Va,Object.assign({},t,{showSelectAll:!0,isAllSelected:f,onSelectAll:e.handleSelectAll,qsConfig:Ug,additionalControls:[].concat(Object(le.a)(b?[r.a.createElement(Xn,{key:"add",linkTo:"".concat(m.url,"/add")})]:[]),[r.a.createElement(Kn,{key:"delete",onDelete:e.handleUserDelete,itemsToDelete:s,pluralizedItemName:"Users"})])}))},renderItem:function(t){return r.a.createElement(zg,{key:t.id,user:t,detailUrl:"".concat(m.url,"/").concat(t.id,"/details"),isSelected:s.some((function(e){return e.id===t.id})),onSelect:function(){return e.handleSelect(t)}})},emptyStateControls:b?r.a.createElement(Xn,{key:"add",linkTo:"".concat(m.url,"/add")}):null}))),r.a.createElement(Gn,{isOpen:c,variant:"error",title:p._({id:"Error!"}),onClose:this.handleDeleteErrorClose},p._({id:"Failed to delete one or more users."}),r.a.createElement(cn,{error:c})))}}]),a}(n.Component),Mg=Object(c.withI18n)()(Object(o.k)(Fg));function qg(e){var t=e.user,a=e.i18n,i=Object(n.useState)(null),l=Object(O.a)(i,2),o=l[0],c=l[1],s=[{value:"normal",key:"normal",label:a._({id:"Normal User"}),isDisabled:!1},{value:"auditor",key:"auditor",label:a._({id:"System Auditor"}),isDisabled:!1},{value:"administrator",key:"administrator",label:a._({id:"System Administrator"}),isDisabled:!1}],u=Object(di.c)({name:"organization",validate:t.id?function(){}:Ji(a._({id:"Select a value for this field"}),a)}),d=u[1],m=u[2],p=Object(di.c)("user_type"),b=Object(O.a)(p,2),f=b[0],h=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(gi,{id:"user-username",label:a._({id:"Username"}),name:"username",type:"text",validate:Ji(null,a),isRequired:!0}),r.a.createElement(gi,{id:"user-email",label:a._({id:"Email"}),name:"email",validate:Zi(a),isRequired:!0}),r.a.createElement(Ti,{id:"user-password",label:a._({id:"Password"}),name:"password",validate:t.id?function(){}:Ji(a._({id:"This field must not be blank"}),a),isRequired:!t.id}),r.a.createElement(Ti,{id:"user-confirm-password",label:a._({id:"Confirm Password"}),name:"confirm_password",validate:t.id?function(){}:Ji(a._({id:"This field must not be blank"}),a),isRequired:!t.id}),r.a.createElement(gi,{id:"user-first-name",label:a._({id:"First Name"}),name:"first_name",type:"text"}),r.a.createElement(gi,{id:"user-last-name",label:a._({id:"Last Name"}),name:"last_name",type:"text"}),!t.id&&r.a.createElement(yl,{helperTextInvalid:d.error,isValid:!d.touched||!d.error,onBlur:function(){return m.setTouched()},onChange:function(e){m.setValue(e.id),c(e)},value:o,required:!0}),r.a.createElement(mi.a,{fieldId:"user-type",helperTextInvalid:h.error,isRequired:!0,isValid:!h.touched||!h.error,label:a._({id:"User Type"})},r.a.createElement(Hi,Object.assign({isValid:!h.touched||!h.error,id:"user-type",data:s},f))))}function Vg(e){var t,a=e.user,n=e.handleCancel,i=e.handleSubmit,l=e.submitError,o=e.i18n;return t=a.is_superuser?"administrator":a.is_system_auditor?"auditor":"normal",r.a.createElement(di.b,{initialValues:{first_name:a.first_name||"",last_name:a.last_name||"",organization:a.organization||"",email:a.email||"",username:a.username||"",password:"",confirm_password:"",user_type:t},onSubmit:function(e,t){var a=t.setErrors;if(e.password!==e.confirm_password)a({confirm_password:o._({id:"This value does not match the password you entered previously. Please confirm that password."})});else{e.is_superuser="administrator"===e.user_type,e.is_system_auditor="auditor"===e.user_type,e.password&&""!==e.password||delete e.password;e.confirm_password;var n=Object(Q.a)(e,["confirm_password"]);i(n)}}},(function(e){return r.a.createElement(pi.a,{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement(zi,null,r.a.createElement(qg,{user:a,i18n:o}),r.a.createElement(Di,{error:l}),r.a.createElement(Vi,{onCancel:n,onSubmit:e.handleSubmit})))}))}Vg.defaultProps={user:{}};var Bg=Object(c.withI18n)()(Vg);var Wg=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],i=t[1],l=Object(o.g)(),c=function(){var e=Object(F.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),e.prev=1,e.next=4,Ct.create(t);case 4:a=e.sent,n=a.data.id,l.push("/users/".concat(n,"/details")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(K,null,r.a.createElement(Bg,{handleCancel:function(){l.push("/users")},handleSubmit:c,submitError:a}))))};var Gg=Object(c.withI18n)()((function(e){var t,a=e.user,i=e.i18n,l=a.id,c=a.username,s=a.email,u=a.first_name,d=a.last_name,m=a.last_login,p=a.created,b=a.is_superuser,f=a.is_system_auditor,h=a.summary_fields,v=Object(n.useState)(null),_=Object(O.a)(v,2),y=_[0],E=_[1],g=Object(n.useState)(!1),j=Object(O.a)(g,2),k=j[0],w=j[1],C=Object(o.g)(),S=function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,Ct.destroy(l);case 4:C.push("/users"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),E(e.t0);case 10:w(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return t=b?i._({id:"System Administrator"}):f?i._({id:"System Auditor"}):i._({id:"Normal User"}),k?r.a.createElement(bn,null):r.a.createElement(K,null,r.a.createElement(Cr,null,r.a.createElement(Lr,{label:i._({id:"Username"}),value:c,dataCy:"user-detail-username"}),r.a.createElement(Lr,{label:i._({id:"Email"}),value:s}),r.a.createElement(Lr,{label:i._({id:"First Name"}),value:"".concat(u)}),r.a.createElement(Lr,{label:i._({id:"Last Name"}),value:"".concat(d)}),r.a.createElement(Lr,{label:i._({id:"User Type"}),value:"".concat(t)}),m&&r.a.createElement(Lr,{label:i._({id:"Last Login"}),value:Mr(m)}),r.a.createElement(Lr,{label:i._({id:"Created"}),value:Mr(p)})),r.a.createElement(Z,null,h.user_capabilities&&h.user_capabilities.edit&&r.a.createElement($.a,{"aria-label":i._({id:"edit"}),component:D.b,to:"/users/".concat(l,"/edit")},i._({id:"Edit"})),h.user_capabilities&&h.user_capabilities.delete&&r.a.createElement(si,{name:c,modalTitle:i._({id:"Delete User"}),onConfirm:S},i._({id:"Delete"}))),y&&r.a.createElement(Gn,{isOpen:y,variant:"error",title:i._({id:"Error!"}),onClose:function(){return E(null)}},i._({id:"Failed to delete user."}),r.a.createElement(cn,{error:y})))}));var Hg=Object(c.withI18n)()((function(e){var t=e.user,a=Object(n.useState)(null),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.g)(),u=function(){var e=Object(F.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),e.prev=1,e.next=4,Ct.update(t.id,a);case 4:s.push("/users/".concat(t.id,"/details")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(Bg,{user:t,handleCancel:function(){s.push("/users/".concat(t.id,"/details"))},handleSubmit:u,submitError:l}))}));var Jg=Object(c.withI18n)()((function(e){var t=e.organization,a=e.i18n;return r.a.createElement(gn.a,{"aria-labelledby":a._({id:"User Organization List Item"})},r.a.createElement(jn.a,null,r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:t.id},r.a.createElement(D.b,{to:"/organizations/".concat(t.id,"/details")},t.name)),r.a.createElement(Sn,{key:t.description},t.description)]})))})),Kg=ce("organizations",{page:1,page_size:20,order_by:"name",type:"organization"});var Yg=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.h)(),i=Object(o.i)().id,l=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,l,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(Kg,a.search),e.next=3,Ct.readOrganizations(i,t);case 3:return n=e.sent,r=n.data,l=r.results,o=r.count,e.abrupt("return",{organizations:l,count:o});case 8:case"end":return e.stop()}}),e)}))),[i,a.search]),{organizations:[],count:0}),c=l.result,s=c.organizations,u=c.count,d=l.error,m=l.isLoading,p=l.request;return Object(n.useEffect)((function(){p()}),[p]),r.a.createElement(Nn,{items:s,contentError:d,hasContentLoading:m,itemCount:u,pluralizedItemName:t._({id:"Organizations"}),qsConfig:Kg,renderItem:function(e){return r.a.createElement(Jg,{key:e.id,value:e.name,organization:e,detailUrl:"/organizations/".concat(e.id,"/details"),onSelect:function(){},isSelected:!1})}})}));var Xg=function(){return r.a.createElement(Yg,null)},Zg=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,"Coming soon :)")}}]),a}(n.Component),Qg=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,"Coming soon :)")}}]),a}(n.Component);var $g=Object(c.withI18n)()((function(e){var t=e.role,a=e.i18n,n=e.detailUrl,i="userRole-".concat(t.id);return r.a.createElement(gn.a,{key:t.id,"aria-labelledby":i,id:"".concat(t.id)},r.a.createElement(jn.a,null,r.a.createElement(On.a,{dataListCells:[r.a.createElement(Sn,{key:"name","aria-label":a._({id:"resource name"})},r.a.createElement(D.b,{to:"".concat(n),id:i},r.a.createElement("b",null,t.summary_fields.resource_name))),r.a.createElement(Sn,{key:"type","aria-label":a._({id:"resource type"})},t.summary_fields&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",{css:"margin-right: 24px"},a._({id:"Type"})),t.summary_fields.resource_type_display_name)),r.a.createElement(Sn,{key:"role","aria-label":a._({id:"resource role"})},t.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",{css:"margin-right: 24px"},a._({id:"Role"})),t.name))]})))})),ej=ce("roles",{page:1,page_size:20,order_by:"id"});var tj=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(o.i)().id,i=Object(o.h)().search,l=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,n,r,l,o,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(ej,i),e.next=3,Promise.all([Ct.readRoles(a,t),Ct.readRoleOptions(a)]);case 3:return n=e.sent,r=Object(O.a)(n,2),l=r[0].data,o=l.results,c=l.count,s=r[1].data.actions,e.abrupt("return",{roleCount:c,roles:o,options:s});case 10:case"end":return e.stop()}}),e)}))),[a,i]),{roles:[],roleCount:0}),c=l.isLoading,s=l.request,u=l.error,d=l.result,m=d.roleCount,p=d.roles,b=d.options;Object(n.useEffect)((function(){s()}),[s]);var f=b&&Object.prototype.hasOwnProperty.call(b,"POST"),h=function(e){var t=e.summary_fields,a=t.resource_id,n=t.resource_type;return e&&n?(null===n||void 0===n?void 0:n.includes("template"))?"/templates/".concat(n,"/").concat(a,"/details"):(null===n||void 0===n?void 0:n.includes("inventory"))?"/inventories/".concat(n,"/").concat(a,"/details"):"/".concat(n,"s/").concat(a,"/details"):null};return r.a.createElement(Nn,{contentError:u,hasContentLoading:c,items:p,itemCount:m,pluralizedItemName:t._({id:"User Roles"}),qsConfig:ej,toolbarSearchColumns:[{name:t._({id:"Role"}),key:"role_field",isDefault:!0}],toolbarSortColumns:[{name:t._({id:"Name"}),key:"id"}],renderItem:function(e){return r.a.createElement($g,{key:e.id,value:e.name,role:e,detailUrl:h(e),onSelect:function(){},isSelected:!1})},renderToolbar:function(e){return r.a.createElement(Va,Object.assign({},e,{qsConfig:ej,additionalControls:Object(le.a)(f?[r.a.createElement(Xn,{key:"add",linkTo:"/"})]:[])}))}})}));var aj=Object(c.withI18n)()((function(e){var t=e.i18n,a=e.setBreadcrumb,i=Object(o.h)(),l=Object(o.j)("/users/:id"),c=Al(Object(n.useCallback)(Object(F.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct.readDetail(l.params.id);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),[l.params.id]),null),s=c.result,u=c.error,d=c.isLoading,m=c.request;Object(n.useEffect)((function(){m()}),[m,i.pathname]),Object(n.useEffect)((function(){s&&a(s)}),[s,a]);var p=[{name:t._({id:"Details"}),link:"".concat(l.url,"/details"),id:0},{name:t._({id:"Organizations"}),link:"".concat(l.url,"/organizations"),id:1},{name:t._({id:"Teams"}),link:"".concat(l.url,"/teams"),id:2},{name:t._({id:"Access"}),link:"".concat(l.url,"/access"),id:3},{name:t._({id:"Tokens"}),link:"".concat(l.url,"/tokens"),id:4}];return u?r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{error:u},u.response&&404===u.response.status&&r.a.createElement("span",null,t._("User not found.")," ",r.a.createElement(D.b,{to:"/users"},t._("View all Users.")))))):r.a.createElement(y.a,null,r.a.createElement(q.a,null,["edit"].some((function(e){return i.pathname.includes(e)}))?null:r.a.createElement(W,null,r.a.createElement(li,{tabsArray:p}),r.a.createElement(M.a,null,r.a.createElement(ae,{linkTo:"/users"}))),d&&r.a.createElement(bn,null),!d&&s&&r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/users/:id",to:"/users/:id/details",exact:!0}),s&&r.a.createElement(o.b,{path:"/users/:id/edit"},r.a.createElement(Hg,{user:s})),s&&r.a.createElement(o.b,{path:"/users/:id/details"},r.a.createElement(Gg,{user:s})),r.a.createElement(o.b,{path:"/users/:id/organizations"},r.a.createElement(Xg,{id:Number(l.params.id)})),r.a.createElement(o.b,{path:"/users/:id/teams"},r.a.createElement(Zg,{id:Number(l.params.id)})),s&&r.a.createElement(o.b,{path:"/users/:id/access"},r.a.createElement(tj,null)),r.a.createElement(o.b,{path:"/users/:id/tokens"},r.a.createElement(Qg,{id:Number(l.params.id)})),r.a.createElement(o.b,{key:"not-found",path:"*"},r.a.createElement(dn,{isNotFound:!0},l.params.id&&r.a.createElement(D.b,{to:"/users/".concat(l.params.id,"/details")},t._("View User Details")))))))}));var nj=Object(c.withI18n)()((function(e){var t=e.i18n,a=Object(n.useState)({"/users":t._({id:"Users"}),"/users/add":t._({id:"Create New User"})}),i=Object(O.a)(a,2),l=i[0],c=i[1],s=Object(o.j)(),u=Object(n.useCallback)((function(e){var a;e&&c((a={"/users":t._({id:"Users"}),"/users/add":t._({id:"Create New User"})},Object(d.a)(a,"/users/".concat(e.id),"".concat(e.username)),Object(d.a)(a,"/users/".concat(e.id,"/edit"),t._({id:"Edit Details"})),Object(d.a)(a,"/users/".concat(e.id,"/details"),t._({id:"Details"})),Object(d.a)(a,"/users/".concat(e.id,"/access"),t._({id:"Access"})),Object(d.a)(a,"/users/".concat(e.id,"/teams"),t._({id:"Teams"})),Object(d.a)(a,"/users/".concat(e.id,"/organizations"),t._({id:"Organizations"})),Object(d.a)(a,"/users/".concat(e.id,"/tokens"),t._({id:"Tokens"})),a))}),[t]);return r.a.createElement(n.Fragment,null,r.a.createElement(P,{breadcrumbConfig:l}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(s.path,"/add")},r.a.createElement(Wg,null)),r.a.createElement(o.b,{path:"".concat(s.path,"/:id")},r.a.createElement(aj,{setBreadcrumb:u})),r.a.createElement(o.b,{path:"".concat(s.path)},r.a.createElement(Mg,null))))}));var rj=function(){return r.a.createElement(y.a,null,r.a.createElement(q.a,null,r.a.createElement(dn,{isNotFound:!0})))},ij=a(176),lj=a(1015),oj=a(1016),cj=a(129),sj=a(1031),uj=a(225),dj=a(1021),mj=a(430),pj=a.n(mj),bj=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).createSpeechBubble=n.constructor.createSpeechBubble.bind(Object(ne.a)(n)),n}return Object(h.a)(a,null,[{key:"createSpeechBubble",value:function(e){for(var t="".concat("AWX"," ").concat(e),a="",n="",r=0;r<t.length;r++)a+="_",n+="-";return(a=" __".concat(a,"__ \n"))+(t="<  ".concat(t,"  >\n"))+(n=" --".concat(n,"-- "))}}]),Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.ansible_version,a=e.version,n=e.isOpen,i=e.onClose,l=e.i18n,o=this.createSpeechBubble(a);return r.a.createElement(dj.a,{isOpen:n,onClose:i,productName:"Ansible ".concat("AWX"),trademark:l._({id:"Copyright 2019 Red Hat, Inc."}),brandImageSrc:pj.a,brandImageAlt:l._({id:"Brand Image"})},r.a.createElement("pre",null,o,"\n          \\\n          \\   ^__^\n              (oo)\\_______\n              (__)      A )\\\n                  ||----w |\n                  ||     ||\n                    "),r.a.createElement(En.a,null,r.a.createElement(kr.a,{component:"dl"},r.a.createElement(Sr.a,{component:"dt"},l._({id:"Ansible Version"})),r.a.createElement(Sr.a,{component:"dd"},t))))}}]),a}(r.a.Component);bj.defaultProps={ansible_version:null,isOpen:!1,version:null};var fj=Object(c.withI18n)()(bj),hj=a(1010),vj=a(1011),_j=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a);var r=(n=t.call(this,e)).props.routes;return n.navItemPaths=r.map((function(e){return e.path})),n.isActiveGroup=n.isActiveGroup.bind(Object(ne.a)(n)),n.isActivePath=n.isActivePath.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"isActiveGroup",value:function(){return this.navItemPaths.some(this.isActivePath)}},{key:"isActivePath",value:function(e){return this.props.history.location.pathname.startsWith(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.groupId,n=t.groupTitle,i=t.routes,l=this.isActiveGroup();return r.a.createElement(hj.a,{isActive:l,isExpanded:l,groupId:a,title:n},i.map((function(t){var n=t.path,i=t.title;return r.a.createElement(vj.a,{groupId:a,isActive:e.isActivePath(n),key:n,to:"/next/#".concat(n)},i)})))}}]),a}(n.Component),yj=Object(o.k)(_j);function Ej(){var e=Object(S.a)(["\n  fill: #42210b;\n"]);return Ej=function(){return e},e}function gj(){var e=Object(S.a)(["\n  fill: #ed1c24;\n"]);return gj=function(){return e},e}function jj(){var e=Object(S.a)(["\n  fill: #a67c52;\n"]);return jj=function(){return e},e}function Oj(){var e=Object(S.a)(["\n  fill: #ed1c24;\n  stroke: #8c6239;\n  stroke-width: 5;\n  stroke-miterlimit: 10;\n"]);return Oj=function(){return e},e}function kj(){var e=Object(S.a)(["\n  fill: #ffffff;\n  stroke: #42210b;\n  stroke-width: 3;\n  stroke-miterlimit: 10;\n"]);return kj=function(){return e},e}function wj(){var e=Object(S.a)(["\n  fill: #c69c6d;\n  stroke: #8c6239;\n  stroke-width: 5;\n  stroke-miterlimit: 10;\n"]);return wj=function(){return e},e}function Cj(){var e=Object(S.a)(["\n  fill: #ffffff;\n"]);return Cj=function(){return e},e}function Sj(){var e=Object(S.a)(["\n  fill: #42210b;\n"]);return Sj=function(){return e},e}function xj(){var e=Object(S.a)(["\n  display: inline;\n  fill: #ed1c24;\n"]);return xj=function(){return e},e}function Tj(){var e=Object(S.a)(["\n  display: none;\n"]);return Tj=function(){return e},e}var Ij=N.b.g(Tj()),Dj=N.b.path(xj()),Nj=N.b.path(Sj()),Lj=N.b.path(Cj()),Rj=N.b.path(wj()),Aj=N.b.path(kj()),Pj=N.b.ellipse(Oj()),zj=N.b.path(jj()),Uj=N.b.path(gj()),Fj=N.b.ellipse(Ej()),Mj=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.i18n;return r.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 500 500",xmlSpace:"preserve"},r.a.createElement("title",null,e._({id:"AWX Logo"})),r.a.createElement(Ij,null,r.a.createElement(Dj,{d:"M319.8,169.3c1.5-14.2,13.7-27.2,29.9-31.9c-13.1,1.5-27.3-1.7-36-10c-8.7-8.3-10-21.9-1.4-30.1 c-12,6.7-28.1,8.1-41.4,3.4c-13.3-4.6-23.5-15.1-26.2-26.9c-2-8.8,0-17.9,2-26.7c-6.2,9.4-17.6,17.3-30.5,17.3 c-12.9,0.1-25.7-10.2-22.9-20.7c-5.5,7.8-11.4,15.9-21,20.2c-9.5,4.3-23.7,2.7-28.2-5.5c-1.6,10.8-7.5,22-19.1,27 c-9,3.9-21.5,2.2-28-3.8c5.7,11.4,4.3,25.3-4.1,35.6c-9.9,12.2-29.1,18.6-46.4,15.6c14.7,7.2,28.5,17.7,32.1,31.5 c3.7,13.8-7.1,30.7-24.1,31.7c13.6,3.1,28,7.4,35.6,17.2c7.6,9.8,2.9,26.4-11.1,28c12.8-2.6,27.4,3.9,31.9,14.2 c4.1,9.5-0.9,20.9-10.9,26.5c18.6-8.9,41-17.1,59.6-8.8c13.9,6.2,20.8,21.6,15.1,33.8c10.4-10.6,23-21.3,39.2-23.5 c12.8-1.8,27.5,4.6,31.9,14.1c-0.3-12.7,6.1-25.5,17.5-34c13.8-10.3,34.4-14,52-9.2c-11.1-7.8-14.9-22-8.9-33 c6-11,21.3-18,35.7-16.2C327.5,198.1,318.3,183.5,319.8,169.3z"})),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Nj,{d:"M179.7,297.3c-10.1,3.2-20.3,6-30.6,8.4c-10.7,2.5-21.7,5-32.8,5.1C96,311.1,79.9,297.2,60,296.1 c-5.8-0.3-5.8,8.7,0,9c9.9,0.5,18.9,5.1,27.9,8.8c9.8,4,19.6,6.3,30.2,5.9c21.5-0.8,43.5-7.4,64-13.8 C187.6,304.3,185.2,295.6,179.7,297.3L179.7,297.3z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Nj,{d:"M322.2,194.8c17.9-8,36-18.5,44.3-37.2c4.2-9.3,6-19.2,7.2-29.3c1.5-11.7,2.5-23.4,3.7-35.2 c0.6-5.8-8.4-5.7-9,0c-1.1,10.3-2.1,20.6-3.3,30.9c-1.1,9.7-2.5,19.7-6.4,28.7c-7.5,17.5-24.6,26.8-41.2,34.2 C312.4,189.4,316.9,197.2,322.2,194.8L322.2,194.8z"}))),r.a.createElement("g",null,r.a.createElement(Fj,{transform:"matrix(0.5541 -0.8324 0.8324 0.5541 -219.4917 376.0051)",cx:"241.2",cy:"392.9",rx:"65.5",ry:"33.7"})),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Lj,{d:"M224.1,442.5c22-11.5,38.7-31,47.1-54.3c2-5.5-6.7-7.8-8.7-2.4c-7.6,21.1-23.1,38.5-43,48.9 C214.4,437.4,218.9,445.1,224.1,442.5L224.1,442.5z"}))),r.a.createElement("g",null,r.a.createElement(Fj,{transform:"matrix(0.9684 -0.2494 0.2494 0.9684 -66.4734 109.0276)",cx:"397",cy:"316.8",rx:"63.9",ry:"32.9"})),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Lj,{d:"M363.8,341.5c28.3,7,58.7-0.8,80.2-20.5c4.3-3.9-2.1-10.3-6.4-6.4c-19.1,17.5-46.4,24.4-71.5,18.2 C360.5,331.5,358.1,340.1,363.8,341.5L363.8,341.5z"}))),r.a.createElement(Rj,{d:"M156.9,96c-25.4,4.5-32.9,20.2-45,46.9c-20.2,44.4,2,90.3,5.6,97.5c18.4,36.5,42.3,36.8,60,80.6 c8.6,21.2,4.6,25.2,13.1,37.5c20.4,29.2,63.7,36.1,91.9,33.8c40.3-3.3,91.5-28.8,108.8-82.5c17.1-53.2-6-112.1-41.2-131.2 c-25.3-13.7-44.9-0.5-71.2-20.6c-21.6-16.5-18.4-33.1-37.5-48.8C227.9,98.1,203.7,87.7,156.9,96z"}),r.a.createElement(Fj,{transform:"matrix(0.6622 -0.7494 0.7494 0.6622 65.2068 309.6339)",cx:"376",cy:"82.5",rx:"21",ry:"15.5"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Lj,{d:"M379.8,75.3c0.8,0.2-0.6-0.4-0.1-0.1c0.2,0.1,0.3,0.2,0.5,0.3c0.4,0.2-0.6-0.7-0.1-0.1 c0.1,0.1,0.7,0.8,0.2,0.2c-0.4-0.5,0,0,0.1,0.1c0.4,0.7,0,0.2,0-0.2c0,0.1,0.1,0.4,0.2,0.5c0.3,0.9-0.1-1,0-0.1 c0.1,2.3,2,4.6,4.5,4.5c2.3-0.1,4.6-2,4.5-4.5c-0.3-4.4-3-8.1-7.3-9.4c-2.2-0.7-5,0.8-5.5,3.1C376.1,72.2,377.4,74.5,379.8,75.3 L379.8,75.3z"}))),r.a.createElement(Fj,{transform:"matrix(0.9999 -1.433736e-02 1.433736e-02 0.9999 -4.303 0.8051)",cx:"54",cy:"300.5",rx:"21",ry:"15.5"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Lj,{d:"M52.2,297.5c1.1-0.3,1.4-0.4,2.5,0c0.8,0.3,1.3,0.7,2,1.7c1.5,1.9,4.8,1.6,6.4,0c1.9-1.9,1.5-4.4,0-6.4 c-3.1-3.9-8.6-5.4-13.3-4C44.3,290.5,46.7,299.2,52.2,297.5L52.2,297.5z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Nj,{d:"M149.3,108.8c4.9-10.8-1.3-24.2-12.9-26.9c-1.9-0.4-2.7,2.4-0.8,2.9c9.6,2.3,15.3,13.5,11.2,22.5 C145.9,109,148.5,110.5,149.3,108.8L149.3,108.8z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Nj,{d:"M141.2,112.3c2.4-9.4-5.4-19.3-15.2-19c-1.9,0.1-1.9,3.1,0,3c7.8-0.2,14.2,7.6,12.3,15.2 C137.8,113.4,140.7,114.2,141.2,112.3L141.2,112.3z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Nj,{d:"M132.6,118c-1.1-8.3-10.9-13.4-18.2-9.1c-1.7,1-0.2,3.6,1.5,2.6c5.2-3,12.9,0.4,13.7,6.5 C129.8,119.9,132.8,119.9,132.6,118L132.6,118z"}))),r.a.createElement(Aj,{d:"M215.5,166.5l34-73c0,0,35,0,46,21c7.5,14.3,8,39,8,39L215.5,166.5z"}),r.a.createElement(Aj,{d:"M208.2,170.5l-79.5-12.7c0,0-19.6,29-8.4,49.9c7.6,14.2,27.8,28.5,27.8,28.5L208.2,170.5z"}),r.a.createElement(Nj,{d:"M210.5,164.5l33-74c0,0-2.5-5.5-8-7s-12,0-12,0L210.5,164.5z"}),r.a.createElement(Nj,{d:"M207.4,165.3l-73.1-35c0,0-5.6,2.4-7.2,7.8c-1.6,5.5-0.3,12-0.3,12L207.4,165.3z"}),r.a.createElement("path",{d:"M215.5,166.5L234,127c0,0,17-6,25.5,7.5c8.6,13.6-3.5,25.5-3.5,25.5L215.5,166.5z"}),r.a.createElement("path",{d:"M206.7,170.9l-29.6,32c0,0-18,0.5-22-14.9c-4-15.6,11.1-23.2,11.1-23.2L206.7,170.9z"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Lj,{d:"M243.4,139.1c-0.6,0.2-0.7,0.3-0.4,0.2c0.3-0.1,0.2-0.1-0.5,0.1c0.7,0-0.3,0-0.4-0.1c0.1,0,0.3,0.1,0.4,0.1 c0.3,0.1,0.2,0-0.4-0.2c0,0,0.6,0.3,0.6,0.3c0.5,0.2-0.9-0.6-0.1-0.1c0.6,0.4-0.3-0.5-0.1-0.1c0.3,0.5-0.3-1-0.1-0.2 c0.2,0.8,0-1,0-0.1c0,2.4,2.1,4.6,4.5,4.5c2.5-0.1,4.5-2,4.5-4.5c0-3-1.6-5.7-4.1-7.3c-2.6-1.7-5.6-1.6-8.4-0.4 c-2.2,0.9-2.8,4.3-1.6,6.2C238.7,139.7,241,140.1,243.4,139.1L243.4,139.1z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Lj,{d:"M173.5,176.4c-0.5-0.3-0.1,0,0.2,0.1c-0.7-0.6,0.3,0.5,0.1,0c-0.3-0.5,0.4,0.8,0.1,0.2 c-0.4-0.8,0.2,0.2,0,0.1c0,0,0-0.6,0-0.6c-0.1,0.1-0.1,1,0,0.3c-0.1,0.2-0.1,0.3-0.2,0.5c0.2-0.3,0.2-0.4,0-0.1 c-0.2,0.2-0.2,0.3-0.1,0.1c0.2-0.2,0.1-0.2-0.3,0.2c1.9-1.4,3-4,1.6-6.2c-1.2-1.9-4.1-3.1-6.2-1.6c-2.4,1.7-4,4.3-3.9,7.4 c0.1,3,1.6,5.7,4.1,7.3c2,1.2,5,0.5,6.2-1.6C176.3,180.4,175.7,177.7,173.5,176.4L173.5,176.4z"}))),r.a.createElement(Pj,{transform:"matrix(0.862 -0.5069 0.5069 0.862 -88.3186 186.5516)",cx:"298.5",cy:"255.5",rx:"79.5",ry:"68.5"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M173.6,109.8c-2.1,2-3.9,4.6-3.6,7.6c0.3,3.5,2.8,6.6,6.6,6.7c6,0.2,11.5-7.7,8.2-13c-1-1.7-3.1-3.1-5.2-3 c-1.7,0.1-3.1,0.8-4.4,1.9c-2,1.8-2.8,5.2-1.9,7.7c2.4,6.6,11.8,5.9,13.8-0.7c0.7-2.5-0.9-5.6-3.5-6.2c-2.7-0.6-5.4,0.8-6.2,3.5 c0.6-2.1,3.1-2.6,4.6-1c0.8,0.9,1,1.8,0.8,2.8c0.2-0.5,0.1-0.4-0.1,0.3c-0.4,0.7-1,1.2-1.8,1.4c-0.9,0-1.8,0-2.7,0 c-1.8-0.6-2.5-1.6-2.3-3.1c-0.1-0.4-0.1-0.7,0.1-1c0.2-0.3,0.1-0.3-0.1,0.1c0.1-0.1,0.2-0.2,0.3-0.4c-0.2,0.3-0.5,0.5-0.7,0.8 c-0.1,0.1-0.2,0.2-0.3,0.3c-0.3,0.2-0.2,0.2,0.1-0.1c1.3,0.2,2.6,0.4,3.9,0.6c0.2,0.4,0.5,0.9,0.7,1.3c0.2,0.6-0.2,0.9-0.2,1.4 c0,0.4,0.4-0.5-0.1,0.1c0.3-0.4,0.6-0.7,1-1c1.9-1.8,2-5.3,0-7.1C178.7,107.9,175.6,107.8,173.6,109.8L173.6,109.8z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M151.2,248.6c-5.7,7,1.7,16.9,10,13.3c3.4-1.5,6.3-5,6.3-8.9c0-4.2-2.7-7.6-7-7.8c-3.1-0.1-5.8,3.3-4.8,6.3 c1.2,3.4,3.7,6.1,7.3,7c2.6,0.6,5.4-0.8,6.2-3.5c0.7-2.5-0.9-5.5-3.5-6.2c-1.7-0.4,0,0.1-0.2,0.1c-0.4,0-0.4-0.8-0.1-0.1 c-1.6,2.1-3.2,4.2-4.8,6.3c-2.4-0.1-2.8-1.1-3-2.6c0.1,0.7-0.1,0.2,0.1-0.1c0.7-0.9-0.5,0.5,0,0c-0.5,0.5-0.3,0.1-0.2,0.2 c0.1,0,0.6,0,0.7,0c0.4,0.1,0.5,0.4,0.8,0.6c0.2,0.3,0.2,0.2-0.1-0.2c0.1,0.1,0.1,0.3,0.2,0.4c0,1,0.1,1.1-0.7,2.1 c1.7-2.1,2-5,0-7.1C156.5,246.8,152.9,246.5,151.2,248.6L151.2,248.6z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M204.1,205.7c0.8,4.8,5.3,8.6,10.1,8.6c5.1,0,9.5-3.9,10.3-8.9c0.7-4.4-0.2-12.1-5.3-13.6 c-2.7-0.8-5.2,0.5-7,2.4c-1.1,1.2-1.5,1.7-3.1,1.2c0.7,2.8,1.5,5.6,2.2,8.4c0.2-0.2-0.5,0.2-0.5,0.2c6.3,1.4,8.9-8.2,2.7-9.6 c-3.5-0.8-6.6,0-9.3,2.4c-3,2.6-1.1,7.2,2.2,8.4c2.6,0.9,5.5,0.8,8-0.2c1.3-0.5,2.4-1.2,3.4-2.1c0.4-0.3,0.7-0.6,1-1 c0.2-0.3,0.4-0.5,0.6-0.7c0.4-0.4,0.3-0.4-0.5,0.3c-0.9,0-1.8,0-2.7,0c0.2,0.1,0.3,0.1,0.5,0.2c-0.7-0.4-1.5-0.9-2.2-1.3 c0.1,0.2,0.3,0.3,0.4,0.5c-0.4-0.7-0.9-1.5-1.3-2.2c0.4,1.2,0.8,2.5,1,3.7c0,0.4,0,0.8,0,1.2c0,0.5-0.5,0.9,0,0.4 c-0.8,0.6-0.9,0.2-1.1-0.9c-0.4-2.7-3.8-4.1-6.2-3.5C204.7,200.3,203.7,203,204.1,205.7L204.1,205.7z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M265.9,179.6c0.2,0.4,0.5,0.9,0.7,1.3c0.6,1.1,1.8,2,3,2.3c1.2,0.3,2.8,0.2,3.9-0.5c1.1-0.7,2-1.7,2.3-3 c0.3-1.4,0.1-2.6-0.5-3.9c-0.2-0.4-0.5-0.9-0.7-1.3c-0.6-1.1-1.8-2-3-2.3c-1.2-0.3-2.8-0.2-3.9,0.5c-1.1,0.7-2,1.7-2.3,3 C265.1,177.1,265.3,178.3,265.9,179.6L265.9,179.6z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M200.4,295.8c-6.1,1.6-8.1,8.6-5,13.7c2.8,4.7,9.1,7.2,14.3,5.4c4.9-1.7,7.8-7.1,6.3-12.2 c-0.8-2.7-2.7-4.8-5.3-5.8c-1.4-0.5-2.8-0.7-4.2-0.8c-0.1,0-0.9-0.1-0.9-0.1c0.2-0.4,1.2,2.5,0.9,0.7c0,0.9,0,1.8,0,2.7 c-0.1,0.1-0.1,0.1-0.2,0.2c3.1-5.6-5.5-10.7-8.6-5c-1.7,3-1.1,6.6,1.4,9c1.3,1.2,2.8,2,4.5,2.3c0.8,0.1,1.6,0.2,2.4,0.3 c0.4,0,0.7,0,1.1,0.1c0.2,0.1,0.1,0.1-0.2-0.1c0,0.1-0.6-0.5-0.6-0.5c-0.1-0.1-0.1-0.2,0-0.3c0.1-0.3,0.1-0.1-0.1,0.5 c-0.3-0.1,0.7-0.2-0.3-0.3c-0.9-0.1-1.1-0.6-1.8-0.9c0,0-0.2-0.3-0.3-0.3c0.3,0-0.8,1.2-0.8,1.2 C209.3,303.8,206.6,294.2,200.4,295.8L200.4,295.8z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M244.8,355.3c-4-6.2-11.2-2.3-12,3.9c-0.8,5.9,1.8,12,6.5,15.6c4.5,3.5,11.5,4.9,16.7,2.1 c6.4-3.3,5.4-9.8,4.9-15.9c-0.5-6.3-1.9-12-9.5-12.1c-5.1-0.1-13.1,0.2-14.5,6.4c-1.2,5.4,2.5,12.8,8.2,13.8 c6.2,1.1,11.2-5.5,7.8-11c-2.2-3.5-8.1-3.1-9.1,1.2c-1.1,4.4,0.5,8,4.1,10.6c5.2,3.8,10.2-4.8,5-8.6c0.2,0.2,0.4,0.5,0.5,0.7 c-3,0.4-6.1,0.8-9.1,1.2c-0.4-0.7,3.4-3.1,2.9-4.8c-0.8-2.6-1.7,1.4-1.9,1.1c0,0.1,5.2-0.1,5.6-0.4c0.7,0.1,0.8-0.1,0.2-0.6 c-0.4-0.7-0.5-0.8-0.4-0.3c-0.2,0.3,0.2,1.9,0.2,2.3c0.2,2,0.3,4,0.5,5.9c0.1,1.6,0.4,1.7-1.1,2c-1.3,0.2-2.9-0.3-4-0.9 c-1.4-0.8-2.5-2-3.1-3.5c-0.3-0.7-0.4-1.3-0.5-2c0-0.3-0.1-0.7,0-1c0.2-1.9-1.1-1.5-3.8,1.2c-1-0.8-2-1.5-3-2.3 c0.1,0.2,0.2,0.4,0.4,0.6C239.6,365.7,248.3,360.7,244.8,355.3L244.8,355.3z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(zj,{d:"M336.5,337.4c-2.4-1.5-5.1-2.5-7.9-1.8c-2.7,0.7-4.9,3.2-5.3,6c-0.9,6.4,6.3,8.3,11.2,8.4 c4.8,0.1,10.6-2.4,10.9-7.9c0.2-5.6-5.5-9.6-10.6-6.9c-5.7,3-0.7,11.6,5,8.6c-0.1,0.1-0.2,0.1-0.3,0.2c-0.9,0-1.8,0-2.7,0 c-2.1-0.4-1.4-4.8-0.3-4.3c0,0-1.3,0.3-1.3,0.3c-0.6,0-1.2,0-1.8-0.1c-0.5-0.1-1-0.2-1.5-0.4c-1.2-0.5-1-0.2,0.6,0.7 c0.2,0.8,0.5,1.7,0.7,2.5c-3.4,1.1-4.4,1.9-2.8,2.7c0.4,0.2,0.7,0.4,1.1,0.7C336.9,349.6,341.9,340.9,336.5,337.4L336.5,337.4z"}))),r.a.createElement(Lj,{d:"M224.3,256.5L252,273v-40l32,20v-38l28,17l4-28l23,12l-3-24c0,0-14-8-35.5-6.4c-11.6,0.9-24.3,6.8-33.5,11.4 c-14,7-23.7,18.9-31.2,29.1C227,238,224.3,256.5,224.3,256.5z"}),r.a.createElement(Lj,{d:"M372.9,248.9l-28.8-14.5l2.9,39.9l-33.3-17.7l2.7,37.9l-29.1-15l-2,28.2l-23.8-10.3l4.7,23.7 c0,0,14.5,7,35.9,3.8c11.5-1.7,23.7-8.5,32.6-13.8c13.5-8,22.3-20.5,29-31.2C371.5,267.5,372.9,248.9,372.9,248.9z"})),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Uj,{d:"M235.2,121.6c8.5-3.1,23.2-0.1,27.8,8.4c2.3,4.4,4.5,9.9,4.5,14.9c0.1,5.5-2.7,10.5-5.3,15.3 c-1.5,2.8,2.8,5.4,4.3,2.5c3.1-5.8,6.3-11.9,6-18.7c-0.3-6-2.8-12.8-5.9-17.9c-6-9.5-22.6-13.1-32.7-9.4 C230.9,117.8,232.2,122.7,235.2,121.6L235.2,121.6z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Uj,{d:"M241.1,110.5c11.6-2.3,25.6,2.3,32.2,12.4c6.6,10.2,6.1,22.8,3.1,34.2c-1.3,5,6.4,7.1,7.7,2.1 c3.8-14.3,3.8-30.3-5.5-42.6c-8.9-11.7-25.5-16.6-39.6-13.8C233.9,103.8,236.1,111.5,241.1,110.5L241.1,110.5z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Uj,{d:"M245.4,97.5c7.8-1.8,15.5,0,22.9,2.8c7.2,2.7,15,6.1,20.3,11.8c10.7,11.7,9.5,29.3,8.7,44 c-0.3,6.4,9.7,6.4,10,0c1-17.9,1.2-38.5-12.7-52.1c-6.4-6.3-15.3-10.2-23.6-13.3c-9.1-3.4-18.6-4.9-28.2-2.8 C236.5,89.2,239.1,98.9,245.4,97.5L245.4,97.5z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Uj,{d:"M155.8,158.5c-13.1,4.8-14.2,21.6-10.1,33.1c4.3,12,15.2,20.6,28.2,20.5c3.2,0,3.2-5,0-5 c-9.9,0.1-18.6-5.9-22.6-14.9c-3.9-8.6-5.2-24.8,5.8-28.9C160.2,162.3,158.9,157.4,155.8,158.5L155.8,158.5z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Uj,{d:"M164.1,216.5c-11.4-2.2-18.8-11.4-22.7-21.9c-3.6-9.6-7.7-25.3,1.2-33.1c3.9-3.4-1.8-9-5.7-5.7 c-11.3,9.9-7.9,28.5-3.3,40.9c4.8,13,14.1,24.7,28.3,27.5C167,225.2,169.1,217.5,164.1,216.5L164.1,216.5z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement(Uj,{d:"M152,231.7c-27.3-13.3-38.1-46.5-23.3-73.2c3.1-5.6-5.5-10.7-8.6-5c-17.3,31.2-5.3,71.1,26.9,86.9 C152.7,243.1,157.8,234.5,152,231.7L152,231.7z"}))))}}]),a}(n.Component),qj=Object(c.withI18n)()(Mj),Vj=a(1012),Bj=a(1013),Wj=a(1014),Gj=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={isHelpOpen:!1,isUserOpen:!1},n.handleHelpSelect=n.handleHelpSelect.bind(Object(ne.a)(n)),n.handleHelpToggle=n.handleHelpToggle.bind(Object(ne.a)(n)),n.handleUserSelect=n.handleUserSelect.bind(Object(ne.a)(n)),n.handleUserToggle=n.handleUserToggle.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"handleHelpSelect",value:function(){var e=this.state.isHelpOpen;this.setState({isHelpOpen:!e})}},{key:"handleUserSelect",value:function(){var e=this.state.isUserOpen;this.setState({isUserOpen:!e})}},{key:"handleHelpToggle",value:function(e){this.setState({isHelpOpen:e})}},{key:"handleUserToggle",value:function(e){this.setState({isUserOpen:e})}},{key:"render",value:function(){var e=this.state,t=e.isHelpOpen,a=e.isUserOpen,n=this.props,i=n.isAboutDisabled,l=n.onAboutClick,o=n.onLogoutClick,c=n.loggedInUser,s=n.i18n;return r.a.createElement(Vj.a,null,r.a.createElement(Bj.a,null,r.a.createElement(Ln.a,{position:"left",content:r.a.createElement("div",null,s._({id:"Info"}))},r.a.createElement(la.a,null,r.a.createElement(_a.a,{isPlain:!0,isOpen:t,position:ha.d.right,onSelect:this.handleHelpSelect,toggle:r.a.createElement(ya.a,{onToggle:this.handleHelpToggle,"aria-label":s._({id:"Info"})},r.a.createElement(fi.a,null)),dropdownItems:[r.a.createElement(va.a,{key:"help",target:"_blank",href:"https://docs.ansible.com/ansible-tower/latest/html/userguide/index.html"},s._({id:"Help"})),r.a.createElement(va.a,{key:"about",component:"button",isDisabled:i,onClick:l},s._({id:"About"}))]}))),r.a.createElement(Ln.a,{position:"left",content:r.a.createElement("div",null,s._({id:"User"}))},r.a.createElement(la.a,null,r.a.createElement(_a.a,{id:"toolbar-user-dropdown",isPlain:!0,isOpen:a,position:ha.d.right,onSelect:this.handleUserSelect,toggle:r.a.createElement(ya.a,{onToggle:this.handleUserToggle},r.a.createElement(Wj.a,null),c&&r.a.createElement("span",{style:{marginLeft:"10px"}},c.username)),dropdownItems:[r.a.createElement(va.a,{key:"user",href:c?"#/users/".concat(c.id,"/details"):"#/home"},s._({id:"User Details"})),r.a.createElement(va.a,{key:"logout",component:"button",onClick:o,id:"logout-button"},s._({id:"Logout"}))]})))))}}]),a}(n.Component);Gj.defaultProps={isAboutDisabled:!1};var Hj=Object(c.withI18n)()(Gj);function Jj(){var e=Object(S.a)(["\n  & .pf-c-page__header-brand-link {\n    color: inherit;\n\n    &:hover {\n      color: inherit;\n    }\n\n    & svg {\n      height: 76px;\n    }\n  }\n"]);return Jj=function(){return e},e}var Kj=Object(N.b)(lj.a)(Jj()),Yj=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(f.a)(this,a),n=t.call(this,e);var r="undefined"!==typeof window&&window.innerWidth>=parseInt(ij.b.value,10);return n.state={ansible_version:null,custom_virtualenvs:null,me:null,version:null,isAboutModalOpen:!1,isNavOpen:r,configError:null},n.handleLogout=n.handleLogout.bind(Object(ne.a)(n)),n.handleAboutClose=n.handleAboutClose.bind(Object(ne.a)(n)),n.handleAboutOpen=n.handleAboutOpen.bind(Object(ne.a)(n)),n.handleNavToggle=n.handleNavToggle.bind(Object(ne.a)(n)),n.handleConfigErrorClose=n.handleConfigErrorClose.bind(Object(ne.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(F.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConfig();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.history,e.next=3,Et.logout();case 3:t.replace("/login");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleAboutOpen",value:function(){this.setState({isAboutModalOpen:!0})}},{key:"handleAboutClose",value:function(){this.setState({isAboutModalOpen:!1})}},{key:"handleNavToggle",value:function(){this.setState((function(e){return{isNavOpen:!e.isNavOpen}}))}},{key:"handleConfigErrorClose",value:function(){this.setState({configError:null})}},{key:"loadConfig",value:function(){var e=Object(F.a)(U.a.mark((function e(){var t,a,n,r,i,l,o,c,s,u,d,m;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([nt.read(),ft.read()]);case 3:t=e.sent,a=Object(O.a)(t,2),n=a[0],r=a[1],i=n.data,l=i.ansible_version,o=i.custom_virtualenvs,c=i.project_base_dir,s=i.project_local_paths,u=i.version,d=Object(O.a)(r.data.results,1),m=d[0],this.setState({ansible_version:l,custom_virtualenvs:o,project_base_dir:c,project_local_paths:s,version:u,me:m}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({configError:e.t0});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.ansible_version,a=e.custom_virtualenvs,i=e.project_base_dir,l=e.project_local_paths,o=e.isAboutModalOpen,c=e.isNavOpen,s=e.me,u=e.version,d=e.configError,m=this.props,p=m.i18n,b=m.render,f=void 0===b?function(){}:b,h=m.routeGroups,v=void 0===h?[]:h,_=m.navLabel,y=void 0===_?"":_,E=r.a.createElement(Kj,{showNavToggle:!0,onNavToggle:this.handleNavToggle,logo:r.a.createElement(qj,null),logoProps:{href:"/"},toolbar:r.a.createElement(Hj,{loggedInUser:s,isAboutDisabled:!u,onAboutClick:this.handleAboutOpen,onLogoutClick:this.handleLogout})}),g=r.a.createElement(oj.a,{isNavOpen:c,theme:"dark",nav:r.a.createElement(cj.a,{"aria-label":y,theme:"dark"},r.a.createElement(sj.a,null,v.map((function(e){var t=e.groupId,a=e.groupTitle,n=e.routes;return r.a.createElement(yj,{key:t,groupId:t,groupTitle:a,routes:n})}))))});return r.a.createElement(n.Fragment,null,r.a.createElement(uj.a,{usecondensed:"True",header:E,sidebar:g},r.a.createElement(w,{value:{ansible_version:t,custom_virtualenvs:a,project_base_dir:i,project_local_paths:l,me:s,version:u}},f({routeGroups:v}))),r.a.createElement(fj,{ansible_version:t,version:u,isOpen:o,onClose:this.handleAboutClose}),r.a.createElement(Gn,{isOpen:d,variant:"error",title:p._({id:"Error!"}),onClose:this.handleConfigErrorClose},p._({id:"Failed to retrieve configuration."}),r.a.createElement(cn,{error:d})))}}]),a}(n.Component),Xj=Object(c.withI18n)()(Object(o.k)(Yj)),Zj=a(433),Qj=a.n(Zj),$j=a(434),eO=a.n($j),tO=function(e){Object(v.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.children,t={en:eO.a,ja:Qj.a},a=Ur(navigator).toLowerCase().split(/[_-]+/)[0];return r.a.createElement(D.a,{basename:"/next"},r.a.createElement(c.I18nProvider,{language:a,catalogs:t},e))}}]),a}(n.Component);function aO(e){var t=document.getElementById("app");document.title="Ansible ".concat("AWX");var a=r.a.createElement(o.b,{exact:!0,strict:!0,path:"/*/",render:function(e){var t=e.history.location,a=t.pathname,n=t.search,i=t.hash;return r.a.createElement(o.a,{to:"".concat(a.slice(0,-1)).concat(n).concat(i)})}}),n=function(){return s(document.cookie)?r.a.createElement(o.a,{to:"/home"}):r.a.createElement(o.d,null,a,r.a.createElement(o.b,{path:"/login",render:function(){return r.a.createElement(fh,{isAuthenticated:s})}}),r.a.createElement(o.a,{to:"/login"}))};return e(r.a.createElement(tO,null,r.a.createElement(c.I18n,null,(function(e){var t=e.i18n;return r.a.createElement(b,null,r.a.createElement(o.d,null,a,r.a.createElement(o.b,{path:"/login",render:n}),r.a.createElement(o.b,{exact:!0,path:"/",render:n}),r.a.createElement(o.b,{render:function(){return s(document.cookie)?r.a.createElement(Xj,{navLabel:t._({id:"Primary Navigation"}),routeGroups:[{groupTitle:t._({id:"Views"}),groupId:"views_group",routes:[{title:t._({id:"Dashboard"}),path:"/home",component:Zl},{title:t._({id:"Jobs"}),path:"/jobs",component:oh},{title:t._({id:"Schedules"}),path:"/schedules",component:w_},{title:t._({id:"My View"}),path:"/portal",component:Zh}]},{groupTitle:t._({id:"Resources"}),groupId:"resources_group",routes:[{title:t._({id:"Templates"}),path:"/templates",component:Lg},{title:t._({id:"Credentials"}),path:"/credentials",component:Jl},{title:t._({id:"Projects"}),path:"/projects",component:k_},{title:t._({id:"Inventories"}),path:"/inventories",component:im},{title:t._({id:"Hosts"}),path:"/hosts",component:Tu},{title:t._({id:"Inventory Scripts"}),path:"/inventory_scripts",component:om}]},{groupTitle:t._({id:"Access"}),groupId:"access_group",routes:[{title:t._({id:"Organizations"}),path:"/organizations",component:Yh},{title:t._({id:"Users"}),path:"/users",component:nj},{title:t._({id:"Teams"}),path:"/teams",component:ey}]},{groupTitle:t._({id:"Administration"}),groupId:"administration_group",routes:[{title:t._({id:"Credential Types"}),path:"/credential_types",component:Yl},{title:t._({id:"Notifications"}),path:"/notification_templates",component:yh},{title:t._({id:"Management Jobs"}),path:"/management_jobs",component:vh},{title:t._({id:"Instance Groups"}),path:"/instance_groups",component:Du},{title:t._({id:"Integrations"}),path:"/applications",component:j}]},{groupTitle:t._({id:"Settings"}),groupId:"settings_group",routes:[{title:t._({id:"Authentication"}),path:"/auth_settings",component:S_},{title:t._({id:"Jobs"}),path:"/jobs_settings",component:T_},{title:t._({id:"System"}),path:"/system_settings",component:D_},{title:t._({id:"User Interface"}),path:"/ui_settings",component:L_},{title:t._({id:"License"}),path:"/license",component:A_}]}],render:function(e){var t=e.routeGroups.reduce((function(e,t){var a=t.routes;return e.concat(a)}),[]).map((function(e){var t=e.component,a=e.path;return r.a.createElement(o.b,{key:a,path:a,render:function(e){var a=e.match;return r.a.createElement(t,{match:a})}})}));return t.push(r.a.createElement(o.b,{key:"not-found",path:"*",component:rj})),r.a.createElement(o.d,null,t)}}):r.a.createElement(o.a,{to:"/login"})}})))}))),t||document.createElement("div"))}aO(l.a.render)}},[[486,1,2]]]);
//# sourceMappingURL=main.52ec5b2d.chunk.js.map